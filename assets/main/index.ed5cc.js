System.register("chunks:///_virtual/AdBtnState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameCtr.ts"],(function(t){var n,e,o,r,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Component},function(t){i=t.default}],execute:function(){var a;e._RF.push({},"2a929PtKXdGSLjHNnJLzKxy","AdBtnState",void 0);var c=o.ccclass;o.property;e._RF.push({},"d7d66tqC0JKNb8bkVioCfCL","AdBtnState",void 0);t("AdBtnState",c("AdBtnState")(a=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){this.node.active=0==i.playCf.isNoAd},e}(r))||a);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/AdCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameCtr.ts","./UIYesNo.ts","./UIHelp.ts","./UIMng.ts","./WaitUI.ts","./EventMng.ts","./NativeAd.ts","./NativeBannerAd.ts","./SdkManager.ts"],(function(e){var o,n,t,a,i,d,r,s,l,c,h,A,w,u,v,_,f,g,C,B,b,I,S,p,N,k;return{setters:[function(e){o=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createClass},function(e){d=e.cclegacy,r=e._decorator,s=e.Node,l=e.v2,c=e.view,h=e.Size,A=e.Rect,w=e.native,u=e.Component},function(e){v=e.EGamePlatform,_=e.ETJEventName,f=e.EGameEvent},function(e){g=e.default},function(e){C=e.UIYesNo},function(e){B=e.default},function(e){b=e.UIMng},function(e){I=e.WaitUI},function(e){S=e.EventMng},function(e){p=e.NativeAd},function(e){N=e.NativeBannerAd},function(e){k=e.default}],execute:function(){var V,y,m,O,D,E,T,L,R,U,P,x;d._RF.push({},"d23d1Y40t9E+qII2iSm+00u","AdCtr",void 0);var Q=r.ccclass,W=r.property;d._RF.push({},"d23d1Y40t9E+qII2iSm+00u","AdCtr",void 0);e("AdCtr",(V=Q("AdCtr"),y=W(s),m=W(s),O=W(s),D=W(s),V(((x=function(e){function o(){for(var o,n=arguments.length,i=new Array(n),d=0;d<n;d++)i[d]=arguments[d];return o=e.call.apply(e,[this].concat(i))||this,t(o,"nativeAdNode",L,a(o)),t(o,"nativeBannerAdNode",R,a(o)),t(o,"insertAdNode",U,a(o)),t(o,"oppobtnNode",P,a(o)),o._bannerAd=null,o._rewardAd=null,o._videoCallBack=null,o._canShowAd=!0,o._startTime=0,o._isShowBanner=!1,o._showVideoTime=0,o._isVideoLoaded=!1,o._isVideoLoadShow=!1,o._isLoadOk=!1,o._isLoadEndPlay=!1,o._curNativeAdData={},o._isNeedReloadNativeData=!1,o._loadNativeDataCb=null,o._isShowAndroidBanner=!1,o._isShowIOSBanner=!1,o._interstitiaAd=null,o._interstitiaNewTime=0,o}n(o,e);var d=o.prototype;return d.onLoad=function(){o.ins=this,this._startTime=this.getLocalTime(),this.oppobtnNode&&(this.oppobtnNode.active=!1),g.platform==v.Android&&this.oppobtnNode&&B.onRegisterBtnEvent(this.oppobtnNode,(function(){k.onCallAndroidFun("jumpLeisureSubject","()V")}))},d.init=function(){var e=this;this.oppobtnNode&&(this.oppobtnNode.active=g.platform==v.Android);var o=g.playCf.videoId;if(console.log("videoId",o),o&&o.length>0)switch(g.platform){case v.TT:break;case v.WeChat:this.loadRewardAdWX(o),this.loadInsertWx();break;case v.QQ:this.loadRewardAdQQ(o),this.loadInsertQQ();break;case v.OPPO:this.loadRewardAdOPPO(o),this.loadNativeAdData();break;case v.VIVO:this._canShowAd=!1,this.scheduleOnce((function(){e._canShowAd=!0,e.loadNativeAdData()}),60),this.loadRewardAdVIVO(o);break;case v.Android:this.loadRewardAdAndroid(o);break;case v.IOS:this.loadRewardAdIOS();break;case v.KS:this.loadRewardAdKS(o),this.loadInsertKS();break;case v.UC:this.loadRewardAdUC(o),this.loadInsertUC()}},d.showBanner=function(){if(console.log("showBanner"),this._canShowAd){this._isShowBanner=!0;var e=g.playCf.bannerId;if(console.log("showBanner",e),e&&e.length>0)switch(g.platform){case v.TT:this.showBannerTT(e);break;case v.WeChat:this.showBannerWX(e);break;case v.QQ:this.showBannerQQ(e);break;case v.OPPO:case v.VIVO:this.showNativeBanner();break;case v.Android:this.showBannerAndroid();break;case v.IOS:this.showBannerIOS();break;case v.UC:this.showBannerUC()}}},d.hideBanner=function(){this._isShowBanner=!1,g.platform==v.Android?this.hideBannerAndroid():g.platform==v.IOS?this.hideBannerIOS():g.platform==v.OPPO||g.platform==v.VIVO?this.hideNativeBanner():this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null)},d.showVideo=function(e,o){var n=this;return void 0===e&&(e=""),void 0===o&&(o=0),new Promise((function(t){var a=n.getLocalTime();if(a-n._showVideoTime<o)return console.log("视频间隔检查：距离上次视频展示低于",o),void t(!1);k.sendEvent(_.Video,{name:e});var i=function(){switch(n._showVideoTime=a,g.platform){case v.TT:n.showVideoTT(e);break;case v.WeChat:n.showVideoWX();break;case v.QQ:n.showVideoQQ();break;case v.OPPO:n.showVideoOPPO();break;case v.VIVO:S.emit(f.AUDIO_CHANGE,!1),n.showVideoVIVO();break;case v.Android:n.showVideoAndroid();break;case v.IOS:n.showVideoIOS();break;case v.KS:n.showVideoKS();break;case v.UC:n.showVideoUC();break;default:setTimeout((function(){n._videoCallBack&&n._videoCallBack(!0)}),1e3)}};n._videoCallBack=function(n){void 0===n&&(n=!1),I.hide(),n?(k.sendEvent(_.VideoEnd,{name:e}),t(!0)):!o&&g.playCf.videoNoShowYesNo?b.ins.openUI(C,{des:"视频播放完成才能领取奖励!",btnLabs:["领取奖励","不要奖励"]},(function(e){void 0===e&&(e=!1),e?i():t(!1)})):t(!1),g.platform==v.VIVO&&S.emit(f.AUDIO_CHANGE,!0)},console.log("showVideo",g.platform),g.playCf.isNoAd?n._videoCallBack(!0):(I.show("广告加载中"),i())}))},d.showInsertAd=function(e){void 0===e&&(e="");var o=this.getLocalTime();if(o-this._interstitiaNewTime<(g.playCf.insertSch||60))return console.log("插屏广告需要距离上一次展示60s"),!1;this._interstitiaNewTime=o;var n=!1;switch(g.platform){case v.Android:n=this.showInsertAndroid();break;case v.TT:n=this.showInsertTT();break;case v.QQ:n=this.showInsertQQ();break;case v.WeChat:n=this.showInsertWx();break;case v.KS:n=this.showInsertKS();break;case v.IOS:n=this.showInsertIOS();break;case v.OPPO:case v.VIVO:n=this.showNativeInsert(!0);break;case v.UC:n=this.showInsertUC()}return n&&k.sendEvent(_.InsertAd,{name:e}),n},d.showInsertOrVideo=function(e){var n;if(void 0===e&&(e=""),g.playCf.showAdStage,null==(n=o.ins)||!n.showInsertAd(e))if(g.playCf.isVideoWc){var t,a=g.playCf.videoCheckInterval||60;null==(t=o.ins)||t.showVideo("无插屏弹视频"+e,a)}else console.log("开关没开")},d.rateApp=function(){switch(g.platform){case v.Android:this.rateAppAndroid()}},d.getRect=function(){var e=l(0,75-c.getCanvasSize().height),o=new h(c.getCanvasSize().width,150);return new A(e.x-.5*o.width,e.y-.5*o.height,o.width,o.height)},d.showBannerTT=function(e){var o=this;this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null);var n=tt.getSystemInfoSync(),t=c.getFrameSize(),a=this.getRect(),i=a.width*this.whScale.x,d=a.height*this.whScale.y,r=l(a.x+.5*a.width,a.y+.5*a.height),s=.5*t.height-r.y*this.whScale.y-.5*d,h={adUnitId:e,adIntervals:30,style:{left:r.x*this.whScale.x-.5*i+.5*t.width,top:s,width:i,height:d}};console.log("bannerAd createBannerAd",h);var A=tt.createBannerAd(h);this._bannerAd=A,A.onResize((function(e){n&&(o._bannerAd.style.left=n.screenWidth/2-e.width/2+r.x*o.whScale.x,o._bannerAd.style.top=n.screenHeight-e.height)})),A.onError((function(e){console.error("bannerAd",e)})),A.onLoad((function(){console.time("BannerShowTime"),o._bannerAd.show().then((function(){console.timeEnd("BannerShowTime")})).catch((function(e){console.log("广告组件出现问题",e)}))}))},d.loadRewardAdTT=function(e){var o=this;tt.createRewardedVideoAd&&!this._rewardAd&&(this._rewardAd=tt.createRewardedVideoAd({adUnitId:e}),this._rewardAd&&(this._rewardAd.onLoad((function(){console.log("激励视频 广告加载成功")})),this._rewardAd.onClose((function(e){e&&e.isEnded||void 0===e?o._videoCallBack&&o._videoCallBack(!0):(console.log("播放中途退出，不下发游戏奖励video no play end =>",e),o._videoCallBack&&o._videoCallBack(!1))})),this._rewardAd.onError((function(e){console.log("video err =>",e),o._videoCallBack&&o._videoCallBack(!1),e&&e.errCode&&k.sendEvent(_.VideoError,{name:"errCode:"+e.errCode}),tt.showToast({title:"暂无合适广告，请稍后再试!",icon:"none"})}))))},d.showVideoTT=function(e){var o=this;console.log("showVideoTT"),this._rewardAd&&this._rewardAd.show().then((function(){k.sendEvent(_.VideoShow,{name:e}),console.log("激励视频 广告显示")})).catch((function(e){o._rewardAd.load().then((function(){return o._rewardAd.show()})),k.sendEvent(_.VideoError,{name:"showErrCode:"+(e.errCode||(e.data?e.data.errCode:e))})}))},d.showBannerWX=function(e){var o=this;this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null);var n=wx.getSystemInfoSync(),t=c.getFrameSize(),a=this.getRect(),i=a.width*this.whScale.x,d=a.height*this.whScale.y,r=l(a.x+.5*a.width,a.y+.5*a.height),s=.5*t.height-r.y*this.whScale.y-.5*d,h={adUnitId:e,adIntervals:30,style:{left:r.x*this.whScale.x-.5*i+.5*t.width,top:s,width:i,height:d}};console.log("bannerAd createBannerAd",h);var A=wx.createBannerAd(h);this._bannerAd=A,A.onResize((function(e){n&&(o._bannerAd.style.left=n.screenWidth/2-e.width/2+r.x*o.whScale.x,o._bannerAd.style.top=n.screenHeight-e.height)})),A.onError((function(e){console.error("bannerAd",e)})),A.onLoad((function(){console.time("BannerShowTime"),o._bannerAd.show().then((function(){console.timeEnd("BannerShowTime")})).catch((function(e){console.log("广告组件出现问题",e)}))}))},d.loadRewardAdWX=function(e){var o=this;wx.createRewardedVideoAd&&!this._rewardAd&&(this._rewardAd=wx.createRewardedVideoAd({adUnitId:e}),this._rewardAd&&(this._rewardAd.onLoad((function(){console.log("激励视频 广告加载成功")})),this._rewardAd.onClose((function(e){e&&e.isEnded||void 0===e?o._videoCallBack&&o._videoCallBack(!0):(console.log("播放中途退出，不下发游戏奖励video no play end =>",e),o._videoCallBack&&o._videoCallBack(!1))})),this._rewardAd.onError((function(e){console.log("video err =>",e),o._videoCallBack&&o._videoCallBack(!1)}))))},d.showVideoWX=function(){var e=this;console.log("showVideo WX"),this._rewardAd&&this._rewardAd.show().then((function(){console.log("激励视频 广告显示")})).catch((function(){e._rewardAd.load().then((function(){return e._rewardAd.show()}))}))},d.showBannerQQ=function(e){var o=this;this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null);var n=qq.getSystemInfoSync(),t=c.getFrameSize(),a=this.getRect(),i=a.width*this.whScale.x,d=a.height*this.whScale.y,r=l(a.x+.5*a.width,a.y+.5*a.height),s=.5*t.height-r.y*this.whScale.y-.5*d,h={adUnitId:e,adIntervals:30,style:{left:r.x*this.whScale.x-.5*i+.5*t.width,top:s,width:i,height:d}};console.log("bannerAd createBannerAd",h);var A=qq.createBannerAd(h);this._bannerAd=A,A.onResize((function(e){n&&(o._bannerAd.style.left=n.screenWidth/2-e.width/2+r.x*o.whScale.x,o._bannerAd.style.top=n.screenHeight-e.height)})),A.onError((function(e){console.error("bannerAd",e)})),A.onLoad((function(){console.time("BannerShowTime"),o._bannerAd.show().then((function(){console.timeEnd("BannerShowTime")})).catch((function(e){console.log("广告组件出现问题",e)}))}))},d.loadRewardAdQQ=function(e){var o=this;qq.createRewardedVideoAd&&!this._rewardAd&&(this._rewardAd=qq.createRewardedVideoAd({adUnitId:e}),this._rewardAd&&(this._rewardAd.onLoad((function(){console.log("激励视频 广告加载成功")})),this._rewardAd.onClose((function(e){e&&e.isEnded||void 0===e?o._videoCallBack&&o._videoCallBack(!0):(console.log("播放中途退出，不下发游戏奖励video no play end =>",e),o._videoCallBack&&o._videoCallBack(!1))})),this._rewardAd.onError((function(e){console.log("video err =>",e),o._videoCallBack&&o._videoCallBack(!1)}))))},d.showVideoQQ=function(){var e=this;console.log("showVideo qq"),this._rewardAd&&this._rewardAd.show().then((function(){console.log("激励视频 广告显示")})).catch((function(){e._rewardAd.load().then((function(){return e._rewardAd.show()}))}))},d.loadRewardAdOPPO=function(e){var o=this;qg.createRewardedVideoAd&&!this._rewardAd&&(this._rewardAd=qg.createRewardedVideoAd({adUnitId:e}),this._rewardAd&&(this._rewardAd.onLoad((function(){console.log("激励视频 广告加载成功",o._isVideoLoadShow),o._isVideoLoadShow?(o._isVideoLoadShow=!1,o._rewardAd.show()):o._isVideoLoaded=!0})),this._rewardAd.onClose((function(e){e&&e.isEnded||void 0===e?o._videoCallBack&&o._videoCallBack(!0):(console.log("播放中途退出，不下发游戏奖励video no play end =>",e),o._videoCallBack&&o._videoCallBack(!1)),o._isVideoLoadShow=!1,o._rewardAd.load()})),this._rewardAd.onError((function(e){console.log("video err =>",e),o._videoCallBack&&o._videoCallBack(!1),o._isVideoLoadShow=!1,o._rewardAd.load()}))))},d.showVideoOPPO=function(){console.log("showVideo oppo"),this._rewardAd&&(this._isVideoLoaded?(this._isVideoLoaded=!1,this._isVideoLoadShow=!1,this._rewardAd.show()):(this._isVideoLoadShow=!0,this._rewardAd.load()))},d.showBannerVIVO=function(e){var o=this;this._bannerAd&&this.hideBanner();var n={posId:e,style:{}};console.log("bannerAd createBannerAd",n);var t=qg.createBannerAd(n);this._bannerAd=t,this._bannerAd.onClose((function(){o._bannerAd.destroy(),o._bannerAd=null}));var a=this._bannerAd.show();a&&a.then((function(){var e;console.log("banner广告展示成功"),null!=(e=o.nativeAdNode)&&e.active&&o.hideBanner()})).catch((function(n){switch(n.code){case 30003:console.log("新用户1天内不能曝光Banner，请将手机时间调整为1天后，退出游戏重新进入");break;case 30009:console.log("10秒内调用广告次数超过1次，10秒后再调用");break;case 30002:console.log("加载广告失败，重新加载广告");break;default:if(console.log("banner广告展示失败"),console.log(JSON.stringify(n)),n&&n.data&&3e4==n.data.errCode){var t=o._bannerAd.destroy();t&&t.then((function(){console.log("banner广告销毁成功"),o.showBannerVIVO(e)})).catch((function(e){console.log("banner广告销毁失败",e)})),o._bannerAd=null}}}))},d.loadRewardAdVIVO=function(e){var o=this;qg.createRewardedVideoAd&&!this._rewardAd&&(this._rewardAd=qg.createRewardedVideoAd({posId:e}),this._rewardAd&&(this._rewardAd.onLoad((function(){console.log("激励视频 广告加载成功"),o._isLoadOk=!0,o._isLoadEndPlay&&o.onPlay()})),this._rewardAd.onClose((function(e){e&&e.isEnded?o._videoCallBack&&o._videoCallBack(!0):(console.log("播放中途退出，不下发游戏奖励video no play end =>",e),o._videoCallBack&&o._videoCallBack(!1))})),this._rewardAd.onError((function(e){switch(console.log("video err =>",e),o._videoCallBack&&o._videoCallBack(!1),e.errCode){case-3:console.log("激励广告加载失败---调用太频繁",JSON.stringify(e));break;case-4:console.log("激励广告加载失败--- 一分钟内不能重复加载",JSON.stringify(e));break;case 30008:break;default:console.log("激励广告展示失败"),console.log(JSON.stringify(e))}}))))},d.showVideoVIVO=function(){var e=this;if(console.log("showVideo vivo"),this._isLoadOk)this._isLoadOk=!1,this.onPlay();else{this._isLoadEndPlay=!0;var o=this._rewardAd.load();o&&o.catch((function(o){console.log("激励广告load失败"+JSON.stringify(o)),e._videoCallBack&&e._videoCallBack(!1)}))}},d.onPlay=function(){var e=this;this._isLoadEndPlay=!1;var o=this._rewardAd.show();o&&o.then((function(){console.log("激励视频广告显示成功")})).catch((function(o){console.log("激励广告展示失败"+JSON.stringify(o)),e._videoCallBack&&e._videoCallBack(!1),e._isLoadOk=!1,e.showVideoVIVO()}))},d.getNativeAdData=function(){var e=this;return new Promise((function(o){e._curNativeAdData.nativeCurrentAd&&!e._isNeedReloadNativeData?(o(e._curNativeAdData),e._isNeedReloadNativeData=!0):e.loadNativeAdData((function(n){e._isNeedReloadNativeData=!0,o(n)}))}))},d.loadNativeAdData=function(e){var o=this,n=g.playCf.nativeId||"";if(""!=n)if(console.log("getNativeAdData load"),this._loadNativeDataCb=e||null,g.platform==v.VIVO){var t=qg.createNativeAd({posId:n});this._curNativeAdData.nativeAd=t,t.onLoad((function(e){if(console.log("原生广告加载完成-onload触发",JSON.stringify(e)),e&&e.adList){var n=e.adList.pop();t.reportAdShow({adId:n.adId.toString()}),o._curNativeAdData={nativeAd:t,nativeCurrentAd:n},o._isNeedReloadNativeData=!1,o._loadNativeDataCb&&o._loadNativeDataCb(o._curNativeAdData)}else o._curNativeAdData?o._loadNativeDataCb&&o._loadNativeDataCb(o._curNativeAdData):o._loadNativeDataCb&&o._loadNativeDataCb()})),t.onError((function(e){console.log("原生广告加载异常",e),o._curNativeAdData?o._loadNativeDataCb&&o._loadNativeDataCb(o._curNativeAdData):o._loadNativeDataCb&&o._loadNativeDataCb()}))}else{if(!this._curNativeAdData.nativeAd){var a=qg.createNativeAd({adUnitId:n});this._curNativeAdData.nativeAd=a,a.onLoad((function(e){if(console.log("原生广告加载完成-onload触发",JSON.stringify(e)),e&&e.adList){var n=e.adList.pop();a.reportAdShow({adId:n.adId.toString()}),o._curNativeAdData.nativeCurrentAd=n,o._isNeedReloadNativeData=!1,o._loadNativeDataCb&&o._loadNativeDataCb(o._curNativeAdData)}else o._curNativeAdData.nativeCurrentAd?o._loadNativeDataCb&&o._loadNativeDataCb(o._curNativeAdData):o._loadNativeDataCb&&o._loadNativeDataCb()})),a.onError((function(e){console.log("原生广告加载异常",e),o._curNativeAdData.nativeCurrentAd?o._loadNativeDataCb&&o._loadNativeDataCb(o._curNativeAdData):o._loadNativeDataCb&&o._loadNativeDataCb()}))}this._curNativeAdData.nativeAd.load()}else e&&e()},d.showNativeAd=function(e,o){var n,t=this;(void 0===e&&(e=!1),(g.platform==v.OPPO||g.platform==v.VIVO)&&this._canShowAd&&this.nativeAdNode)&&(e?this.getNativeAdData().then((function(e){var o;e&&(console.log("nativeAd onShow"),t.nativeAdNode.active=!0,null==(o=t.nativeAdNode.getComponentInChildren(p))||o.show(e),t.hideNativeBanner())})):(null==(n=this.nativeAdNode.getComponentInChildren(p))||n.onClose(),this.nativeAdNode.active=!1))},d.showNativeInsert=function(e){var o=this;if(void 0===e&&(e=!1),g.platform!=v.OPPO&&g.platform!=v.VIVO)return!1;var n,t=g.playCf.insertId||"";if(!t||""==t)return!1;if(!this._canShowAd||!this.insertAdNode)return!1;e?this.getNativeAdData().then((function(e){var n;e&&(console.log("nativeInsert onShow"),o.insertAdNode.active=!0,null==(n=o.insertAdNode.getComponentInChildren(p))||n.show(e,!0),o.hideNativeBanner())})):(null==(n=this.insertAdNode.getComponentInChildren(p))||n.onClose(),this.insertAdNode.active=!1);return!0},d.showNativeBanner=function(){var e=this;this._canShowAd&&this.nativeBannerAdNode&&this.getNativeAdData().then((function(o){var n;o&&(console.log("nativeBannerAd onShow"),e.nativeBannerAdNode.active=!0,null==(n=e.nativeBannerAdNode.getComponentInChildren(N))||n.show(o))}))},d.hideNativeBanner=function(){var e;this.nativeBannerAdNode&&(null==(e=this.nativeBannerAdNode.getComponentInChildren(N))||e.onClose(),this.nativeBannerAdNode.active=!1)},d.showBannerAndroid=function(){console.log("showBannerAndroid"),this._isShowAndroidBanner||(this._isShowAndroidBanner=!0,console.log("showBanner Android"),k.onCallAndroidFun("showBanner","()V"))},d.hideBannerAndroid=function(){this._isShowAndroidBanner=!1,k.onCallAndroidFun("hideBanner","()V"),this.unscheduleAllCallbacks()},d.loadRewardAdAndroid=function(e){var o=this;k.videoCallBack=function(e){switch(e){case"show":console.log("激励视频 开始播放");break;case"complete":break;case"end":o._videoCallBack&&o._videoCallBack(!0),o._videoCallBack=null;break;case"close":o._videoCallBack&&o._videoCallBack(!1);break;case"no":case"error":o._videoCallBack&&o._videoCallBack(!1),o._videoCallBack=null}}},d.showVideoAndroid=function(){console.log("showVideo Android"),k.onCallAndroidFun("showVideoAd","()V")},d.showInsertAndroid=function(){return console.log("showInsertAndroid"),k.onCallAndroidFun("showInsertAd","()V")},d.rateAppAndroid=function(){console.log("rateApp Android"),k.onCallAndroidFun("rateApp","()V")},d.showBannerIOS=function(){console.log("showBannerIOS"),this._isShowIOSBanner||(this._isShowIOSBanner=!0,console.log("showBanner IOS"),w.reflection.callStaticMethod("AppDelegate","showBanner"))},d.hideBannerIOS=function(){this._isShowIOSBanner=!1,w.reflection.callStaticMethod("AppDelegate","hideBanner"),this.unscheduleAllCallbacks()},d.loadRewardAdIOS=function(){var e=this;k.videoCallBack=function(o){switch(o){case"show":console.log("激励视频 开始播放");break;case"complete":break;case"end":e._videoCallBack&&e._videoCallBack(!0);break;case"close":case"no":case"error":e._videoCallBack&&e._videoCallBack(!1)}}},d.showVideoIOS=function(){console.log("showVideo IOS"),w.reflection.callStaticMethod("AppDelegate","showVideoAd")},d.showInsertIOS=function(){return console.log("showInsert IOS"),w.reflection.callStaticMethod("AppDelegate","showInsert"),!0},d.getLocalTime=function(e){return void 0===e&&(e=0),Math.floor((new Date).getTime()*(0==e?.001:1))},d.showInsertTT=function(){var e=g.playCf.insertId||"";if(!e||""==e)return!1;try{if(this.getLocalTime()-this._startTime<30)return console.log("小游戏启动后的前30s（秒），不能展示插屏广告"),!1;this._interstitiaAd&&(this._interstitiaAd.destroy(),this._interstitiaAd=null);var o=tt.createInterstitialAd({adUnitId:e});this._interstitiaAd=o,o.onLoad((function(){o.show().then((function(){console.log("插屏广告展示成功")}))})),o.onError((function(e){console.log("插屏广告展示onError",e)}))}catch(e){console.log("插屏广告",e)}return!0},d.loadRewardAdKS=function(e){var o=this;ks.createRewardedVideoAd&&!this._rewardAd&&(this._rewardAd=ks.createRewardedVideoAd({adUnitId:e}),this._rewardAd&&(this._rewardAd.onLoad((function(){console.log("激励视频 广告加载成功")})),this._rewardAd.onClose((function(e){e&&e.isEnded||void 0===e?o._videoCallBack&&o._videoCallBack(!0):(console.log("播放中途退出，不下发游戏奖励video no play end =>",e),o._videoCallBack&&o._videoCallBack(!1))})),this._rewardAd.onError((function(e){console.log("video err =>",e),o._videoCallBack&&o._videoCallBack(!1)}))))},d.showVideoKS=function(){var e=this;console.log("showVideo WX"),this._rewardAd&&this._rewardAd.show().then((function(){console.log("激励视频 广告显示")})).catch((function(){e._rewardAd.load().then((function(){return e._rewardAd.show()}))}))},d.loadInsertQQ=function(){var e=g.playCf.insertId||"";if(!e||""==e)return!1;try{this._interstitiaAd&&(this._interstitiaAd.destroy(),this._interstitiaAd=null);var o=qq.createInterstitialAd({adUnitId:e});this._interstitiaAd=o,o.onLoad((function(){console.log("插屏广告load")})),o.onError((function(e){console.log("插屏广告展示onError",e)}))}catch(e){console.log("插屏广告",e)}return!0},d.showInsertQQ=function(){return this._interstitiaAd?this.getLocalTime()-this._startTime<30?(console.log("小游戏启动后的前30s（秒），不能展示插屏广告"),!1):(this._interstitiaAd.show().then((function(){console.log("插屏广告展示成功")})),!0):(this.loadInsertQQ(),!1)},d.loadInsertWx=function(){var e=g.playCf.insertId||"";if(!e||""==e)return!1;try{this._interstitiaAd&&(this._interstitiaAd.destroy(),this._interstitiaAd=null);var o=wx.createInterstitialAd({adUnitId:e});this._interstitiaAd=o,o.onLoad((function(){console.log("插屏广告load")})),o.onError((function(e){console.log("插屏广告展示onError",e)}))}catch(e){console.log("插屏广告",e)}return!0},d.showInsertWx=function(){return this._interstitiaAd?(this._interstitiaAd.show().then((function(){console.log("插屏广告展示成功")})),!0):(this.loadInsertWx(),!1)},d.loadInsertKS=function(){var e=g.playCf.insertId||"";if(!e||""==e)return!1;try{this._interstitiaAd&&(this._interstitiaAd.destroy(),this._interstitiaAd=null);var o=ks.createInterstitialAd({adUnitId:e});this._interstitiaAd=o,o.onError((function(e){console.log("插屏广告展示onError",e)}))}catch(e){console.log("插屏广告",e)}return!0},d.showInsertKS=function(){return this._interstitiaAd?(this._interstitiaAd.show().then((function(){console.log("插屏广告展示成功")})),!0):(this.loadInsertKS(),!1)},d.loadRewardAdUC=function(e){var o=this;uc.createRewardVideoAd&&!this._rewardAd&&(this._rewardAd=uc.createRewardVideoAd(),this._rewardAd&&(this._rewardAd.onLoad((function(){console.log("激励视频 广告加载成功")})),this._rewardAd.onClose((function(e){e&&e.isEnded?o._videoCallBack&&o._videoCallBack(!0):(console.log("播放中途退出，不下发游戏奖励video no play end =>",e),o._videoCallBack&&o._videoCallBack(!1))})),this._rewardAd.onError((function(e){console.log("video err =>",e),o._videoCallBack&&o._videoCallBack(!1)}))))},d.showVideoUC=function(){var e=this;console.log("showVideo WX"),this._rewardAd&&this._rewardAd.show().then((function(){console.log("激励视频 广告显示")})).catch((function(){e._rewardAd.load().then((function(){return e._rewardAd.show()}))}))},d.loadInsertUC=function(){var e=this,o=g.playCf.insertId||"";if(!o||""==o)return!1;try{this._interstitiaAd&&(this._interstitiaAd.destroy(),this._interstitiaAd=null);var n=uc.createInterstitialAd();this._interstitiaAd=n,n.onClose((function(o){o&&o.isEnded,e._interstitiaAd&&e._interstitiaAd.load()})),n.onError((function(e){console.log("插屏广告展示onError",e)}))}catch(e){console.log("插屏广告",e)}return!0},d.showInsertUC=function(){return this._interstitiaAd?(this._interstitiaAd.show().then((function(){console.log("插屏广告展示成功")})),!0):(this.loadInsertKS(),!1)},d.showBannerUC=function(){var e=this;this._bannerAd&&(this._bannerAd.destroy(),this._bannerAd=null);var o={style:{width:this.getRect().width*this.whScale.x,gravity:7}};console.log("bannerAd createBannerAd",o);var n=uc.createBannerAd(o);this._bannerAd=n,n.onError((function(e){console.error("bannerAd",e)})),n.onLoad((function(){console.time("BannerShowTime"),e._isShowBanner&&e._bannerAd.show().then((function(){console.timeEnd("BannerShowTime"),e._isShowBanner||e._bannerAd.hide()})).catch((function(e){console.log("广告组件出现问题",e)}))}))},i(o,[{key:"whScale",get:function(){var e=c.getVisibleSize(),o=c.getFrameSize();return l(o.width/e.width,o.height/e.height)}}]),o}(u)).ins=null,L=o((T=x).prototype,"nativeAdNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=o(T.prototype,"nativeBannerAdNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=o(T.prototype,"insertAdNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=o(T.prototype,"oppobtnNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=T))||E));d._RF.pop(),d._RF.pop()}}}));

System.register("chunks:///_virtual/AddPrefabNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,i,r,n,a,l,d,s,p,u;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,l=e.Prefab,d=e.Node,s=e.instantiate,p=e.Component,u=e.v3}],execute:function(){var c,f,b,h,N,y,_,v,m,w,P,g,R;n._RF.push({},"0bd5dCbUrRJX7HKEtN258VU","AddPrefabNode",void 0);var z=a.ccclass,A=a.property;n._RF.push({},"6d67ePa1kZAa6dVY6BalYyV","AddPrefabNode",void 0);e("AddPrefabNode",(c=z("AddPrefabNode"),f=A({type:l,tooltip:"创建的prefab"}),b=A({type:d,tooltip:"父节点"}),h=A({tooltip:"位置"}),N=A({tooltip:"是否显示加载"}),y=A({tooltip:"是否掩藏清除"}),c((m=o((v=function(e){function o(){for(var o,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return o=e.call.apply(e,[this].concat(n))||this,i(o,"prefab",m,r(o)),i(o,"parentNode",w,r(o)),i(o,"pos",P,r(o)),i(o,"isShowLoad",g,r(o)),i(o,"isHideRemove",R,r(o)),o._loadNode=null,o}t(o,e);var n=o.prototype;return n.start=function(){this.isShowLoad||this.onCreateNode()},n.onEnable=function(){this.isShowLoad&&this.onCreateNode()},n.onDisable=function(){this.isHideRemove&&this._loadNode&&(this._loadNode.destroy(),this._loadNode=null)},n.onCreateNode=function(){this._loadNode||(this._loadNode=s(this.prefab),this._loadNode.parent=this.parentNode||this.node,this._loadNode.setPosition(this.pos))},o}(p)).prototype,"prefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=o(v.prototype,"parentNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=o(v.prototype,"pos",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u(0,0,0)}}),g=o(v.prototype,"isShowLoad",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=o(v.prototype,"isHideRemove",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=v))||_));n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/AlignCameraToCanvas.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(a){var e,t,r,n,i;return{setters:[function(a){e=a.inheritsLoose},function(a){t=a.cclegacy,r=a._decorator,n=a.view,i=a.Camera}],execute:function(){var o;t._RF.push({},"56e21R4KO1EArLk6TlvJA+C","AlignCameraToCanvas",void 0);var s=r.ccclass;r.property;t._RF.push({},"b33faTkNTlFWpHtRqHUlV49","AlignCameraToCanvas",void 0);a("AlignCameraToCanvas",s("AlignCameraToCanvas")(o=function(a){function t(){return a.apply(this,arguments)||this}return e(t,a),t.prototype.start=function(){this.camera.orthoHeight=.5*n.getVisibleSize().height},t}(i))||o);t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationEnable.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,i,a,o,r,l;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator,l=n.Animation}],execute:function(){var c,s,p;o._RF.push({},"71f5aqUc2tPJZbcBvqIwXeN","AnimationEnable",void 0);var u=r.ccclass,h=r.property;o._RF.push({},"ad912oKRtlKH6tOMFSdhd12","AnimationEnable",void 0);n("AnimationEnable",u("AnimationEnable")((p=t((s=function(n){function t(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return t=n.call.apply(n,[this].concat(o))||this,i(t,"delay",p,a(t)),t}return e(t,n),t.prototype.onEnable=function(){var t=this;n.prototype.onEnable.call(this),this.delay?this.scheduleOnce((function(){t.play()}),this.delay):this.play()},t}(l)).prototype,"delay",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=s))||c);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/AniShowEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectBase.ts"],(function(t){var n,i,e,o,r,c,a,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Animation},function(t){s=t.EffectBase}],execute:function(){var f,p,u,l,h;r._RF.push({},"091bclVvANPQp+USnIiyoY3","AniShowEffect",void 0);var y=c.ccclass,v=c.property;r._RF.push({},"104c7LphqFIurfwiIZ13XvQ","AniShowEffect",void 0);t("AniShowEffect",(f=y("AniShowEffect"),p=v({type:[a]}),f((h=n((l=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,e(n,"anis",h,o(n)),n}i(n,t);var r=n.prototype;return r.start=function(){},r.onShow=function(){for(var n=0;n<this.anis.length;n++)this.anis[n].play();return t.prototype.onShow.call(this)},r.onStop=function(){for(var t=0;t<this.anis.length;t++)this.anis[t].stop()},n}(s)).prototype,"anis",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=l))||u));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncCall.ts",["cc"],(function(n){var e;return{setters:[function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"789b0LZY1BDmqRgiWoLDujm","AsyncCall",void 0),e._RF.push({},"078b6HYiElGnIJSbGo7BOWL","AsyncCall",void 0);var t=n("default",function(){function n(){}return n.add=function(e,t){var s=n._result;return new Promise((function(u){if(s.has(e))u(s.get(e));else{var a=n._asyncCall;a.has(e)?a.get(e).push(u):(a.set(e,[u]),t().then((function(n){a.has(e)&&(s.set(e,n),a.get(e).forEach((function(e){return e(n)})),a.delete(e))})).catch((function(){s.set(e,null)})))}}))},n.del=function(e){n._asyncCall.delete(e),n._result.delete(e)},n.has=function(e){return n._asyncCall.has(e)||n._result.has(e)},n}());t._asyncCall=new Map,t._result=new Map,e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioActive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMng.ts"],(function(i){var e,t,o,n,r,u,l,a,c;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){r=i.cclegacy,u=i._decorator,l=i.AudioClip,a=i.Component},function(i){c=i.AudioMng}],execute:function(){var p,s,d,y,f,A;r._RF.push({},"efe86qziCVDl4LVuvbnzKU+","AudioActive",void 0);var h=u.ccclass,v=u.property;r._RF.push({},"2cf41ygIrpBj5bmxE2iwPLa","AudioActive",void 0);i("AudioActive",(p=h("AudioActive"),s=v({type:l}),p((f=e((y=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),u=0;u<t;u++)r[u]=arguments[u];return e=i.call.apply(i,[this].concat(r))||this,o(e,"audioClip",f,n(e)),o(e,"delay",A,n(e)),e}return t(e,i),e.prototype.onEnable=function(){var i=this;this.delay?this.scheduleOnce((function(){c.playAudioClip(i.audioClip)}),this.delay):c.playAudioClip(this.audioClip)},e}(a)).prototype,"audioClip",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(y.prototype,"delay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=y))||d));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/AudioMng.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameCtr.ts","./LoadHelper.ts"],(function(t){var i,e,n,u,o,s,r,a,c,p,l,d,f,h,S;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,u=t.assertThisInitialized,o=t.createClass,s=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,p=t.AudioClip,l=t.AudioSource,d=t.Component},function(t){f=t.EGameDataKey},function(t){h=t.default},function(t){S=t.default}],execute:function(){var A,m,y,v,_,g;a._RF.push({},"2007apuO/pJLIOryrvU9cqR","AudioMng",void 0);var M=c.ccclass,C=c.property;a._RF.push({},"986a7efxcBNvK7XrlM5Vetq","AudioMng",void 0);var E=t("EAudioType",function(t){return t[t.Music=0]="Music",t[t.Effect=1]="Effect",t}({}));t("AudioMng",(A=M("AudioMng"),m=C({tooltip:"通用音效",type:[p]}),A(((g=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,n(i,"commonAudios",_,u(i)),i._audioState=[],i._musicCf=["",""],i.audioSources={},i._musicAudioSource=null,i}e(i,t);var a=i.prototype;return a.onLoad=function(){i.ins=this},a.findIdleAudioSource=function(t){var i=t.name;if(!this.audioSources[i])return this.audioSources[i]=[],this.creatAudioSource(t);for(var e=0;e<this.audioSources[i].length;e++){var n=this.audioSources[i][e];if(!n.playing)return n}return this.audioSources[i].length<5?this.creatAudioSource(t):null},a.creatAudioSource=function(t){if(t){var i=t.name,e=this.node.addComponent(l);return e.playOnAwake=!1,e.loop=!1,e.volume=1,e.clip=t,this.audioSources[i].push(e),e}},i.playAudioClip=function(){var t=s(r().mark((function t(i,e){var n,u;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===e&&(e=!1),this.getState(E.Effect)&&i&&((n=this.ins)?((u=n.findIdleAudioSource(i))&&(u.loop=e),u&&u.play()):console.warn("音效管理组件未加载！"));case 2:case"end":return t.stop()}}),t,this)})));return function(i,e){return t.apply(this,arguments)}}(),i.stopAudioClip=function(t){if(this.getState(E.Effect)&&t)for(var i=t.name,e=0;e<this.ins.audioSources[i].length;e++){var n=this.ins.audioSources[i][e];n.playing&&n.stop()}},i.playAudio=function(t,i){var e=this;this.getState(E.Effect)&&(this.ins?S.loadRes("audio/"+t,p,i).then((function(n){n?e.playAudioClip(n):console.warn("音效clip不存在!",t,i)})):console.warn("音效管理组件未加载！"))},i.playMusic=function(){var t=s(r().mark((function t(i,e){var n,u,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.pauseMusic(),this.ins._musicCf=[i,e||""],!this.getState(E.Music)){t.next=8;break}return n="audio/"+i,t.next=6,S.loadRes(n,p,e);case 6:(u=t.sent)&&(o=this.ins.findIdleAudioSource(u))&&(o.play(),o.loop=!0,this.ins._musicAudioSource=o);case 8:case"end":return t.stop()}}),t,this)})));return function(i,e){return t.apply(this,arguments)}}(),i.pauseMusic=function(){var t=s(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!=this.ins._musicCf[0]&&this.ins._musicAudioSource&&this.ins._musicAudioSource.playing&&this.ins._musicAudioSource.pause();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.resumeMusic=function(){var t=s(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""!=this.ins._musicCf[0]&&(this.ins._musicAudioSource&&this.ins._musicAudioSource.playing||this.playMusic(this.ins._musicCf[0],this.ins._musicCf[1]));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.getState=function(t){var i;return(null==(i=this.ins)?void 0:i.audioState[t])||!1},i.setState=function(t,i){void 0===i&&(i=!1),this.ins.audioState[t]=i,h.playData.setData(t==E.Music?f.AUDIO_STATE_MUSIC:f.AUDIO_STATE_EFFECT,i?1:0),t==E.Music&&(i?this.resumeMusic():this.pauseMusic())},o(i,[{key:"audioState",get:function(){return 0==this._audioState.length&&(this._audioState=[1==h.playData.getData(f.AUDIO_STATE_MUSIC,1),1==h.playData.getData(f.AUDIO_STATE_EFFECT,1)]),this._audioState}}]),i}(d)).ins=null,_=i((v=g).prototype,"commonAudios",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=v))||y));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/BattlePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PageBase.ts","./UIHelp.ts","./GameCtr.ts","./UIPlay.ts","./UIMng.ts","./UISet.ts","./UIHome.ts","./Constant.ts","./UIRecommendGame.ts","./CfgMng.ts","./WorldPageItem.ts","./UITurntable.ts","./UILoginGift.ts","./UIStageGift.ts","./SdkManager.ts"],(function(t){var e,n,i,a,r,o,s,l,u,c,f,h,p,g,d,m,B,I,y,b,w,v,S,G,W;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,u=t.Button,c=t.Label},function(t){f=t.PageBase},function(t){h=t.default},function(t){p=t.default},function(t){g=t.UIPlay},function(t){d=t.UIMng},function(t){m=t.UISet},function(t){B=t.UIHome},function(t){I=t.EGamePlatform},function(t){y=t.UIRecommendGame},function(t){b=t.default},function(t){w=t.WorldPageItem},function(t){v=t.UITurntable},function(t){S=t.UILoginGift},function(t){G=t.UIStageGift},function(t){W=t.default}],execute:function(){var R,U,P,k,_,z,x,D,E,M,C,L,T,F,O,H,N,Z,j,A,J,Q,V,q,K;s._RF.push({},"31a2eI7x71G2oOkZfRQV8nJ","BattlePage",void 0);var X=l.ccclass,Y=l.property;s._RF.push({},"12233BZO0hGoIcER49PrbO3","BattlePage",void 0);t("BattlePage",(R=X("BattlePage"),U=Y({type:u}),P=Y({type:u}),k=Y({type:u}),_=Y({type:w}),z=Y({type:u}),x=Y({type:u}),D=Y({type:u}),E=Y({type:u}),M=Y({type:u}),C=Y({type:u}),L=Y({type:c}),R((O=e((F=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"setBtn",O,a(e)),i(e,"fightBtn",H,a(e)),i(e,"recommendBtn",N,a(e)),i(e,"worldPageItem",Z,a(e)),i(e,"leftBtn",j,a(e)),i(e,"rightBtn",A,a(e)),i(e,"wheelBtn",J,a(e)),i(e,"stageGiftBtn",Q,a(e)),i(e,"mysticalGiftBtn",V,a(e)),i(e,"rankBtn",q,a(e)),i(e,"bestStageLab",K,a(e)),e._curWorldId=0,e}n(e,t);var s=e.prototype;return s.start=function(){h.onRegisterBtnEvent(this.setBtn,this.onShowSet,this),h.onRegisterBtnEvent(this.fightBtn,this.onFightBtnClick,this),h.onRegisterBtnEvent(this.recommendBtn,this.onShowRecommendUI,this),h.onRegisterBtnEvent(this.leftBtn,this.onNextWorld.bind(this,-1),this),h.onRegisterBtnEvent(this.rightBtn,this.onNextWorld.bind(this,1),this),h.onRegisterBtnEvent(this.wheelBtn,this.onShowWheel,this),h.onRegisterBtnEvent(this.stageGiftBtn,this.onShowStageGift,this),h.onRegisterBtnEvent(this.mysticalGiftBtn,this.onShowMysticalGift,this),h.onRegisterBtnEvent(this.rankBtn,this.onShowRank,this),this.recommendBtn.node.active=[I.WeChat,I.IOS].indexOf(p.platform)>-1,this.stageGiftBtn.node.active=!!p.playData.gameData.stageId,this.rankBtn.node.active=W.isCanUseRank(),this.updateMysticalGiftBtnState(),this.init()},s.init=function(){var t=p.playData.passWorldId,e=p.playData.passStageId;if(0===t&&0===e)this.bestStageLab.node.active=!1;else{var n=0===e?t-1:t,i=0===e?5:e;this.bestStageLab.string="最高记录\n世界"+(n+1)+"-"+i}this._curWorldId=Math.min(t+1,b.CfgWorld.items.length),this.updateWorldPageItem()},s.updateWorldPageItem=function(){this.leftBtn.node.active=this._curWorldId>1,this.rightBtn.node.active=this._curWorldId<b.CfgWorld.items.length,this.worldPageItem.init(this._curWorldId)},s.onNextWorld=function(t){var e=this._curWorldId+t;e<1||e>b.CfgWorld.items.length||(this._curWorldId=e,this.fightBtn.node.active=this._curWorldId<=p.playData.passWorldId+1,this.updateWorldPageItem())},s.onFightBtnClick=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._curWorldId>p.playData.passWorldId+1)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,g.onEnterPlay(this._curWorldId,this.worldPageItem.stageId);case 4:d.ins.closeUI(B);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onShowSet=function(){d.ins.openUI(m)},s.onShowRecommendUI=function(){d.ins.openUI(y)},s.onShowWheel=function(){d.ins.openUI(v)},s.onShowStageGift=function(){this.stageGiftBtn.node.active=!1,d.ins.openUI(G)},s.onShowMysticalGift=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.ins.openUIClose(S);case 2:this.updateMysticalGiftBtnState();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.updateMysticalGiftBtnState=function(){this.mysticalGiftBtn.node.active=0===p.playData.mysticalGiftState},s.onShowRank=function(){p.platform===I.TT&&tt.getImRankList({relationType:"default",dataType:0,rankType:"all",suffix:"",rankTitle:"关卡进度排行榜",zoneId:"default",success:function(t){console.log("getImRankData success res: "+t)},fail:function(t){console.log("getImRankData fail res: "+t.errMsg)}})},e}(f)).prototype,"setBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(F.prototype,"fightBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(F.prototype,"recommendBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(F.prototype,"worldPageItem",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(F.prototype,"leftBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(F.prototype,"rightBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(F.prototype,"wheelBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(F.prototype,"stageGiftBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(F.prototype,"mysticalGiftBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(F.prototype,"rankBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(F.prototype,"bestStageLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=F))||T));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnermyBase.ts","./FightEffectCtr.ts"],(function(t){var e,n,r,i,o,c,a,s,l,u,f,p,h,d,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass,c=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,u=t.Prefab,f=t.Contact2DType,p=t.CircleCollider2D,h=t.Component},function(t){d=t.EnermyBase},function(t){g=t.FightEffectCtr}],execute:function(){var y,C,m,B,E;s._RF.push({},"b98943c1+lLd6WOMScw/ylp","Bullet",void 0);var b=l.ccclass,v=l.property;s._RF.push({},"59849drCEJJX7lyTJ9okNVZ","Bullet",void 0);t("Bullet",(y=b("Bullet"),C=v(u),y((E=e((B=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,r(e,"hitEffectPrefab",E,i(e)),e._damage=0,e}n(e,t);var s=e.prototype;return s.start=function(){this.collider&&this.collider.on(f.BEGIN_CONTACT,this.onBeginContact,this)},s.onBeginContact=function(t,e,n){this.onCollision(e.getComponent(d))},s.onCollision=function(){var t=c(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&(this.hitEffectPrefab&&g.ins.showEffect(this.hitEffectPrefab,e.node.worldPosition),e.onBeHit(this.damage));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o(e,[{key:"damage",get:function(){return this._damage},set:function(t){this._damage=t}},{key:"collider",get:function(){return this.getComponent(p)}}]),e}(h)).prototype,"hitEffectPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=B))||m));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/CardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./UIHelp.ts","./GameCtr.ts","./EventMng.ts","./UIMng.ts","./UICardInfo.ts","./CfgMng.ts","./ResLoadHelper.ts"],(function(t){var i,e,r,a,n,o,u,s,c,p,l,d,f,h,m,g,C,y,q,I,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,n=t.createClass},function(t){o=t.cclegacy,u=t._decorator,s=t.Sprite,c=t.Node,p=t.RichText,l=t.SpriteFrame,d=t.isValid,f=t.Component},function(t){h=t.EGameEvent},function(t){m=t.default},function(t){g=t.default},function(t){C=t.EventMng},function(t){y=t.UIMng},function(t){q=t.UICardInfo},function(t){I=t.default},function(t){b=t.default}],execute:function(){var E,_,D,S,v,F,N,k,U,z,M,R,w,A,B,L,P,H,G,Q,T;o._RF.push({},"5daf5qGgINEtrH3ozPFOUn3","CardItem",void 0);var x=u.ccclass,O=u.property;o._RF.push({},"5daf5qGgINEtrH3ozPFOUn3","CardItem",void 0);var j=t("ECardItemMode",function(t){return t[t.Info=0]="Info",t[t.Equip=1]="Equip",t}({}));t("CardItem",(E=x("CardItem"),_=O({type:s}),D=O({type:s}),S=O({type:c}),v=O({type:c}),F=O({type:s}),N=O({type:p}),k=O({type:[l]}),U=O({type:[l]}),z=O({type:[l]}),E((w=i((R=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return i=t.call.apply(t,[this].concat(n))||this,r(i,"cardBg",w,a(i)),r(i,"cardIcon",A,a(i)),r(i,"equipInfoNode",B,a(i)),r(i,"starNode",L,a(i)),r(i,"equipStateSprite",P,a(i)),r(i,"cardNumLab",H,a(i)),r(i,"equipStateSpriteFrames",G,a(i)),r(i,"cardBgSpriteFrames",Q,a(i)),r(i,"starSpriteFrames",T,a(i)),i._cardData=null,i._mode=j.Info,i._isEquip=!1,i.skillCf=null,i}e(i,t);var o=i.prototype;return o.start=function(){C.on(h.CARD_EQUIP_CHANGE,this.onCardEquipChange,this),C.on(h.CARD_UPDATE,this.onUpdateCard,this),m.onRegisterBtnEvent(this.equipStateSprite.node,this.onClickEquip,this),m.onRegisterBtnEvent(this.node,this.onClickCard,this)},o.onDestroy=function(){C.off(h.CARD_EQUIP_CHANGE,this.onCardEquipChange,this),C.off(h.CARD_UPDATE,this.onUpdateCard,this)},o.init=function(t,i){var e=this;void 0===i&&(i=j.Info),this._cardData=t,this._mode=i,this.skillCf=I.CfgSkill.getItem(t.id),this.starNum=t.star;var r=this.cardQuality-1;this.cardBg.spriteFrame=this.cardBgSpriteFrames[r];var a=t.num||0;a?(this.cardNumLab.node.parent.active=!0,this.cardNumLab.string="<color="+(this.quantityForMerge>a?"#ffffff":"#00ff00")+">"+a+"</color>/"+this.quantityForMerge):this.cardNumLab.node.parent.active=!1,i===j.Equip?(this.equipInfoNode.active=!0,this.isEquip=g.playData.isEquipCard(t.id)):this.equipInfoNode.active=!1,b.loadSkillIcon(t.id,this.cardIcon).then((function(t){t&&d(e)&&(e.cardIcon.spriteFrame=t)}))},o.onClickEquip=function(){this._mode===j.Equip&&(this.isEquip?g.playData.unEquipCard(this._cardData.id):g.playData.equipCard(this._cardData.id))},o.onClickCard=function(){y.ins.openUI(q,{cardData:this._cardData,showMode:this._mode})},o.onUpdateCard=function(t){if(t===this._cardData.id&&this._mode!==j.Info){var i=g.playData.cardList[t];i&&this.init(i,this._mode)}},o.onCardEquipChange=function(t){t===this._cardData.id&&(this.isEquip=g.playData.isEquipCard(t))},n(i,[{key:"cardId",get:function(){return this._cardData.id}},{key:"cardQuality",get:function(){return this.skillCf.quality||1}},{key:"quantityForMerge",get:function(){return I.globalConfig.CardQuantityForMerge[this._cardData.star-1]||5}},{key:"starNum",set:function(t){for(var i=0;i<this.starNode.children.length;i++)this.starNode.children[i].getComponent(s).spriteFrame=this.starSpriteFrames[i<t?1:0]}},{key:"isEquip",get:function(){return this._isEquip},set:function(t){this._isEquip=t,this.equipStateSprite.spriteFrame=this.equipStateSpriteFrames[t?1:0]}}]),i}(f)).prototype,"cardBg",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(R.prototype,"cardIcon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(R.prototype,"equipInfoNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(R.prototype,"starNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(R.prototype,"equipStateSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(R.prototype,"cardNumLab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(R.prototype,"equipStateSpriteFrames",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Q=i(R.prototype,"cardBgSpriteFrames",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=i(R.prototype,"starSpriteFrames",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=R))||M));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/CardPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PageBase.ts","./UIHelp.ts","./GameCtr.ts","./CardItem.ts","./SlotLock.ts","./EventMng.ts","./Constant.ts","./CfgMng.ts"],(function(t){var e,n,i,r,a,o,l,u,s,c,d,f,p,h,C,v,g,y,m,b,S;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Button,u=t.UITransform,s=t.Node,c=t.Prefab,d=t.instantiate,f=t.Vec3},function(t){p=t.PageBase},function(t){h=t.default},function(t){C=t.default},function(t){v=t.CardItem,g=t.ECardItemMode},function(t){y=t.SlotLock},function(t){m=t.EventMng},function(t){b=t.EGameEvent},function(t){S=t.default}],execute:function(){var I,N,_,D,P,E,A,L,U,q,w,R,k,B,z;a._RF.push({},"2c0e6UiLOdEb5D/yusM1dDW","CardPage",void 0);var M=o.ccclass,O=o.property;a._RF.push({},"25de2oVGR5Jnb3AWPzpi58K","CardPage",void 0);t("CardPage",(I=M("CardPage"),N=O({type:l}),_=O({type:u}),D=O({type:s}),P=O({type:c}),E=O({type:c}),A=O({type:u}),I((q=e((U=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"newCardBtn",q,r(e)),i(e,"equipSlotUI",w,r(e)),i(e,"cardInventoryNode",R,r(e)),i(e,"cardItemPrefab",k,r(e)),i(e,"slotLockPrefab",B,r(e)),i(e,"slotUI",z,r(e)),e._equipSlotNodes=[],e}n(e,t);var a=e.prototype;return a.start=function(){m.on(b.CARD_EQUIP_CHANGE,this.onCardEquipChange,this),m.on(b.CARD_ADD,this.onCardAdd,this),m.on(b.CARD_SLOT_NUM,this.updateSlotNum,this),h.onRegisterBtnEvent(this.newCardBtn,this.onNewCardBtnClick,this),this._equipSlotNodes=this.equipSlotUI.node.children,this.initUI()},a.onDestroy=function(){m.off(b.CARD_EQUIP_CHANGE,this.onCardEquipChange,this),m.off(b.CARD_ADD,this.onCardAdd,this),m.off(b.CARD_SLOT_NUM,this.updateSlotNum,this)},a.onNewCardBtnClick=function(){m.emit(b.HOME_TAB_SWITCH,4)},a.initUI=function(){var t=this;this.updateSlotNum();var e=C.playData.cardList,n=0,i=function(e){if(!S.CfgSkill.getItem(e))return"continue";t.scheduleOnce((function(){t.createCard(e)}),.1*n++)};for(var r in e)i(r);this.sortCardList()},a.setSlotState=function(t,e){void 0===e&&(e="");var n=this._equipSlotNodes[t];if(n){if(n.removeAllChildren(),""===e){var i=d(this.slotLockPrefab);return n.addChild(i),void i.getComponent(y).init(t)}var r=C.playData.cardList[e],a=d(this.cardItemPrefab);n.addChild(a),a.scale=f.ONE.clone().multiplyScalar(1.6),a.getComponent(v).init(r,g.Equip)}},a.onCardEquipChange=function(t){this.updateSlotNum()},a.onCardAdd=function(t){this.createCard(t),this.sortCardList()},a.createCard=function(t){var e=C.playData.cardList[t],n=d(this.cardItemPrefab);this.cardInventoryNode.addChild(n),n.scale=f.ONE.clone().multiplyScalar(1.6),n.getComponent(v).init(e,g.Equip)},a.sortCardList=function(){var t=this.cardInventoryNode.children.concat();t.sort((function(t,e){var n=t.getComponent(v);return e.getComponent(v).cardQuality-n.cardQuality}));for(var e=t.length-1;e>=0;--e)t[e].setSiblingIndex(e)},a.updateSlotNum=function(){for(var t=C.playData.cardSlotNum,e=C.playData.equipCards,n=0;n<t;n++){var i=this._equipSlotNodes[n];if(!i)break;i.active=!0;var r=e[n]||"";this.setSlotState(n,r)}var a=t,o=this._equipSlotNodes[a];if(o){o.active=!0;var l=d(this.slotLockPrefab);o.addChild(l),l.getComponent(y).init(a)}this.slotUI.setContentSize(this.slotUI.width,t>2?520:260)},e}(p)).prototype,"newCardBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(U.prototype,"equipSlotUI",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(U.prototype,"cardInventoryNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(U.prototype,"cardItemPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(U.prototype,"slotLockPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(U.prototype,"slotUI",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=U))||L));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/CfgMng.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataAccess.ts","./LoadHelper.ts","./ResConfig.ts","./GameExcellData.ts","./Constant.ts"],(function(t){var e,r,n,i,a,u,o,l,s,d,f,g;return{setters:[function(t){e=t.createClass,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy,a=t.BufferAsset},function(t){u=t.DataTable,o=t.DataAccess},function(t){l=t.default},function(t){s=t.EResBundleName},function(t){d=t.GameExcellData,f=t.DataConverter},function(t){g=t.EItemType}],execute:function(){i._RF.push({},"e828dyuwHFOmLhnGhMSgUFh","CfgMng",void 0),i._RF.push({},"6e665cuNmBGU4F0ZIZzXy2/","CfgMng",void 0);t("default",new(function(){function t(){this._modelConverter={},this.CfgPropertyLv=void 0,this.CfgPropertyUnlock=void 0,this.CfgSkill=void 0,this.CfgConstant=void 0,this.CfgLabProperty=void 0,this.CfgEnermy=void 0,this.CfgWorld=void 0,this.CfgStage=void 0}var i=t.prototype;return i.init=function(){var t=r(n().mark((function t(){var e,r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.convertHandler=this.modelConvert.bind(this),!1,e="bin/",t.next=6,l.loadResDir(e,a,s.Start);case 6:r=l.getBundle(s.Start),o.initial(e,(function(t){var e=r.get(t,a),n=new Uint8Array(e.buffer());return e.destroy(),n}));case 8:this.CfgPropertyLv=new u(d.CfgPropertyLv),this.CfgPropertyUnlock=new u(d.CfgPropertyUnlock),this.CfgSkill=new u(d.CfgSkill),this.CfgLabProperty=new u(d.CfgLabProperty),this.CfgConstant=new u(d.CfgConstant),this.CfgEnermy=new u(d.CfgEnermy),this.CfgWorld=new u(d.CfgWorld),this.CfgStage=new u(d.CfgStage);case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.modelConvert=function(t,e,r,n){var i=this._modelConverter[n];if(i)return i(t,e,r);console.error("can not find alias named "+n+" in field="+e)},i.parseDoubelNumArray=function(t,e,r){for(var n=r.split(","),i=[],a=function(){var t,e=(null==(t=n[u])?void 0:t.split("|"))||[],r=[];e.forEach((function(t){r.push(Number(t))})),i.push(r)},u=0;u<n.length;u++)a();return i},i.getSkillLvData=function(t){var e,r=this.CfgSkill.getItem(t),n=[],i=(null==(e=r.lvValue1)?void 0:e.length)||0,a=[r.lvValue1,r.lvValue2,r.lvValue3];if(i>0)for(var u=1;u<=i;u++){for(var o=[],l=0;l<a.length;l++){var s=a[l];if(!s||0===s.length)break;o.push(s[Math.min(u-1,s.length-1)])}n.push(o)}return n},i.getSkillPropertyValue=function(t,e){void 0===e&&(e=1);var r=this.getSkillLvData(t);return 0===r.length||0===e?[]:r[Math.min(e,r.length)-1]},i.getStageWaveCf=function(t,e){for(var r=this.CfgWorld.getItem(t),n=r.stageWaveNums[e-1],i=r.stageBeginIds[Math.min(r.stageBeginIds.length,e)-1],a=[],u=0;u<n;u++){var o=this.CfgStage.getItem(i+u);a.push(o)}return a},i.getFreeUnlockTurretPropertyIds=function(){var t=[];return this.CfgPropertyUnlock.items.forEach((function(e){e&&0===e.unlockPrice&&t.push.apply(t,e.attSet||[])})),t},i.getLvUpCoinPrice=function(t,e){var r=this.turretLvPropertyCf[t];return r?r.lvlupStartCoin+r.lvlupBaseCoinPrice*(e-1)+r.lvlupMultiCoinPrice*(e-1)*e/2:0},i.getLvUpGoldPrice=function(t,e){var r=this.turretLvPropertyCf[t];return r?r.lvlupStartGold+r.lvlupBaseGoldPrice*(e-1)+r.lvlupMultiGoldPrice*(e-1)*e/2:0},i.getLvPropertyNum=function(t,e){var r=this.turretLvPropertyCf[t];return r&&0!==e?Math.floor(1e4*(r.startValue+r.levelUpBase*(e-1)+r.levelUpMulti*(e-1)*e))/1e4:0},i.getLabPropertyLvUpTime=function(t,e){var r=this.CfgLabProperty.getItem(t);return r?60*this.globalConfig.LabUpgradeTime[Math.min(e,this.globalConfig.LabUpgradeTime.length)]*(r.timeMulti||1):0},i.getLabPropertyNum=function(t,e){var r=this.CfgLabProperty.getItem(t);return r?Math.floor(1e4*(r.startValue+e*r.levelUpBase))/1e4:0},i.getLabPropertyNeedCrystal=function(t,e){var r=this.CfgLabProperty.getItem(t);return r?r.lvlupStartCrystal+e*r.lvlupBaseCrystalPrice:0},e(t,[{key:"globalConfig",get:function(){return this.CfgConstant.data[0]}},{key:"turretLvPropertyCf",get:function(){return this.CfgPropertyLv.itemMap}},{key:"onlineRewardCf",get:function(){return{adRewards:[{id:g.TurntableKey,num:2},{id:g.Diamond,num:50}],list:[{time:5,rewards:[{id:g.TurntableKey,num:1},{id:g.Diamond,num:10},{id:g.Crystal,num:100}]},{time:10,rewards:[{id:g.TurntableKey,num:1},{id:g.Diamond,num:20},{id:g.Crystal,num:200}]},{time:20,rewards:[{id:g.TurntableKey,num:1},{id:g.Diamond,num:30},{id:g.Crystal,num:200}]},{time:30,rewards:[{id:g.TurntableKey,num:2},{id:g.Diamond,num:30},{id:g.Crystal,num:300}]},{time:40,rewards:[{id:g.TurntableKey,num:2},{id:g.Diamond,num:40},{id:g.Crystal,num:300}]},{time:50,rewards:[{id:g.TurntableKey,num:2},{id:g.Diamond,num:40},{id:g.Crystal,num:300}]},{time:60,rewards:[{id:g.TurntableKey,num:3},{id:g.Diamond,num:50},{id:g.Crystal,num:400}]},{time:80,rewards:[{id:g.TurntableKey,num:3},{id:g.Diamond,num:50},{id:g.Crystal,num:400}]},{time:100,rewards:[{id:g.TurntableKey,num:3},{id:g.Diamond,num:50},{id:g.Crystal,num:400}]},{time:120,rewards:[{id:g.TurntableKey,num:5},{id:g.Diamond,num:100},{id:g.Crystal,num:500}]}]}}}]),t}()));i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/CircleGraphics.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var t,e,i,c,o,s,n;return{setters:[function(r){t=r.applyDecoratedDescriptor,e=r.inheritsLoose,i=r.createClass},function(r){c=r.cclegacy,o=r._decorator,s=r.Graphics,n=r.Component}],execute:function(){var a,p;c._RF.push({},"d42deHQF05Kw6ce+ruuJQKK","CircleGraphics",void 0);var u=o.ccclass,l=o.property,h=o.requireComponent;o.executeInEditMode;c._RF.push({},"d617anNWEFFbK06WcmtYnTV","CircleGraphics",void 0);r("CircleGraphics",u("CircleGraphics")(a=h(s)((t((p=function(r){function t(){for(var t,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return(t=r.call.apply(r,[this].concat(i))||this)._radius=0,t}e(t,r);var c=t.prototype;return c.start=function(){},c.drawCircle=function(){console.log(this._radius);var r=this.graphics;r.clear(),r.circle(0,0,this._radius),r.stroke()},i(t,[{key:"radius",get:function(){return this._radius},set:function(r){this._radius=r,this.drawCircle()}},{key:"graphics",get:function(){return this.getComponent(s)}}]),t}(n)).prototype,"radius",[l],Object.getOwnPropertyDescriptor(p.prototype,"radius"),p.prototype),a=p))||a)||a);c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/CollectItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoadHelper.ts"],(function(t){var e,i,n,l,r,c,o,a,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,l=t.assertThisInitialized,r=t.createClass},function(t){c=t.cclegacy,o=t._decorator,a=t.Sprite,s=t.Component},function(t){u=t.default}],execute:function(){var p,f,h,C,y;c._RF.push({},"9c379G8qaVPy5j0wxjOEyq+","CollectItem",void 0);var d=o.ccclass,_=o.property;c._RF.push({},"9c379G8qaVPy5j0wxjOEyq+","CollectItem",void 0);var m=t("ECollectItemState",function(t){return t[t.Idle=0]="Idle",t[t.Collecting=1]="Collecting",t[t.Clear=2]="Clear",t}({}));t("CollectItem",(p=d("CollectItem"),f=_({type:a}),p((y=e((C=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,n(e,"icon",y,l(e)),e._state=m.Idle,e._itemData=null,e.recycleCb=null,e}i(e,t);var c=e.prototype;return c.start=function(){},c.init=function(t){var e=this;this._itemData=t,this._state=m.Idle,u.loadItemIcon(t.id,this).then((function(i){i&&e._itemData.id===t.id&&(e.icon.spriteFrame=i)}))},c.onBeCollecting=function(){this._state=m.Collecting},c.doCollect=function(){this._state=m.Clear,this.recycleCb&&this.recycleCb(this)},r(e,[{key:"collectState",get:function(){return this._state}},{key:"canCollect",get:function(){return this._state===m.Idle}},{key:"isCollected",get:function(){return this._state===m.Clear}},{key:"itemData",get:function(){return this._itemData}}]),e}(s)).prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=C))||h));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/CollectWorkCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./ComFun.ts","./CollectItem.ts","./NodePoolHelper.ts","./CollectWorker.ts","./TurrentPropertyCtr.ts","./FightNode.ts"],(function(e){var t,r,n,o,l,i,c,a,u,s,f,p,C,m,d,h,b,k,y,W,v,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.createClass,i=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,s=e.Prefab,f=e.Node,p=e.instantiate,C=e.Vec3,m=e.Component},function(e){d=e.ETurretPropertyId},function(e){h=e.default},function(e){b=e.CollectItem,k=e.ECollectItemState},function(e){y=e.default},function(e){W=e.CollectWorker},function(e){v=e.default},function(e){I=e.FightNode}],execute:function(){var P,g,_,R,w,E,F,z,N,T,L,S;a._RF.push({},"6ae16dRld1JWrUdo4OD0zXJ","CollectWorkCtr",void 0);var A=u.ccclass,D=u.property;a._RF.push({},"36d5cWnCopA+7LTzePYJEw1","CollectWorkCtr",void 0);e("CollectWorkCtr",(P=A("CollectWorkCtr"),g=D({type:s}),_=D({type:f}),R=D({type:s}),w=D({type:f}),P(((S=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return t=e.call.apply(e,[this].concat(l))||this,n(t,"collectItemPrefab",z,o(t)),n(t,"collectItemParent",N,o(t)),n(t,"collectWorkerPrefab",T,o(t)),n(t,"collectWorkerParent",L,o(t)),t._allWorkers=[],t._isCanCollect=!1,t}r(t,e);var a=t.prototype;return a.onLoad=function(){t.ins=this},a.dropItem=function(e,t){var r=y.get(this.collectItemPrefab).getComponent(b);r.node.parent=this.collectItemParent,r.node.position=t.add3f(h.randomNum(-5,5),h.randomNum(-5,5),0),r.init(e),r.recycleCb=this.onRecycleItem.bind(this)},a.startCollect=function(){var e=i(c().mark((function e(t){var r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=10),e.abrupt("return",new Promise((function(e){r._isCanCollect=!0;var n=function(){r._isCanCollect&&(r._isCanCollect=!1,r._allWorkers.forEach((function(e){e.stopWork()})),e())};if(r.isCanCollectItem){for(var o=v.getPropertyValue(d.WORKER_NUM)||1,l=0;l<o;l++){var i=r._allWorkers[l]||r.createWorker();if(!i)break;i.startWork((function(){r.isCanCollectItem||(n(),I.ins.removeScheduleTimeFun(n))}))}I.ins.setScheduleTimeFun(n,t)}else n()})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.createWorker=function(){var e=p(this.collectWorkerPrefab).getComponent(W);return e.node.parent=this.collectWorkerParent,e.node.position=C.ZERO,e.init(),this._allWorkers.push(e),e},a.onRecycleItem=function(e){y.put(e.node)},a.searchCollectItem=function(e){void 0===e&&(e=C.ZERO);var t=this.collectItemParent.children,r=Number.MAX_VALUE,n=null;return t.forEach((function(t){var o=t.getComponent(b);if(o.collectState===k.Idle){var l=C.distance(e,t.position);l<r&&(r=l,n=o)}})),n},a.getCollectItem=function(e){v.getItems([e])},l(t,[{key:"isCanCollectItem",get:function(){return this.collectItemParent.children.length>0}}]),t}(m)).ins=void 0,z=t((F=S).prototype,"collectItemPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(F.prototype,"collectItemParent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(F.prototype,"collectWorkerPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(F.prototype,"collectWorkerParent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=F))||E));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/CollectWorker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FightNode.ts","./CollectWorkCtr.ts","./Constant.ts","./TurrentPropertyCtr.ts"],(function(t){var e,o,i,l,n,c,s,r,a,h,u,_,d,p,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized,n=t.createClass},function(t){c=t.cclegacy,s=t._decorator,r=t.v3,a=t.sp,h=t.Vec3,u=t.Component},function(t){_=t.FightNode},function(t){d=t.CollectWorkCtr},function(t){p=t.ETurretPropertyId},function(t){m=t.default}],execute:function(){var g,C,I,k,v;c._RF.push({},"999a0AetXhOXbuk4lOV6SU5","CollectWorker",void 0);var f=s.ccclass,S=s.property;c._RF.push({},"999a0AetXhOXbuk4lOV6SU5","CollectWorker",void 0);var b=function(t){return t[t.Idle=0]="Idle",t[t.Searching=1]="Searching",t[t.Moving=2]="Moving",t[t.Collecting=3]="Collecting",t[t.Collected=4]="Collected",t[t.Returning=5]="Returning",t}(b||{}),D=function(t){return t.Idle="idle_1",t.Move="move",t.MoveCollect="move_gold",t}(D||{}),y=r();t("CollectWorker",(g=f("CollectWorker"),C=S({type:a.Skeleton}),g((v=e((k=function(t){function e(){for(var e,o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,i(e,"workerSp",v,l(e)),e._workerData=null,e._state=b.Idle,e._collectItem=null,e._collectTime=0,e._collectItemData=null,e._onEndWorkCb=null,e}o(e,t);var c=e.prototype;return c.start=function(){},c.init=function(){this._workerData={moveSpeed:0,workSpeed:0},this._collectItemData=null,this._state=b.Idle},c.startWork=function(t){this.node.active=!0;var e=m.getPropertyValue(p.WORKER_MOVE_SPEED)||1;this._workerData.moveSpeed=50*e,this._state=b.Searching,this._onEndWorkCb=t},c.stopWork=function(){this._state!==b.Returning&&this._state!==b.Idle&&this.backHome()},c.backHome=function(){this._collectItem=null,this._state=b.Returning},c.update=function(t){if(this._state!==b.Idle){var e=t*_.ins.curPlaySpeed;switch(this._state){case b.Searching:this.searchTarget();break;case b.Moving:case b.Returning:this.updateMove(e);break;case b.Collecting:this.updateCollect(e)}}},c.searchTarget=function(){this._collectItem=null;var t=d.ins.searchCollectItem(this.node.position);t?(this._collectItem=t,this._collectItem.onBeCollecting(),this._state=b.Moving,this.workerSp.setAnimation(0,D.Move,!0)):this.backHome()},c.updateMove=function(t){var e;if(this._state===b.Moving){if(null===this._collectItem||this._collectItem.isCollected)return void(this._state=b.Searching);e=this._collectItem.node.position}else this._state===b.Returning&&(e=h.ZERO);if(e){h.subtract(y,e,this.node.position),this.node.position=y.normalize().multiplyScalar(this._workerData.moveSpeed*t).add(this.node.position);var o=this._state===b.Returning?30:10;h.distance(this.node.position,e)<o&&(this._state===b.Moving?this._state=b.Collecting:this._state===b.Returning&&this.onCollectedItem())}},c.onCollectedItem=function(){this._state=b.Idle,this._collectItemData&&(d.ins.getCollectItem(this._collectItemData),this._collectItemData=null,d.ins.isCanCollectItem&&(this._state=b.Searching)),this._state===b.Idle&&(this.node.active=!1,this._onEndWorkCb&&this._onEndWorkCb())},c.updateCollect=function(t){this._collectTime+=t,this._collectTime>=this._workerData.workSpeed&&(this._collectTime=0,this._collectItem&&!this._collectItem.isCollected&&(this._collectItemData=this._collectItem.itemData,this._collectItem.doCollect()),this._collectItemData?(this.workerSp.setAnimation(0,D.MoveCollect,!0),this.backHome()):this._collectItem&&this._collectItem.canCollect||(this._state=b.Searching))},n(e,[{key:"workerState",get:function(){return this._state}}]),e}(u)).prototype,"workerSp",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=k))||I));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/ComFun.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimeUtil.ts"],(function(t){var e,n,r,i,o,a,u,f,s,c,h,l,d,g,m,p,v,M,w,S,y,x,b,C,T,_;return{setters:[function(t){e=t.extends,n=t.createForOfIteratorHelperLoose,r=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t.v3,u=t.Node,f=t.view,s=t.Widget,c=t.RenderTexture,h=t.SpriteFrame,l=t.game,d=t.UITransform,g=t.tween,m=t.Vec3,p=t.assetManager,v=t.Texture2D,M=t.lerp,w=t.director,S=t.Button,y=t.EventHandler,x=t.UIRenderer,b=t.Mask,C=t.MeshRenderer,T=t.Size},function(t){_=t.default}],execute:function(){o._RF.push({},"a9539o8pmtDGpmKEGLlgIOY","ComFun",void 0),o._RF.push({},"1cb641Te+dO85gkkS6Sh98m","ComFun",void 0);var A=a(),N=a(),F=Array.from(Array(6),(function(){return a()})),k=0;t("default",new(function(){function t(){this._spfCache={},this._imageSuf=new Set(["tiff","pjp","jfif","bmp","webp","gif","svg","jpg","svgz","png","xbm","dib","jxl","jpeg","ico","tif","pjpeg","avif"]),this._videoSuf=new Set(["ogm","wmv","mpg","webm","ogv","mov","asx","mpeg","mp4","m4v","avi"]),this._audioSuf=new Set(["opus","flac","webm","weba","wav","ogg","m4a","mp3","oga","mid","amr","aiff","wma","au","acc"]),this._fileSuf=new Set(["pdf","ppt","pptx"]),this._zipSuf=new Set(["zip","rar","gzip"]),this._tmpNode=new u,this._grayAttr="$gray$",this._grayMat="_instanceMaterialType"}var o=t.prototype;return o.random=function(t,e){return t<0||void 0!==e&&e<=0?0:void 0===e?Math.floor(Math.random()*t+1):Math.floor(Math.random()*(e-t+1)+t)},o.randomNum=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},o.getRandNum=function(t,e){void 0===e&&(e=0);var n=0;return 0==e?n=Math.random()*t>>0:-1==e?n=(Math.random()*t>>0)-(Math.random()*t>>0):-2==e&&(n=t*(Math.random()>.5?1:-1)),n},o.getRandList=function(t,e){if(void 0===e&&(e=1),t.length<e)return t;for(var n=t.concat(),r=[],i=0;i<e;i++)r.push(n.splice(this.getRandNum(n.length),1)[0]);return r},o.shuffleArray=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=Math.round(Math.random()*(t.length-1-e))+e,r=t[n];t[n]=t[e],t[e]=r}},o.getNumberByStr=function(t){return Number(t.replace(/[^0-9]/gi,""))},o.getNumToStr=function(t,e,n){void 0===e&&(e=2),void 0===n&&(n=0);var r=function(t){return parseInt(t.toString())};return t<1e3?0==n?t.toFixed(e):r(t).toString():(t<1e6&&(t=r(t)),this.getNumEnStr(t,e))},o.getHHMMSSBySecond=function(t){if(t<0)return"0";var e=Math.floor(t/3600),n=e<10?"0"+e:""+e,r=Math.floor((t-3600*e)/60),i=t-3600*e-60*r;return n+":"+(r<10?"0"+r:""+r)+":"+(i<10?"0"+i:""+i)},o.getMMSSBySecond=function(t){if(t<0)return"0";var e=Math.floor(t/60),n=t-60*e;return(e<10?"0"+e:""+e)+":"+(n<10?"0"+n:""+n)},o.changeTimeStr=function(t,e){if(void 0===e&&(e=0),t<=0){if(0==e)return"00:00:00";if(1==e)return"0";if(2==e){if(0==t)return"永久";if(-1==t)return"已过期"}if(3==e)return"00:00";if(4==e)return"无"}var n=Math.floor(t/86400),r=1==e||2==e?t%86400:t,i=Math.floor(r/3600),o=Math.floor(r%3600/60),a=Math.floor(r%3600%60),u="";if(0==e)u+=i<10?"0"+i+":":i+":",u+=o<10?"0"+o+":":o+":",u+=a<10?"0"+a:""+a;else if(1==e)n>0&&(u=n+"天"),i>0&&(u+=i+"小时"),o>0?u+=o+"分钟":i>0&&a>0&&(u+="零"),(a>0||o>0)&&(u+=a+"秒");else if(2==e){n>0&&(u=n+"天");var f=i;0==f&&o>0&&(f=1),f>=0&&(u+=f+"小时")}else if(3==e){var s=Math.floor(t/60);u+=s<10?"0"+s+":":s+":",u+=a<10?"0"+a:""+a}else if(4==e){i>0&&(u+=i+"小时");var c=o;0==c&&a>0&&(c=1),c>0&&(u+=c+"分钟")}else 5==e&&(u+=i<10?"0"+i+":":i+":",u+=o<10?"0"+o:o);return u},o.formatHour=function(t,e){void 0===e&&(e=":");var n=function(t){return t>9?t:"0"+t};return n((t/3600|0)%24+8)+e+n((t/60|0)%60)+e+n(t%60)},o.getDatabyArr=function(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(i[e]&&i[e]==n)return i}return null},o.getGoldnumStringby=function(t){var e="",n=0,r=["K","M","B","T","P","E","G","Q","A","C","D","E","F","H","I","KK","MM","BB","TT","PP","EE","GG","QQ","AA","BB","CC","DD","EE"];if(t<Math.pow(10,4))e=t+"";else for(var i=0;i<r.length;i++)if(t<Math.pow(10,7+3*i)){n=Math.pow(10,3+3*i),e=r[i];break}if(0!=n){var o=t/n,a=Math.floor(o);e=((""+a).length<4?o.toFixed(0):a)+e}return e},o.getNumEnStr=function(t,e){void 0===e&&(e=2);var n=["K","M","B","T","P","E","G","Q","A","C","D","E","F","H","I","KK","MM","BB","TT","PP","EE","GG","QQ","AA","BB","CC","DD","EE"],r=n.length;if(t<1e6)return t+"";for(var i=Math.log(t)/Math.log(1e3),o=parseInt(i+""),a=1;a<r;a++)if(o==a){var u=t/Math.pow(1e3,o);return u%1==0?parseInt(u+"")+n[a]+"":u.toFixed(e)+n[a]+""}return t+""},o.deepClone=function(t){if("object"==typeof t&&null!==t){var e=t instanceof Array?[]:{};for(var n in t)e[n]=this.deepClone(t[n]);return e}return t},o.getLocalTime=function(t){return void 0===t&&(t=0),Math.floor((new Date).getTime()*(0==t?.001:1))},o.isNeedTimeUpdate=function(t,e){if(e)return this.getLocalTime()-t>=e;var n=this.getLocalTime(),r=new Date(1e3*n),i=new Date(1e3*t);return 1e4*r.getFullYear()+100*r.getMonth()+r.getDate()>1e4*i.getFullYear()+100*i.getMonth()+i.getDate()},o.radianToAngle=function(t){return t/Math.PI*180},o.angleToRadian=function(t){return t*Math.PI/180},o.getTodayZeroTime=function(t){var e=new Date(1e3*t),n=new Date(new Date(e.toLocaleDateString()).getTime());return Math.floor(.001*n.getTime())},o.getNextZeroTime=function(t){var e=new Date(1e3*t),n=new Date(new Date(e.toLocaleDateString()).getTime()+864e5);return Math.floor(.001*n.getTime())},o.getNextMonthZeroTime=function(t){var e=new Date(1e3*t),n=e.getFullYear(),r=e.getMonth();return++r>=12&&(n++,r=0),e.setFullYear(n,r,1),e.setHours(0,0,0,0),Math.floor(.001*e.getTime())},o.getCurMonthZeroTime=function(t){var e=new Date(1e3*t);return e.setFullYear(e.getFullYear(),e.getMonth(),1),e.setHours(0,0,0,0),Math.floor(.001*e.getTime())},o.getNextWeekZeroTime=function(t){return this.getCurWeekZeroTime(t)+604800},o.getCurWeekZeroTime=function(t){var e=new Date(1e3*t),n=e.getDay();return 0==n&&(n=7),e.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),e.setHours(0,0,0,0),Math.floor(.001*e.getTime())-86400*(n-1)},o.compareVersion=function(t,e){for(var n=t.split("."),r=e.split("."),i=Math.max(n.length,r.length);n.length<i;)n.push("0");for(;r.length<i;)r.push("0");for(var o=0;o<i;o++){var a=parseInt(n[o]),u=parseInt(r[o]);if(a>u)return 1;if(a<u)return-1}return 0},o.isIPhoneX=function(){var t=f.getVisibleSize();return Math.max(t.height,t.width)/Math.min(t.height,t.width)>2},o.winSizeWHPro=function(){var t=f.getVisibleSize(),e=Math.max(t.height,t.width),n=Math.min(t.height,t.width);return console.log("屏幕宽高比",e/n),e/n},o.generateUUID=function(){for(var t=[],e="0123456789abcdef",n=0;n<36;n++)t[n]=e.substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]=e.substr(3&Number(t[19])|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},o.sliceStrByNum=function(t,e){return e&&t.length>e?t.slice(0,e)+"...":t},o.randomString=function(t){void 0===t&&(t=32);for(var e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",n=e.length,r="",i=0;i<t;i++)r+=e.charAt(Math.floor(Math.random()*n));return r},o.likeSearch=function(t,n){for(var r=[],i=n.length;i--;){var o=this.likeMatch(t,n[i]);o.m>0&&r.push(e({},o,{i:i}))}return r.sort((function(t,e){return e.m-t.m||e.s-t.s||t.i-e.i})).map((function(t){return t.i}))},o.likeMatch=function(t,e){for(var n=t.length,r=0,i=0,o=0,a=function(n,r){for(var i=0,o=Math.min(n,r);i<=o&&t[n-i]==e[r-i];)i++;return i};r<n;){var u=e.indexOf(t[r],i);if(-1==u)break;o=Math.max(o,a(r,u)),i=u+1,r++}return{m:r,s:o}},o.limitStr=function(t,e,n){void 0===n&&(n="");for(var r="",i=0,o=0;o<t.length;o++){if(i++,0!=(65280&t.charCodeAt(o))&&i++,i>e){r+=n;break}r+=t.charAt(o)}return r},o.limitNum=function(t,e,n){return t<e?e:t>n?n:t},o.isAllNumberAndLetter=function(t){return/^[A-Za-z0-9]*$/.test(t)},o.isAllNumber=function(t){return/^[0-9]*$/.test(t)},o.refreshWidget=function(t){var e;null==(e=t.getComponent(s))||e.setDirty()},o.setRenderTexture=function(t,e){var n=t.spriteFrame;if(n){var r=n.texture;r instanceof c&&(r.destroy(),n.destroy())}(n=new h).texture=e,t.spriteFrame=n,t.updateMaterial()},o.reflect=function(t,e){var n=l.canvas.parentNode,r=t.style,i=e.getComponent(d),o=Math.round,a=e.worldPosition,u=e.worldScale,s=n.clientWidth/f.getVisibleSize().width,c=u.x*i.width,h=u.y*i.height,g="px";r.position="absolute",r.left=o((a.x-c*i.anchorX)*s)+g,r.top=n.clientHeight-o((a.y+(1-i.anchorY)*h)*s)+g,r.width=o(c*s)+g,r.height=o(h*s)+g,n.appendChild(t)},o.AniDrop=function(t,e,n){void 0===e&&(e=.3),void 0===n&&(n=1),g(t).by(e,{position:new m(0,-n,0)},{easing:"backOut"}).start()},o.loadRemoteRes=function(t){var e=this;return new Promise((function(n){if(t){var r=e._spfCache[t];if(r&&r.texture)return void n(r);p.loadRemote(t,{ext:".jpg"},(function(i,o){o?(r=e._spfCache[t])||((r=new h).texture=new v,r.texture.image=o,e._spfCache[t]=r):r=void 0,n(r)}))}else n(void 0)}))},o.setSpriteRemote=function(t,e,n){var r=this;t.__url=e,t.spriteFrame=null,e&&this.loadRemoteRes(e).then((function(i){t.__url==e&&t.isValid&&i&&(n?r.limitSpriteSize(t,i,n.width,n.height):t.spriteFrame=i)}))},o.limitSpriteSize=function(t,e,n,r){var i=e.width,o=e.height,a=Math.min(n/i,r/o,1),u=Math.round;t.spriteFrame=e,t.getComponent(d).setContentSize(u(i*a),u(o*a))},o.getStepValue=function(t,e,n){var r=[];if(t.length!=e.length)console.error("数据长度不一致");else for(var i=0;i<t.length;i++)r[i]=M(t[i],e[i],n);return r},o.checkIsShow=function(t){if(t==w.getScene())return!0;var e=t.parent;return!(!e||!t.active)&&this.checkIsShow(e)},o.pointInNode=function(t,e){var n=e.getComponent(d);return!!n&&n.isHit(t)},o.getChildByName=function(t,e,n){var r=t.children;n=n||function(){return!0};for(var i=r.length-1;i>=0;i--){var o=r[i];if(o.name==e&&n(o))return o;var a=this.getChildByName(o,e,n);if(a)return a}},o.getAbsMax=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Math.max.apply(Math,e.map((function(t){return Math.abs(t)})))},o.setObjectAttr=function(t,e,n){if(e in t){if("object"==typeof n){var r=t[e];for(var i in n)r[i]=n[i];t[e]=r}else t[e]=n;return t[e]}},o.setNodePos=function(t,e){return this.setObjectAttr(t,"position",e)},o.getKeyName=function(t,e){if(t){var n=Object.keys(t),r=n.findIndex((function(n){return t[n]===e}));return n[r]||this.getKeyName(t.__proto__,e)}},o.addClick=function(t,e,n){t.getComponent(S)||t.addComponent(S),t.on("click",e,n)},o.delClick=function(t,e,n){t.off("click",e,n)},o.setClick=function(t,e,n,r){this[t?"addClick":"delClick"](e,n,r)},o.getEventHandler=function(t,e){var n=new y;return n.target=t.node,n.component=t.__classname__,n.handler=this.getFunctionName(e,t),n},o.getFunctionName=function(t,e){var n=t.$name||t.name;return e[n]!=t&&((n=this.getObjKeys(e).find((function(n){return e[n]==t})))||(n="$ehName$"+ ++k,e[n]=t),t.$name=n),n},o.getObjKeys=function(t,e){var n;(void 0===e&&(e=[]),t)&&((n=e).push.apply(n,Object.keys(t)),this.getObjKeys(t.__proto__,e));return e},o.setNodeGray=function(t){if(!t[this._grayAttr]){for(var e=t.getComponentsInChildren(x),n=[],r=e.length-1;r>=0;r--){var i=e[r];i instanceof b||2==i[this._grayMat]?e.splice(r,1):(n.unshift(i[this._grayMat]),i[this._grayMat]=2,i.updateMaterial())}t[this._grayAttr]=[e,n]}},o.cancelNodeGray=function(t){var e=this,n=t[this._grayAttr];n&&(delete t[this._grayAttr],n[0].forEach((function(t,r){t[e._grayMat]=n[1][r],t.updateMaterial()})))},o.getRootCompont=function(t,e){for(;t;){var n=t.getComponent(e);if(n)return n;t=t.parent}return null},o.getChildByNames=function(t,e){var n=new Map;return t.children.forEach((function(t){var e=t.name;n.has(e)?n.get(e).push(t):n.set(e,[t])})),e.map((function(t){var e=n.get(t);if(e){var r=e.shift();return e.push(r),r}}))},o.isURL=function(t){return new RegExp("^((https|http|ftp|rtsp|mms)?://)").test(t)},o.getSuffix=function(t){var e=t.lastIndexOf(".");return-1==e?"":t.substring(e+1).toLowerCase()},o.isImageUrl=function(t){return this._imageSuf.has(this.getSuffix(t))},o.isVideoUrl=function(t){return this._videoSuf.has(this.getSuffix(t))},o.isAudioUrl=function(t){return this._audioSuf.has(this.getSuffix(t))},o.isFileUrl=function(t){return this._fileSuf.has(this.getSuffix(t))},o.isZIP=function(t){return this._zipSuf.has(this.getSuffix(t))},o.getMMPosition=function(t,e,n){void 0===e&&(e=A),void 0===n&&(n=N);var r=1e9,i=r,o=r,a=r,u=-r,f=-r,s=-r,c=Math.min,h=Math.max,l=this._tmpNode,d=0;return t.getComponents(C).concat(t.getComponentsInChildren(C)).forEach((function(t){var e=t.mesh.struct,n=e.minPosition,r=e.maxPosition;if(l.parent=t.node,n){l.position=n;var g=l.worldPosition;i=c(i,g.x),o=c(o,g.y),a=c(a,g.z),d|=1}if(r){l.position=r;var m=l.worldPosition;u=h(u,m.x),f=h(f,m.y),s=h(s,m.z),d|=2}})),l.parent=null,3==d?[e.set(i,o,a),n.set(u,f,s)]:[e.set(),n.set()]},o.getMaterials=function(t){var e=[];return t.getComponents(C).concat(t.getComponentsInChildren(C)).forEach((function(t){e.push([t,t.materials])})),e},o.limitModelSize=function(t,e){if(e>0){this.getMMPosition(t,A,N);var n=N.x-A.x,r=N.z-A.z,i=Math.abs,o=Math.min(i(e/n),i(e/r),1);t.position=A.set(-(A.x+N.x)/2*o,-A.y*o,-(A.z+N.z)/2*o),1!=o&&(t.scale=t.scale.multiplyScalar(Math.abs(o)))}},o.inViewport=function(t,e){var n,r=null==(n=t.model)?void 0:n.worldBounds;return!!r&&this.aabbInViewport(r,e)},o.aabbInViewport=function(t,e){var n=t.center,r=t.halfExtents,i=0;["x","y","z"].forEach((function(t){var e=r[t];e&&(F[i++].set(n)[t]+=e,F[i++].set(n)[t]-=e)}));for(var o=0;o<i;o++)if(this.pointInViewport(F[o],e))return!0;return!1},o.pointInViewport=function(t,e){var n=e.worldToScreen(t,A),r=n.x,i=n.y,o=f.getViewportRect();return r>-20&&r<o.width+20&&i>-20&&i<o.height+20},o.webCopyString=function(){var t=r(i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",void 0);case 2:return t.prev=2,t.next=5,navigator.clipboard.writeText(e).then((function(){n=!0})).catch((function(){n=!1}));case 5:t.next=20;break;case 7:t.prev=7,t.t0=t.catch(2),(r=document.createElement("textarea")).value=e,r.readOnly=!0,r.style.position="absolute",document.body.appendChild(r),r.select(),r.selectionStart=0,r.selectionEnd=e.length,document.execCommand("copy"),document.body.removeChild(r),n=!0;case 20:return t.abrupt("return",n);case 21:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e){return t.apply(this,arguments)}}(),o.numsToStr=function(t){return t.join("_")},o.strToNums=function(t){return t.split("_").map((function(t){return+t}))},o.vecToNums=function(t){var e=[],n=Math.round;return["x","y","z","w"].forEach((function(r){r in t&&e.push(n(t[r]+5e-7))})),e},o.vecToStr=function(t){return this.numsToStr(this.vecToNums(t))},o.removeItem=function(t,e){var n=t.indexOf(e);-1!=n&&t.splice(n,1)},o.updateAlignmentWithChildren=function(){var t=r(i().mark((function t(e,o,a){var u,f,c,h,l;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.waitFrame();case 2:u=(null==a?void 0:a.addSize)||T.ZERO,f=(null==a?void 0:a.minSize)||T.ZERO,c=e.width+u.width,h=e.height+u.height,c=c>f.width?c:f.width,h=h>f.height?h:f.height,o.setContentSize(c,h),(l=function(){var t=r(i().mark((function t(e){var r,o,a,u;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&!(e.children.length<=0)){t.next=2;break}return t.abrupt("return");case 2:r=e.getComponentsInChildren(s),o=n(r);case 4:if((a=o()).done){t.next=12;break}return(u=a.value).updateAlignment(),t.next=9,_.waitFrame();case 9:l(u.node);case 10:t.next=4;break;case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())(o.node);case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),o.scaleArrayValue=function(t,e){void 0===e&&(e=1);var n=[];if(1!=e)for(var r=0;r<t.length;r++)n[r]=t[r]*e;return n},o.create3dTexture=function(t){var e=new v;return e.setMipFilter(v.Filter.LINEAR),e.setFilters(v.Filter.LINEAR,v.Filter.LINEAR),t&&(e.image=t),e},o.checkPhoneAvailable=function(t){return""!==t&&/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/.test(t)},o.recordPlaneSize=function(t){var e,n=t.node;n.isValid&&(n.$ltScale||(n.$ltScale=a()),n.$ltScale.set(n.worldScale),this.limitPlaneSize(t,null==(e=t.material)?void 0:e.getProperty("mainTexture")))},o.limitPlaneSize=function(t,e){t.node.isValid&&t.material.setProperty("mainTexture",e)},o.kvArrayToMap=function(t,e){if(e.clear(),t)for(var r,i=n(t);!(r=i()).done;){var o=r.value,a=o[0],u=o[1];e.set(a,u)}},o.getUrlParmas=function(t){var e=t.split("?"),r=e[1],i={};if(r&&r.length>0)for(var o,a=new URLSearchParams(r),u=n(a.entries());!(o=u()).done;){var f=o.value,s=f[0],c=f[1];i[s]=c}return[e[0],i]},o.percentToNumber=function(t,e){void 0===e&&(e=1e4);var n=.01*Math.round(t*e);return n%1==0?n+"":n.toFixed(10*n%1==0?1:2)},t}()));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/CommonItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoadHelper.ts","./ComFun.ts"],(function(t){var n,e,i,o,r,a,u,l,c,s,m,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,u=t.Sprite,l=t.Label,c=t.isValid,s=t.Component},function(t){m=t.default},function(t){p=t.default}],execute:function(){var f,d,h,b,y,v,g;r._RF.push({},"a0f9bRYra1EQJkirkLs2kxk","CommonItem",void 0);var _=a.ccclass,I=a.property;r._RF.push({},"6d008SKuAJONYh7l0alX9uJ","CommonItem",void 0);t("CommonItem",(f=_("CommonItem"),d=I({type:u}),h=I({type:l}),f((v=n((y=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"icon",v,o(n)),i(n,"numLab",g,o(n)),n._itemData=null,n}e(n,t);var r=n.prototype;return r.start=function(){},r.init=function(t){var n=this;this._itemData=t,this.numLab.string=p.getGoldnumStringby(t.num),m.loadItemIcon(t.id,this.icon).then((function(e){var i;e&&c(n)&&(null==(i=n._itemData)?void 0:i.id)===t.id&&(n.icon.spriteFrame=e)}))},n}(s)).prototype,"icon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(y.prototype,"numLab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y))||b));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/Constant.ts",["cc"],(function(_){var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){var A,T,e;E._RF.push({},"66a4aTFGmFDB5PIrWHiJoKb","Constant",void 0),E._RF.push({},"dd7f7dK9kpB5oWtsDBb6638","Constant",void 0);_("EGameEvent",function(_){return _.SCENE_OPEN="SCENE_OPEN",_.SCENE_CLICK="SCENE_CLICK",_.UI_SHOW="UI_SHOW",_.UI_HIDE="UI_HIDE",_.GAME_ONSHOW="GAME_ONSHOW",_.RES_COLLECT="RES_COLLECT",_.RES_NUMCUT="RES_NUMCUT",_.UPDATE_RES="UPDATE_RES",_.RESBUY_SHOW="RESBUY_SHOW",_.REDDOT_UPDATE="REDDOT_UPDATE",_.AUDIO_CHANGE="AUDIO_CHANGE",_.PLAY_RES_CHANGE="PLAY_RES_CHANGE",_.HOME_TAB_SWITCH="HOME_TAB_SWITCH",_.CARD_ADD="CARD_ADD",_.CARD_UPDATE="CARD_UPDATE",_.CARD_EQUIP_CHANGE="CARD_EQUIP_CHANGE",_.CARD_SLOT_NUM="CARD_SLOT_NUM",_.LAB_ATT_LV_CHANGE="LAB_ATT_LV_CHANGE",_.LAB_ATT_TRAIN_START="LAB_ATT_TRAIN_START",_.LAB_ATT_TRAIN_END="LAB_ATT_TRAIN_END",_.LAB_ATT_SLOT_CHANGE="LAB_ATT_SLOT_CHANGE",_.PLAY_STEP_EVENT="PLAY_STEP_EVENT",_.PLAY_PROPERTY_UPDATE="PLAY_PROPERTY_UPDATE",_.PLAY_SPEED_CHANGE="PLAY_SPEED_CHANGE",_.ONLINETIME_UPDATE="ONLINETIME_UPDATE",_.TT_SIDEBAR_ENTER="TT_SIDEBAR_ENTER",_.TT_SIDEBAR_STATE_CHANGE="TT_SIDEBAR_STATE_CHANGE",_.PLAY_SKILL_GET="PLAY_SKILL_GET",_.PLAY_SKILL_MONEY="PLAY_SKILL_MONEY",_.PLAY_BUFF_UPDATE="PLAY_BUFF_UPDATE",_.PLAY_SKILL_COOLTIME="PLAY_SKILL_COOLTIME",_}({})),_("EGameDataKey",function(_){return _.AUDIO_STATE_MUSIC="AUDIO_STATE_MUSIC",_.AUDIO_STATE_EFFECT="AUDIO_STATE_EFFECT",_.VIBRATE_STATE="VIBRATE_STATE",_.Account="Account",_.PassWords="Pass",_.SSOToken="SSOToken",_.Phone="Phone",_.RATEAPP_UISHOWTIME="RATEAPP_UISHOWTIME",_.NewPlayer="NewPlayer",_.RES_ITEMNUM="RES_ITEMNUM",_.PLAYER_LV="PLAYER_LV",_.UPDATETIME_Power="UPDATETIME_Power",_.SIGN_DAYS="SIGN_DAYS",_.SIGN_ZEROTIME="SIGN_ZEROTIME",_.PROPERTY_LV="PROPERTY_LV",_.PLAY_SPEED="PLAY_SPEED",_.WORLD_PASS_ID="WORLD_PASS_ID1",_.WORLD_PASS_STAGE="WORLD_PASS_STAGE",_.BATTLE_NUM="BATTLE_NUM",_.IDLE_TIME_START="IDLE_TIME_START",_.CARD_LIST="CARD_LIST1",_.CARD_EQUIP="CARD_EQUIP1",_.CARD_SLOT="CARD_SLOT",_.CARD_AD_FREE_TIME="CARD_AD_FREE_TIME",_.CARD_AD_FREE_NUM="CARD_AD_FREE_NUM",_.CARD_FREE_TIME="CARD_FREE_TIME",_.LAB_ATT_LVS="LAB_ATT_LVS",_.LAB_ATT_SLOT="LAB_ATT_SLOT",_.LAB_ATT_TRAIN="LAB_ATT_TRAIN",_.FREEGIFT_GET_TIME="FREEGIFT_GET_TIME",_.SHOP_FREE_DIAMOND_GET_TIME="SHOP_FREE_DIAMOND_GET_TIME",_.SHOP_AD_DIAMOND_TIMES="SHOP_AD_DIAMOND_TIMES",_.SHOP_AD_DIAMOND_UPDATE_TIME="SHOP_AD_DIAMOND_UPDATE_TIME",_.SHOP_AD_Crystal_TIMES="SHOP_AD_Crystal_TIMES",_.SHOP_AD_Crystal_UPDATE_TIME="SHOP_AD_Crystal_UPDATE_TIME",_.Guide_UI_Step="Guide_UI_Step",_.RECOMMENDAPP_REWARDSTATE="RECOMMENDAPP_REWARDSTATE",_.ONLINETIME_UPDATE_TIME="ONLINETIME_UPDATE_TIME",_.ONLINETIME_TIME="ONLINETIME_TIME",_.ONLINETIME_GET_REWARD_INDEX="ONLINETIME_GET_REWARD_INDEX",_.TT_SIDEBAR_STATE="TT_SIDEBAR_STATE",_.MYSTERY_GIFT_STATE="MYSTERY_GIFT_STATE",_.FIRST_LOGIN_TIME="FIRST_LOGIN_TIME",_.STAGE_REWARD_STATE="STAGE_REWARD_STATE",_}({})),_("EEffectAudioIds",function(_){return _[_.MouseClick=0]="MouseClick",_[_.FirstSelectYes=1]="FirstSelectYes",_}({})),_("EStageEventName",function(_){return _.StageBegin="stage_begin",_.StageFail="stage_fail",_.StagePass="stage_pass",_.StageRun="stage_run",_}({})),_("ETJEventName",function(_){return _.UIShow="ui_show",_.NewPlayer="new_player",_.Video="video",_.VideoShow="video_show",_.VideoEnd="video_end",_.VideoError="video_error",_.InsertAd="insert_ad",_.StageDead="stage_dead",_.StageRevive="stage_revive",_.GuideTask="guide_task",_.CardDraw="card_draw",_.ResultScale="result_scale",_.IdleReward="idle_reward",_.JumpWxApp="jump_wxapp",_.LvUp="lv_up",_}({})),_("EGamePlatform",function(_){return _[_.None=0]="None",_.WeChat="wechat",_.H5="h5",_.QQ="qq",_.OPPO="oppo",_.VIVO="vivo",_.BAIDU="baidu",_.TT="tt",_.XM="xm",_.Android="android",_.IOS="ios",_.KS="ks",_.UC="uc",_}({})),_("EPlayColliderGroup",function(_){return _[_.Player=2]="Player",_[_.Bullet=4]="Bullet",_[_.Enermy=8]="Enermy",_}({}));var R=_("EItemType",function(_){return _[_.Coin=0]="Coin",_[_.Gold=1]="Gold",_[_.Diamond=2]="Diamond",_[_.Crystal=3]="Crystal",_[_.Power=4]="Power",_[_.TurntableKey=5]="TurntableKey",_[_.Card=100]="Card",_}({})),S=(_("ItemNames",["金币","钻石","水晶","体力","转盘骰子"]),_("EItemColor",function(_){return _[_.Common=0]="Common",_[_.UNCommon=1]="UNCommon",_[_.Rare=2]="Rare",_[_.Epic=3]="Epic",_[_.Legendary=4]="Legendary",_}({})),_("ItemColorNames",["普通","高级","稀有","史诗","传奇"]),_("ItemColors",["#E0E0CD","#5DFF00","#28B8FF","#FF28FF","#F29325"]),_("PowerConfig",{MaxPower:20,AddTime:300,AddPower:1,StageCutNum:-5}),_("ERedDotType",function(_){return _[_.None=0]="None",_[_.Factory=1]="Factory",_[_.Card=2]="Card",_[_.Lab=3]="Lab",_[_.Shop=4]="Shop",_[_.Turntable=5]="Turntable",_[_.OnlineTimeReward=6]="OnlineTimeReward",_}({})),_("ETurretPropertyId",function(_){return _.Atk="ATK",_.AtkSpeed="ATK_SPEED",_.AtkRange="ATK_RANGE",_.AtkRangeAddPer="ATK_RANGE_ADD_PER",_.DamagePerMeter="DAMAGE_PER_METER",_.AtkCritRate="CRIT_CHANCE",_.AtkCritPer="CRIT_PER",_.ShotDoubleRate="DOUBLE_SHOT_CHANCE",_.ShotDoublePer="DOUBLE_SHOT_PER",_.ShotMultiRate="MULTI_SHOT_CHANCE",_.ShotMultiNum="MULTI_SHOT_TARGET",_.StunRate="STUN_CHANCE",_.StunTime="STUN_TIME",_.SlowRate="SLOW_CHANCE",_.SlowPer="SLOW_PER",_.KnockBackRate="KNOCK_BACK_CHANCE",_.DeadHitRate="DEAD_HIT_CHANCE",_.AtkAddPer="ATK_ADD_PER",_.AtkSpeedAddPer="ATKSPEED_ADD_PER",_.LifeAddPer="LIFE_ADD_PER",_.Life="HP",_.LifeRestore="REGEN",_.LifeRestoreAddPer="REGEN_ADD_PER",_.DamageReduce="DAMAGE_RESISTANCE",_.DodgeRate="DODGE",_.DamageBackRate="DAMAGE_RETURN_CHANCE",_.DamageBackPer="DAMAGE_RETURN_PER",_.ShieldHp="SHIELD",_.ShieldSpawnTime="SHIELD_CD",_.LifeSteal="LIFE_LEAK",_.GoldBonusWave="GOLD_PER_WAVE",_.GoldBonusKill="GOLD_PER_100_KILL",_.CoinBonusWave="COIN_PER_WAVE",_.CoinBonusKill="COIN_PER_50_KILL",_.CritGold="CRIT_GOLD",_.CritGoldRate="CRIT_GOLD_RATE",_.WORKER_NUM="WORKER_NUM",_.WORKER_MOVE_SPEED="WORKER_MOVE_SPEED",_.GoldBonusBossKill="BOSS_GOLD",_.CoinCostReduce="DISCOUNT",_.ReviveWing="REVIVE_WING",_}({}))),D=(_("PercentPropertyIds",[S.AtkCritRate,S.AtkCritPer,S.ShotDoubleRate,S.ShotDoublePer,S.ShotMultiRate,S.StunRate,S.SlowRate,S.SlowPer,S.KnockBackRate,S.DeadHitRate,S.DamageReduce,S.DodgeRate,S.DamageBackRate,S.DamageBackPer,S.LifeSteal,S.CoinCostReduce,S.CritGoldRate,S.AtkAddPer,S.AtkSpeedAddPer,S.LifeAddPer,S.AtkRangeAddPer,S.LifeRestoreAddPer]),_("ELabPropertyId",function(_){return _.LAB_GAME_SPEED="LAB_GAME_SPEED",_.LAB_START_COIN="LAB_START_COIN",_.LAB_COIN_BONUS="LAB_COIN_BONUS",_.LAB_GOLD_BONUS="LAB_GOLD_BONUS",_.LAB_GOLD_DISCOUNT="LAB_GOLD_DISCOUNT",_.LAB_COIN_PER_WAVE="LAB_COIN_PER_WAVE",_.LAB_COIN_PER_50_KILL="LAB_COIN_PER_50_KILL",_.LAB_ATK="LAB_ATK",_.LAB_ATK_SPEED="LAB_ATK_SPEED",_.LAB_CRIT_PER="LAB_CRIT_PER",_.LAB_ATK_RANGE="LAB_ATK_RANGE",_.LAB_HP="LAB_HP",_.LAB_REGEN="LAB_REGEN",_}({}))),I=(_("LabPropertyGroup",[[D.LAB_GAME_SPEED,D.LAB_START_COIN,D.LAB_COIN_BONUS,D.LAB_GOLD_BONUS,D.LAB_GOLD_DISCOUNT,D.LAB_COIN_PER_WAVE,D.LAB_COIN_PER_50_KILL],[D.LAB_ATK,D.LAB_ATK_SPEED,D.LAB_CRIT_PER,D.LAB_ATK_RANGE],[D.LAB_HP,D.LAB_REGEN]]),_("LabPropertyGroupName",["常规","攻击","防御"]),_("ECardQuality",function(_){return _[_.COMMON=0]="COMMON",_[_.RARE=1]="RARE",_[_.EPIC=2]="EPIC",_[_.LEGEND=3]="LEGEND",_}({})));_("CardQualityName",((A={})[I.COMMON]="普通",A[I.RARE]="稀有",A[I.EPIC]="史诗",A[I.LEGEND]="传说",A)),_("CardQualityColor",((T={})[I.COMMON]="#1BDF00",T[I.RARE]="#51aaf8",T[I.EPIC]="#b13be5",T[I.LEGEND]="#de5e2f",T)),_("EGlobalGMKey",function(_){return _.AUTO_FIGHT="AUTO_FIGHT",_}({})),_("StagePointRewards",[[{id:R.Gold,num:1e3}],[],[{id:R.Gold,num:3e3}],[],[{id:R.Diamond,num:50}]]),_("ResAddCf",((e={})[R.Gold]={baseNum:2e3,worldAddScale:1},e[R.Diamond]={baseNum:30,worldAddScale:.5},e[R.Crystal]={baseNum:500,worldAddScale:1},e));E._RF.pop(),E._RF.pop()}}}));

System.register("chunks:///_virtual/CustomAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameCtr.ts","./Constant.ts"],(function(t){var o,e,n,i,s,r,a,c,d,u,h,l,f;return{setters:[function(t){o=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,c=t.Enum,d=t.view,u=t.UITransform,h=t.Component},function(t){l=t.default},function(t){f=t.EGamePlatform}],execute:function(){var m,p,A,y,w;r._RF.push({},"d2fd7C42h5L2rgmeZw3krJj","CustomAd",void 0);var C=a.ccclass,_=a.property;r._RF.push({},"d2fd7C42h5L2rgmeZw3krJj","CustomAd",void 0);var g=function(t){return t[t.OneCell=0]="OneCell",t}(g||{});t("CustomAd",(m=C("CustomAd"),p=_({type:c(g)}),m((w=o((y=function(t){function o(){for(var o,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return o=t.call.apply(t,[this].concat(s))||this,n(o,"adType",w,i(o)),o._customAd=null,o._isLoadOk=!1,o._isShowAd=!1,o}e(o,t);var r=o.prototype;return r.start=function(){},r.showAd=function(){var t=this.customAd;t&&t.show().then((function(){console.log("原生模板广告显示成功")})).catch((function(t){console.log(t)}))},r.onEnable=function(){this.customAd&&(this._isShowAd=!0,this._isLoadOk&&this.showAd())},r.onDisable=function(){var t=this.customAd;t&&t.hide()},r.onDestroy=function(){var t=this.customAd;t&&t.destroy()},s(o,[{key:"customAd",get:function(){var t=this;if(!this._customAd){var o=l.playCf.customAdIds&&l.playCf.customAdIds[this.adType]||"";if(o&&""!==o&&l.platform===f.WeChat)try{this._customAd=wx.createCustomAd({adUnitId:o,style:this.nodeStyle}),this._customAd.onLoad((function(){console.log("原生模板广告加载成功",t._isShowAd),t._isLoadOk=!0,t._isShowAd&&t.showAd()}))}catch(t){}}return this._customAd}},{key:"nodeStyle",get:function(){var t=d.getFrameSize(),o=this.getComponent(u),e=Math.round,n=this.node.worldPosition,i=this.node.worldScale,s=t.width/d.getVisibleSize().width,r=i.x*o.width,a=i.y*o.height,c="px";return{left:e((n.x-r*o.anchorX)*s)+c,top:t.height-e((n.y+(1-o.anchorY)*a)*s)+c,width:e(r*s)+c,fixed:!0}}}]),o}(h)).prototype,"adType",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.OneCell}}),A=y))||A));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/DataAccess.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,a,r,n;return{setters:[function(t){e=t.createClass,i=t.inheritsLoose},function(t){a=t.cclegacy,r=t.resources,n=t.BufferAsset}],execute:function(){a._RF.push({},"eb6bbuNOYFApZU11uZpS9ix","DataAccess",void 0),a._RF.push({},"0077ePZi3tJhYl5ve7Q+PDm","DataAccess",void 0);var s=t("DataAccess",function(){function t(){}return t.initial=function(t,e,i){this.dataDir=t,this.generator=i,this.loader=e},t.getDataItem=function(t){var e=t.__type_name__;return this._items[e]?this._items[e]:this._items[e]=new o(t)},t.getDataTable=function(t,e){void 0===e&&(e="id");var i=t.__type_name__;return this._tables[i]?this._tables[i]:this._tables[i]=new u(t,e)},t}());s.useProtoMemberTagAsHashtableKey=!1,s.cacheHashValue=!0,s.dataExt=".bin",s.dataDir=void 0,s.generator=void 0,s.loader=void 0,s._items={},s._tables={};var o=t("DataItem",function(){function t(t){this.localGenerator=void 0,this.localLoader=void 0,this.dataType=void 0,this.source=void 0,this._item=void 0,this.dataType=t}var i=t.prototype;return i.onGenerateFilename=function(t){return null!=this.localGenerator?this.localGenerator(t):null!=s.generator?s.generator(t):(t=t.replace("_ARRAY",""),s.dataDir+t.toLocaleLowerCase())},i.onLoadData=function(t){if(null!=this.source)return new Uint8Array(this.source.buffer());var e=this.onGenerateFilename(t);return null!=this.localLoader?this.localLoader(e):null!=s.loader?s.loader(e):(this.source=r.get(e,n),this.source?new Uint8Array(this.source.buffer()):null)},i.setSource=function(t){this.source=t},i.initial=function(t,e,i){this.dataType=t,this.localLoader=e,this.localGenerator=i},t.create=function(e,i){var a=new t(e);return a.setSource(i),a},i.clear=function(){null!=this.source&&(this.source.destroy(),this.source=void 0)},i.load=function(){var t=this.onLoadData(this.dataType.__array_type_name__);return this.dataType.__array_type__.decode(t)},e(t,[{key:"data",get:function(){return null==this._item&&(this._item=this.load()),this._item}}]),t}()),u=t("DataTable",function(t){function a(e,i){var a;return void 0===i&&(i="id"),(a=t.call(this,e)||this)._keyName="id",a._itemMap=void 0,a._items=void 0,a._ids=void 0,a._keyName=i,a}i(a,t);var r=a.prototype;return r.load=function(){var t=this.dataType.__array_type_name__,e=this.onLoadData(t);return this.dataType.getArrayType().decode(e).Items},a.create=function(t,e,i){void 0===i&&(i="id");var r=new a(t,i);return r.setSource(e),r},r.getItem=function(t){return this.itemMap[t]},r.initDataAsDict=function(){var t=this,e={};try{return this.items.forEach((function(i){e[i[t.keyName]]=i})),e}catch(t){return console.error("can not get data map by key "+this.keyName),e}},r.initDataAsList=function(){return this.load()},r.contains=function(t){return null!=this.itemMap[t]},r.clear=function(){t.prototype.clear.call(this),this._itemMap=void 0,this._items=void 0},e(a,[{key:"keyName",get:function(){return this._keyName}},{key:"itemMap",get:function(){return null==this._itemMap&&(this._itemMap=this.initDataAsDict()),this._itemMap}},{key:"items",get:function(){try{null==this._items&&(this._items=this.initDataAsList())}catch(t){console.log("config data load error: "+t)}return this._items}},{key:"IDs",get:function(){var t=this;return null==this._ids&&(this._ids=this.items.map((function(e){return e[t.keyName]}))),this._ids}}]),a}(o));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DelayPlayAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts"],(function(e){var t,n,i,r,a,o,l,u,s,p,c,y,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){u=e.cclegacy,s=e._decorator,p=e.Enum,c=e.AnimationClip,y=e.Animation,f=e.Component},function(e){d=e.default}],execute:function(){var h,b,m,g,P,v,w,A,D;u._RF.push({},"fdceezcoulFbYYbCJ9bNU/6","DelayPlayAni",void 0);var z=s.ccclass,M=s.property;u._RF.push({},"a4f2bVJ7B9Do6P7iIxdMkha","DelayPlayAni",void 0);e("DelayPlayAni",(h=z("DelayPlayAni"),b=M({type:p(c.WrapMode)}),h((P=t((g=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"delay",P,r(t)),i(t,"speed",v,r(t)),i(t,"isLoadPlay",w,r(t)),i(t,"aniId",A,r(t)),i(t,"wrapMode",D,r(t)),t}n(t,e);var u=t.prototype;return u.start=function(){this.isLoadPlay&&this.playAni(this.aniId,this.wrapMode)},u.playAni=function(){var e=o(l().mark((function e(t,n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=0),!this.delay){e.next=4;break}return e.next=4,d.onDelayPromise(this.delay,this);case 4:return e.next=6,d.playAni(this.ani,t,n,this.speed);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),a(t,[{key:"ani",get:function(){return this.getComponent(y)}}]),t}(f)).prototype,"delay",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=t(g.prototype,"speed",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),w=t(g.prototype,"isLoadPlay",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=t(g.prototype,"aniId",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),D=t(g.prototype,"wrapMode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.WrapMode.Default}}),m=g))||m));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/DmgColliderBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnermyBase.ts","./NodePoolHelper.ts","./EffectBase.ts","./FightSkillCtr.ts"],(function(t){var e,n,r,i,o,a,s,c,u,l,f,p,h,d,g,m,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){c=t.cclegacy,u=t._decorator,l=t.Collider2D,f=t.Prefab,p=t.Contact2DType,h=t.Component},function(t){d=t.EnermyBase},function(t){g=t.default},function(t){m=t.EffectBase},function(t){C=t.FightSkillCtr}],execute:function(){var y,v,b,w,B,E,P;c._RF.push({},"4ebba6ttZ1NsrIFff+ie5zW","DmgColliderBase",void 0);var k=u.ccclass,D=u.property;c._RF.push({},"41334GSx+dHLrd7WhmJ9fPX","DmgColliderBase",void 0);t("DmgColliderBase",(y=k("DmgColliderBase"),v=D({type:l}),b=D({type:f}),y((E=e((B=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"dmgCollider",E,i(e)),r(e,"hitEffectPrefab",P,i(e)),e._damage=0,e}n(e,t);var c=e.prototype;return c.start=function(){this.dmgCollider&&this.dmgCollider.on(p.BEGIN_CONTACT,this.onBeginContact,this)},c.onShow=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.node.active=!0;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onHide=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.node.active=!1;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.onBeginContact=function(t,e){console.log("碰撞Cb",e.group),this.onCollision(e.getComponent(d))},c.onCollision=function(){var t=a(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.onBeHit(this.damage),t.next=3,this.showHitEffect(e.node.worldPosition);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),c.showHitEffect=function(){var t=a(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hitEffectPrefab){t.next=2;break}return t.abrupt("return");case 2:return(n=g.get(this.hitEffectPrefab)).parent=C.ins.skillLayer,n.worldPosition=e,t.next=7,n.getComponent(m).onShow();case 7:g.put(n);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o(e,[{key:"damage",get:function(){return this._damage},set:function(t){this._damage=t}}]),e}(h)).prototype,"dmgCollider",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(B.prototype,"hitEffectPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=B))||w));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/EffectBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,i,c,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.Component}],execute:function(){var s,f,u;i._RF.push({},"36f88V5gapKkbQUj9KWHu/I","EffectBase",void 0);var p=c.ccclass,l=c.property;i._RF.push({},"d6aa088L2pOH6R9G0+n4Gkd","EffectBase",void 0);e("EffectBase",p("EffectBase")((u=t((f=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,r(t,"showTime",u,o(t)),t.effectId=0,t}n(t,e);var i=t.prototype;return i.start=function(){},i.onShow=function(){var e=this;return new Promise((function(t,n){e.scheduleOnce((function(){t()}),e.showTime)}))},i.onStop=function(){},t}(a)).prototype,"showTime",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),s=f))||s);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/EnermyBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./SpineAni.ts","./FightNode.ts","./AudioMng.ts","./CfgMng.ts"],(function(t){var e,i,n,o,a,r,s,l,u,c,p,h,d,f,y,_,k,g,m,v,A,C,S,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,u=t._decorator,c=t.v2,p=t.v3,h=t.Prefab,d=t.AudioClip,f=t.Node,y=t.tween,_=t.instantiate,k=t.ProgressBar,g=t.Vec3,m=t.Component},function(t){v=t.default},function(t){A=t.SpineAni},function(t){C=t.FightNode},function(t){S=t.AudioMng},function(t){b=t.default}],execute:function(){var N,D,B,M,w,E,R,P,T,x,z,F,H,G,I,U,L;l._RF.push({},"d3373NHJM1AJIT38LJ8zoYk","EnermyBase",void 0);var K=u.ccclass,V=u.property;l._RF.push({},"c613cfTFE5K55KIxnMYg296","EnermyBase",void 0);var J=function(t){return t[t.None=0]="None",t[t.Move=1]="Move",t[t.Attack=2]="Attack",t[t.Stun=3]="Stun",t[t.Dead=4]="Dead",t}(J||{}),W=function(t){return t.Move="move",t.Attack="attack",t}(W||{}),Y=t("EAttackType",function(t){return t[t.Normal=0]="Normal",t[t.Crit=1]="Crit",t[t.DeatHit=2]="DeatHit",t}({})),j=["#ffffff","#BF1BFF","#FF0000"],O=c(),q=p();t("EnermyBase",(N=K("EnermyBase"),D=V({type:A}),B=V({type:h}),M=V({type:[d]}),w=V({type:[d]}),E=V({type:[d]}),R=V({type:f}),P=V({type:f}),N((z=e((x=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"spAni",z,o(e)),n(e,"lifeBarPrefab",F,o(e)),n(e,"apearAudioClips",H,o(e)),n(e,"attackAudioClips",G,o(e)),n(e,"deadAudioClips",I,o(e)),n(e,"stunAniNode",U,o(e)),n(e,"rageAniNode",L,o(e)),e._erenmyUId=0,e._propertyData=null,e._targetNode=null,e._state=J.None,e._speedVec=c(),e._attackCooltime=0,e._life=0,e._enermyCf=null,e._lifeBar=null,e._stunTime=0,e._slowMoveSpeedPer=0,e}i(e,t);var l=e.prototype;return l.start=function(){},l.init=function(){var t=r(s().mark((function t(e,i,n,o){var a,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===o&&(o=1),a=b.CfgEnermy.getItem(i)){t.next=4;break}return t.abrupt("return");case 4:this._stunTime=0,this._enermyCf=a,this._erenmyUId=e,S.playAudioClip(this.apearAudioClips[Math.floor(Math.random()*this.apearAudioClips.length)]),this.spAni.changeSkin(a.skin),this._targetNode=n,this._propertyData={attack:a.atk*(1+(o-1)*b.globalConfig.EnermyWaveUpAtk),life:a.hp*(1+(o-1)*b.globalConfig.EnermyWaveUpHP),attackRange:a.atkRange||0,attackSpeed:a.atkSpeed||0,moveSpeed:a.moveSpeed||0,killCoin:a.baseKillCoin||0,killGold:a.killGold||0,killGoldRate:a.killGoldRate||0},this._life=this._propertyData.life,this._attackCooltime=0,this.rageAniNode&&(this.rageAniNode.active=this.isBoss),r=this._targetNode.node.position,this._speedVec.set(r.x,r.y).subtract2f(this.node.position.x,this.node.position.y).normalize(),this._state=J.Move,this.onMove();case 18:case"end":return t.stop()}}),t,this)})));return function(e,i,n,o){return t.apply(this,arguments)}}(),l.onMove=function(){this.spAni.playAni(W.Move,!0)},l.playAttackAni=function(){return this.spAni.playAni(W.Attack,!1)},l.onAttack=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._targetNode.isDead){t.next=2;break}return t.abrupt("return");case 2:return S.playAudioClip(this.attackAudioClips[Math.floor(Math.random()*this.attackAudioClips.length)]),this._targetNode.onBeHit(this._propertyData.attack,this),t.next=6,this.playAttackAni();case 6:this.onMove();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onBeHit=function(t,e){void 0===e&&(e=Y.Normal),this.isDead||(this._life-=t,C.ins.playEffectCtr.showNumEffectAct(this.node.position,t,j[e]),this._life<=0?(this._life=0,this.hideLifeBar(),this.onDead()):this.showLifeBar())},l.onDead=function(){this.isStun&&this.stopStun(),S.playAudioClip(this.deadAudioClips[Math.floor(Math.random()*this.deadAudioClips.length)]),this._state=J.Dead,C.ins.killEnermy(this)},l.onDeadHit=function(){this.onBeHit(this._life,Y.DeatHit)},l.onStun=function(t){this._stunTime=t,this._state=J.Stun,this.stunAniNode.active=!0},l.stopStun=function(){this._stunTime=0,this._state=J.Move,this.stunAniNode.active=!1},l.onSlowMoveSpeed=function(t){void 0===t&&(t=0),this._slowMoveSpeedPer=t},l.onKnockBack=function(t){void 0===t&&(t=80),this.onStun(1);var e=this.node.position,i=q.set(e).normalize().multiplyScalar(t).add(e);y(this.node).to(.2,{position:i}).start()},l.checkAttackWillDead=function(t){return this._life<=t},l.update=function(t){if(this.isCheckUpdate){var e=t*C.ins.curPlaySpeed;if(this._state===J.Move)if(this.nearTargetDistance>this.attackRange){var i=this._targetNode.node.position;O.set(i.x,i.y).subtract2f(this.node.position.x,this.node.position.y).normalize(),O.multiplyScalar(this.moveSpeed*e*(1-this._slowMoveSpeedPer)).add2f(this.node.position.x,this.node.position.y),v.setNodePos(this.node,O.x,O.y)}else this._state=J.Attack,this._attackCooltime=0;else this._state===J.Attack?this.nearTargetDistance>this.attackRange?(this._state=J.Move,this.onMove()):(this._attackCooltime+=e,this._attackCooltime>=this._propertyData.attackSpeed&&(this._attackCooltime=0,this.onAttack())):this._state===J.Stun&&(this._stunTime-=e,this._stunTime<=0&&this.stopStun())}},l.showLifeBar=function(){if(!this._lifeBar){var t=_(this.lifeBarPrefab);this.node.addChild(t),v.setNodePosY(t,30),this._lifeBar=t.getComponent(k)}this._lifeBar.node.active=!0,this._lifeBar.progress=this._life/this._propertyData.life},l.hideLifeBar=function(){this._lifeBar&&(this._lifeBar.node.active=!1)},a(e,[{key:"erenmyUId",get:function(){return this._erenmyUId}},{key:"enermCf",get:function(){return this._enermyCf}},{key:"moveSpeed",get:function(){return 6*this._propertyData.moveSpeed}},{key:"isBoss",get:function(){return-1!==this._enermyCf.skin.search("Boss")}},{key:"killCoin",get:function(){return this._propertyData.killCoin}},{key:"killGold",get:function(){return this._propertyData.killGold}},{key:"killGoldRate",get:function(){return this._propertyData.killGoldRate}},{key:"attackValue",get:function(){return this._propertyData.attack}},{key:"targetNode",get:function(){return this._targetNode}},{key:"nearTargetDistance",get:function(){return this._targetNode?g.distance(this._targetNode.node.position,this.node.position):0}},{key:"attackRange",get:function(){return this._propertyData.attackRange*b.globalConfig.RANGE_SCENE_SCALE+b.globalConfig.TurretBodyRadius}},{key:"isStun",get:function(){return this._state===J.Stun}},{key:"isSlowMoveSpeed",get:function(){return this._slowMoveSpeedPer>0}},{key:"isDead",get:function(){return this._state===J.Dead}},{key:"isCheckUpdate",get:function(){return[J.Move,J.Attack,J.Stun].indexOf(this._state)>-1&&null!==this._targetNode&&!this._targetNode.isDead}}]),e}(m)).prototype,"spAni",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(x.prototype,"lifeBarPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(x.prototype,"apearAudioClips",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(x.prototype,"attackAudioClips",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(x.prototype,"deadAudioClips",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=e(x.prototype,"stunAniNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(x.prototype,"rageAniNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=x))||T));l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/EnermyDeadEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts"],(function(e){var t,n,r,o,a,c,i,s,u,f;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator,c=e.Component,i=e.UIOpacity,s=e.v3,u=e.tween},function(e){f=e.default}],execute:function(){var p;o._RF.push({},"28f83O6KGJIwbjlw5+bbvyb","EnermyDeadEffect",void 0);var l=a.ccclass;a.property;o._RF.push({},"1fb68h3Ob1Pu4vIK69O1AuX","EnermyDeadEffect",void 0);e("EnermyDeadEffect",l("EnermyDeadEffect")(p=function(e){function o(){return e.apply(this,arguments)||this}t(o,e);var a=o.prototype;return a.start=function(){},a.showEffect=function(){var e=n(r().mark((function e(t){var n,o,a,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.node.setPosition(t),n=t.clone().normalize(),o=this.node.children,a=r().mark((function e(t){var a,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=o[t]).active=!0,(c=a.getComponent(i)).opacity=255,a.setPosition(s(0,0,0)),f.onTweenPromise(u(a).by(.5,{position:n.clone().multiplyScalar(30*(Math.random()+.5)).add3f(20*(Math.random()-.5),20*(Math.random()-.5),0)},{easing:"expoOut"})).then((function(){f.onTweenPromise(u(c).delay(.2*t).to(.5,{opacity:0})).then((function(){a.active=!1}))}));case 6:case"end":return e.stop()}}),e)})),c=0;case 5:if(!(c<o.length)){e.next=10;break}return e.delegateYield(a(c),"t0",7);case 7:c++,e.next=5;break;case 10:return e.next=12,f.onDelayPromise(2,this);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o}(c))||p);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/EnermyShoter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnermyBase.ts","./AudioMng.ts","./NodePoolHelper.ts","./FightNode.ts","./CfgMng.ts","./UIHelp.ts"],(function(t){var e,n,r,i,o,a,s,u,c,l,p,h,f,d,y,g,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.Prefab,l=t.tween,p=t.Vec3},function(t){h=t.EnermyBase},function(t){f=t.AudioMng},function(t){d=t.default},function(t){y=t.FightNode},function(t){g=t.default},function(t){m=t.default}],execute:function(){var b,v,E,P,A;s._RF.push({},"379cd/wLddK9ZyPmUgdBplq","EnermyShoter",void 0);var M=u.ccclass,k=u.property;s._RF.push({},"fa3a0siIMdFQoKZfxnow44D","EnermyShoter",void 0);t("EnermyShoter",(b=M("EnermyShoter"),v=k(c),b((A=e((P=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"bulletPrefab",A,i(e)),e}return n(e,t),e.prototype.onAttack=function(){var t=o(a().mark((function t(){var e,n,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.targetNode.isDead){t.next=2;break}return t.abrupt("return");case 2:return f.playAudioClip(this.attackAudioClips[Math.floor(Math.random()*this.attackAudioClips.length)]),t.next=5,this.playAttackAni();case 5:return(e=d.get(this.bulletPrefab)).parent=y.ins.enermyLayer,e.position=this.node.position,n=g.globalConfig.BULLET_SPEED,r=this.node.position.length(),t.next=12,m.onTweenPromise(l(e).to(r/n/Math.max(1,y.ins.curPlaySpeed),{position:p.ZERO}));case 12:d.put(e),this.targetNode.isDead||(this.targetNode.onBeHit(this.attackValue,this),this.onMove());case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(h)).prototype,"bulletPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=P))||E));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/EventMng.ts",["cc"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy,t=e.EventTarget}],execute:function(){n._RF.push({},"b43ed0MDLhI1Kdc5seHlEeA","EventMng",void 0),n._RF.push({},"41bbcdoAn1HhYNdxjANvAIx","EventMng",void 0);e("EventMng",new t);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/FactoryPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PageBase.ts","./UIHelp.ts","./TurrentPropertyCard.ts","./TipsCtr.ts","./Constant.ts","./GameCtr.ts","./CfgMng.ts","./EventMng.ts","./UnlockCard.ts"],(function(t){var e,r,n,o,i,a,p,s,c,l,u,d,y,h,f,P,b,v,g,_,T,k,x,B,I,w,S,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,i=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){p=t.cclegacy,s=t._decorator,c=t.Button,l=t.Prefab,u=t.ScrollView,d=t.Label,y=t.instantiate,h=t.tween,f=t.Vec3},function(t){P=t.PageBase},function(t){b=t.default},function(t){v=t.TurrentPropertyCard,g=t.EPropertyCardModel},function(t){_=t.TipsCtr},function(t){T=t.ETurretPropertyId,k=t.EItemType,x=t.EGameEvent,B=t.ERedDotType},function(t){I=t.default},function(t){w=t.default},function(t){S=t.EventMng},function(t){L=t.UnlockCard}],execute:function(){var C,m,U,D,V,E,F,N,G,O,R,z,M;p._RF.push({},"497f7HltMFAZ5XU8dfD+3uN","FactoryPage",void 0);var A=s.ccclass,j=s.property;p._RF.push({},"0e5fawUayZGj6tgSf7l1hFw","FactoryPage",void 0);var H=[T.Atk,T.AtkSpeed,T.Life];t("FactoryPage",(C=A("FactoryPage"),m=j({type:[c]}),U=j({type:l}),D=j({type:u}),V=j({type:[d]}),E=j({type:l}),C((G=e((N=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,n(e,"topTabBtns",G,o(e)),n(e,"propertyCardPrefab",O,o(e)),n(e,"propertyScrollView",R,o(e)),n(e,"fightPropertyNumLabs",z,o(e)),n(e,"unlockCardPrefab",M,o(e)),e._curTopBtnIndex=-1,e._addPropertyLvs=[{},{},{}],e._propertyScrollViews=[],e._initListStates=[!1,!1,!1],e}r(e,t);var p=e.prototype;return p.start=function(){var t=i(a().mark((function t(){var e,r,n,o,i,p,s,c,l,d;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=0;e<this.topTabBtns.length;e++)r=this.topTabBtns[e],b.onRegisterBtnEvent(r,this.onClickTopBtn.bind(this,e),this);this._propertyScrollViews.push(this.propertyScrollView),this.propertyScrollView.node.active=!1,n=I.playData.getUnlockPropertyIds(),t.t0=a().keys(n);case 5:if((t.t1=t.t0()).done){t.next=18;break}if(o=t.t1.value,Object.prototype.hasOwnProperty.call(n,o)){t.next=9;break}return t.abrupt("continue",5);case 9:if(i=w.turretLvPropertyCf[o]){t.next=12;break}return t.abrupt("continue",5);case 12:p=i.type-1,s=I.playData.getGoldPropertyLv(o),this._addPropertyLvs[p]||(this._addPropertyLvs[p]={},this._initListStates[p]=!1),this._addPropertyLvs[p][o]=s,t.next=5;break;case 18:c=0;case 19:if(!(c<this.topTabBtns.length)){t.next=27;break}if(!(c>0)){t.next=23;break}return t.next=23,b.onDelayPromise(.1,this);case 23:this._propertyScrollViews[c]||((l=y(this.propertyScrollView.node)).parent=this.propertyScrollView.node.parent,l.active=!0,d=l.getComponent(u),this._propertyScrollViews[c]=d,d.node.active=!1);case 24:c++,t.next=19;break;case 27:this.updatePropertyInfo(),this.onClickTopBtn(0);case 29:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),p.onClickTopBtn=function(t){if(this._curTopBtnIndex!==t){this.topTabBtns[this._curTopBtnIndex]&&(this.topTabBtns[this._curTopBtnIndex].interactable=!0,b.setNodePosY(this.topTabBtns[this._curTopBtnIndex].node,-30)),this._propertyScrollViews[this._curTopBtnIndex]&&(this._propertyScrollViews[this._curTopBtnIndex].node.active=!1),this._curTopBtnIndex=t,this.topTabBtns[this._curTopBtnIndex]&&(this.topTabBtns[this._curTopBtnIndex].interactable=!1,b.setNodePosY(this.topTabBtns[this._curTopBtnIndex].node,0));var e=this._propertyScrollViews[this._curTopBtnIndex];e&&(e.node.active=!0,this.initLevelCardList(this._curTopBtnIndex))}},p.initLevelCardList=function(){var t=i(a().mark((function t(e){var r,n,o,i,p,s,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._initListStates[e]){t.next=2;break}return t.abrupt("return");case 2:this._initListStates[e]=!0,r=this._propertyScrollViews[e],n=this._addPropertyLvs[e]||{},t.t0=a().keys(n);case 6:if((t.t1=t.t0()).done){t.next=16;break}if(o=t.t1.value,Object.prototype.hasOwnProperty.call(n,o)){t.next=10;break}return t.abrupt("continue",6);case 10:return i=n[o],this.createPropertyCard(o,i),t.next=14,b.onDelayPromise(.1,this);case 14:t.next=6;break;case 16:(p=this.getUnlockPropertySetId(e+1))&&((s=y(this.unlockCardPrefab)).parent=r.content,(c=s.getComponent(L)).onUnlockProperty=this.onUnlockProperty.bind(this),c.init(p.id));case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),p.createPropertyCard=function(t,e){var r=this._propertyScrollViews[this._curTopBtnIndex],n=y(this.propertyCardPrefab);n.parent=r.content;var o=n.getComponent(v);o.init(t,g.Gold,this.onLvUpProperty.bind(this)),o.lv=e,h(n).set({scale:f.ONE.clone().multiplyScalar(.1)}).to(.1,{scale:f.ONE.clone().multiplyScalar(1)}).start()},p.onLvUpProperty=function(t){return I.playData.addResItemNum(k.Gold,-t.lvUpNeedNum)?(t.lv++,I.playData.setGoldPropertyLv(t.propertyId,t.lv),H.indexOf(t.propertyId)>-1&&this.updatePropertyInfo(),S.emit(x.REDDOT_UPDATE,B.Factory),!0):(_.showTips("金币不足!"),!1)},p.updatePropertyInfo=function(){for(var t=0;t<H.length;t++){var e=H[t],r=w.getLvPropertyNum(e,I.playData.getGoldPropertyLv(e));this.fightPropertyNumLabs[t].string=(r||0).toLocaleString()}},p.onUnlockProperty=function(t){var e=this,r=t.unlockData;I.playData.unlockPropertyIds(r.attSet),r.attSet.forEach((function(t){e._addPropertyLvs[e._curTopBtnIndex]||(e._addPropertyLvs[e._curTopBtnIndex]={}),e._addPropertyLvs[e._curTopBtnIndex][t]=1,e.createPropertyCard(t,1)}));var n=this.getUnlockPropertySetId(this._curTopBtnIndex+1);n?(t.node.active=!0,t.node.setSiblingIndex(t.node.parent.children.length-1),t.init(n.id)):t.node.active=!1},p.getUnlockPropertySetId=function(t){void 0===t&&(t=1);var e=this._addPropertyLvs[t-1]||{},r=100*t,n=!1;do{r++;var o=w.CfgPropertyUnlock.getItem(r);if(!o){n=!0,r=0;break}o&&o.attSet.findIndex((function(t){return!e.hasOwnProperty(t)}))>-1&&(n=!0)}while(!n);return w.CfgPropertyUnlock.getItem(r)},e}(P)).prototype,"topTabBtns",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(N.prototype,"propertyCardPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(N.prototype,"propertyScrollView",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(N.prototype,"fightPropertyNumLabs",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(N.prototype,"unlockCardPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=N))||F));p._RF.pop(),p._RF.pop()}}}));

System.register("chunks:///_virtual/FightEffectCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectBase.ts","./NodePoolHelper.ts"],(function(t){var e,n,o,r,i,c,s,f;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t._decorator,c=t.Component},function(t){s=t.EffectBase},function(t){f=t.default}],execute:function(){var a,u;r._RF.push({},"5a522Bi/nZM5KogONwA7y5j","FightEffectCtr",void 0);var p=i.ccclass;i.property;r._RF.push({},"34b1d1pqvxIAKG5YiOmCBwc","FightEffectCtr",void 0);t("FightEffectCtr",p("FightEffectCtr")(((u=function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var i=r.prototype;return i.onLoad=function(){r.ins=this},i.showEffect=function(){var t=n(o().mark((function t(e,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=f.get(e).getComponent(s))){t.next=9;break}return r.node.parent=this.node,r.node.worldPosition=n,r.node.active=!0,t.next=7,r.onShow();case 7:r.node.active=!1,f.put(r.node);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),r}(c)).ins=void 0,a=u))||a);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/FightMsgInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts"],(function(e){var t,n,s,r,i,o,a,c,u,g,h,p,l,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,s=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,u=e.Node,g=e.Label,h=e.Component,p=e.v3,l=e.tween,f=e.UIOpacity},function(e){m=e.default}],execute:function(){var w,y,b,v,x,_,I;a._RF.push({},"f6975Op2I1CLIjOloUGsv+t","FightMsgInfo",void 0);var M=c.ccclass,d=c.property;a._RF.push({},"427058NkyFEvrr/nZBOC6gI","FightMsgInfo",void 0);e("FightMsgInfo",(w=M("FightMsgInfo"),y=d({type:u}),b=d({type:g}),w((_=t((x=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,s(t,"msgBg",_,r(t)),s(t,"msgLabel",I,r(t)),t._showMsgQueue=[],t._isShowing=!1,t}n(t,e);var a=t.prototype;return a.start=function(){},a.show=function(){var e=i(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._showMsgQueue.push(t),this._isShowing){e.next=9;break}return this._isShowing=!0,this.msgBg.active=!0,this.msgLabel.string="",this.msgBg.scale=p(1,0,1),e.next=8,m.onTweenPromise(l(this.msgBg).to(.2,{scale:p(1,1,1)},{easing:"backOut"}));case 8:this.showNextMsg();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.showNextMsg=function(){var e=i(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._isShowing){e.next=2;break}return e.abrupt("return");case 2:if(!(t=this._showMsgQueue.shift())){e.next=15;break}return this.msgLabel.string=t,(n=this.msgLabel.getComponent(f)).opacity=0,e.next=9,m.onTweenPromise(l(n).to(.2,{opacity:255}));case 9:return e.next=11,m.onDelayPromise(1,this);case 11:return e.next=13,m.onTweenPromise(l(n).to(.2,{opacity:0}));case 13:e.next=19;break;case 15:return this._isShowing=!1,e.next=18,m.onTweenPromise(l(this.msgBg).to(.2,{scale:p(1,0,1)},{easing:"backIn"}));case 18:this.msgBg.active=!1;case 19:this.showNextMsg();case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(h)).prototype,"msgBg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(x.prototype,"msgLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=x))||v));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/FightNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadHelper.ts","./UIHelp.ts","./ComFun.ts","./ResConfig.ts","./Constant.ts","./CircleGraphics.ts","./EnermyBase.ts","./FortreeRole.ts","./TurrentPropertyCtr.ts","./PlayEffectCtr.ts","./FightMsgInfo.ts","./GameCtr.ts","./UIMng.ts","./UIRevive.ts","./UIResult.ts","./SdkManager.ts","./UISelectSkill.ts","./EventMng.ts","./CfgMng.ts","./UIPlay.ts","./StageWaveUI.ts","./AudioMng.ts","./UIAdBuff.ts","./CollectWorkCtr.ts","./FightSkillCtr.ts","./FightPropertyList.ts"],(function(e){var t,n,i,r,s,o,a,u,l,c,h,f,d,m,g,p,y,v,_,I,P,E,C,w,S,T,N,b,k,F,A,R,M,D,x,L,U,B,W,G,V,K,z,Y,O,H,j;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createClass,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,c=e.v2,h=e.Node,f=e.Prefab,d=e.v3,m=e.instantiate,g=e.Vec3,p=e.Component},function(e){y=e.default},function(e){v=e.default},function(e){_=e.default},function(e){I=e.EResBundleName},function(e){P=e.EGameEvent,E=e.ELabPropertyId,C=e.EItemType,w=e.ETurretPropertyId,S=e.ETJEventName,T=e.EGlobalGMKey},function(e){N=e.CircleGraphics},function(e){b=e.EnermyBase},function(e){k=e.FortreeRole},function(e){F=e.default},function(e){A=e.PlayEffectCtr},function(e){R=e.FightMsgInfo},function(e){M=e.default},function(e){D=e.UIMng},function(e){x=e.UIRevive},function(e){L=e.UIResult},function(e){U=e.default},function(e){B=e.UISelectSkill},function(e){W=e.EventMng},function(e){G=e.default},function(e){V=e.UIPlay},function(e){K=e.StageWaveUI},function(e){z=e.AudioMng},function(e){Y=e.UIAdBuff},function(e){O=e.CollectWorkCtr},function(e){H=e.FightSkillCtr},function(e){j=e.FightPropertyList}],execute:function(){var Z,q,J,Q,X,$,ee,te,ne,ie,re,se,oe,ae,ue,le,ce,he,fe,de,me,ge;u._RF.push({},"a2cd2jIEPBLdKQj/1uqoVej","FightNode",void 0);var pe=l.ccclass,ye=l.property;u._RF.push({},"d8c12aeUz5H/IpvCysl1UEN","FightNode",void 0);var ve=e("EPlayStep",{Init:0,Begin:1,NextWave:2,CutHp:3,End:4}),_e=e("EPlayState",function(e){return e[e.None=0]="None",e[e.Init=1]="Init",e[e.Playing=2]="Playing",e[e.Collecting=3]="Collecting",e[e.Boss=4]="Boss",e[e.End=5]="End",e}({})),Ie=c();e("FightNode",(Z=pe("FightNode"),q=ye({type:h}),J=ye({type:N}),Q=ye({type:k}),X=ye({type:[f]}),$=ye({type:h}),ee=ye({type:A}),te=ye({type:R}),ne=ye({type:K}),ie=ye({type:j}),Z(((ge=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,i(t,"mapNode",oe,r(t)),i(t,"circleGraphics",ae,r(t)),i(t,"fortreeRole",ue,r(t)),i(t,"enermyPrefabs",le,r(t)),i(t,"enermyLayer",ce,r(t)),i(t,"playEffectCtr",he,r(t)),i(t,"fightMsgInfo",fe,r(t)),i(t,"stageWaveUI",de,r(t)),i(t,"fightPropertyList",me,r(t)),t._state=_e.None,t._isInFighting=!1,t._fightSpeed=1,t._worldId=0,t._stageId=0,t._stageWaveCfs=[],t._beginLv=0,t._waveNum=0,t._waveEnermyTotalNum=0,t._waveEnermyKillNum=0,t._totalEnermyKillNum=0,t._enermyNodePools=[],t._curInMapEnermys=[],t._stageTime=0,t._attackAddValuePerPixel=0,t._runTime=0,t._scheduleTimeFuns=[],t._createEnermyMaxNum=0,t._isInEnermyCreating=!1,t._enermyNumScale=0,t._enermyCreateTimeScale=1,t._savePlaySpeed=0,t}n(t,e);var u=t.prototype;return u.onLoad=function(){t.ins=this,W.on(P.PLAY_PROPERTY_UPDATE,this.updatePropertyLv.bind(this),this)},u.onDestroy=function(){W.off(P.PLAY_PROPERTY_UPDATE,this.updatePropertyLv.bind(this),this)},u.onPause=function(){this.curPlaySpeed>0&&(this._savePlaySpeed=this.curPlaySpeed),this.curPlaySpeed=0},u.onResume=function(){this.curPlaySpeed=this._savePlaySpeed},u.init=function(){var e=o(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._state=_e.Init,this._stageTime=_.getLocalTime(),this._worldId=M.playData.gameData.worldId,this._stageId=M.playData.gameData.stageId,U.sendStageEventBegin(this.worldStageId),t=G.CfgWorld.getItem(this._worldId),this._enermyNumScale=t.stageNumScales[this._stageId-1]||1,this._enermyCreateTimeScale=t.createTimeScales[this._stageId-1]||1,this._beginLv=t.stageLvs[this._stageId-1],console.log("关卡开始",this._worldId,this._stageId,this._beginLv,this._enermyNumScale,this._enermyCreateTimeScale),this._stageWaveCfs=G.getStageWaveCf(this._worldId,this._stageId),this.stageWaveUI.init(),W.emit(P.PLAY_STEP_EVENT,ve.Init),e.next=15,y.loadPrefab("map/"+t.prefab,I.Play);case 15:n=e.sent,m(n).parent=this.mapNode,this.fortreeRole.init(),this.fortreeRole.onIdle(),this.updateAttackRange();case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.beginFight=function(){W.emit(P.PLAY_STEP_EVENT,ve.Begin),this.fortreeRole.onIdle(),H.ins.init(),this.fightMsgInfo.show("战斗开始");var e=G.globalConfig.CoinStartInit||0;(e+=F.getLabPropertyValue(E.LAB_START_COIN))&&(this.getDropItem({id:C.Coin,num:e},d(0,-100,0)),this.fightMsgInfo.show("初始硬币+"+e)),this._waveNum=0,this.onNextWave(!0),this.getDropItem({id:C.Gold,num:10},d(0,-200,0)),this.fightMsgInfo.show("初始金币+10"),this.isAutoFight||this.onAdBuff()},u.updateAttackRange=function(){this.circleGraphics.radius=this.fortreeRole.attackRange},u.onNextWave=function(e){var t=this;if(void 0===e&&(e=!1),this._state!==_e.End){var n=this._stageWaveCfs[this._waveNum];if(n){this._waveNum++,this._isInFighting=!1,e||(W.emit(P.PLAY_STEP_EVENT,ve.NextWave),this.getWaveDropItem()),z.playAudio("StartBattle",I.Play),this._state=_e.Playing,this._isInFighting=!0,this._waveNum>=1&&this.fightMsgInfo.show("第"+this._waveNum+"波开始"),console.log("第"+this._waveNum+"波开始",n.enermyIds);var i=0,r=0,s=n.createInterval*this._enermyCreateTimeScale,o=G.CfgWorld.getItem(this._worldId),a=this._beginLv;if(n.enermyIds.length>0){this._isInEnermyCreating=!0;for(var u=0,l=function(){var e=n.enermyIds[c]+o.enermyZeroId,l=Math.floor((n.enermyNums[c]||1)*t._enermyNumScale);i+=l,t.setScheduleTimeFun((function(){i--,t.createOneEnermy(e,a+(1===M.playData.battleNum?0:t._waveNum)),0===i&&(t._isInEnermyCreating=!1)}),s,l,u);var h=s*l,f=u+h;r<f&&(r=f),u+=.5*h},c=0;c<n.enermyIds.length;c++)l()}this.stageWaveUI.moveStageWaveAct(r,this.waveNum),this._waveNum===this._stageWaveCfs.length&&this.beginBossFight()}}},u.onWaveClear=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.onCollectStep();case 2:this._waveNum===this._stageWaveCfs.length?this.onEndPlay(!0):this.onNextWave();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.onCollectStep=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fightMsgInfo.show("下一波倒计时: 10s"),e.next=3,O.ins.startCollect(10);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.createOneEnermy=function(e,t){var n;void 0===t&&(t=1);var i=G.CfgEnermy.getItem(e);if(i){var r=this.fortreeRole.attackRange+200,s=Ie.set(r,0).rotate(_.angleToRadian(_.randomNum(0,720))),o=i.atkType-1,a=null==(n=this._enermyNodePools[o])?void 0:n.pop();a||((a=m(this.enermyPrefabs[o])).parent=this.enermyLayer),a.active=!0,v.setNodePos(a,s.x,s.y,0);var u=a.getComponent(b);u.init(++this._createEnermyMaxNum,e,this.fortreeRole,t),this._curInMapEnermys.push(u)}},u.beginBossFight=function(){z.playAudio("boss_comming",I.Play),t.ins.playEffectCtr.showBossComming()},u.onEndPlay=function(){var e=o(a().mark((function e(n){var i,r,s,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._state=_e.End,t.ins.onPause(),this._isInFighting=!1,W.emit(P.PLAY_STEP_EVENT,ve.End),i=[],r=F.allDropItemDatas,e.t0=a().keys(r);case 7:if((e.t1=e.t0()).done){e.next=17;break}if(s=e.t1.value,Object.prototype.hasOwnProperty.call(r,s)){e.next=11;break}return e.abrupt("continue",7);case 11:if(o=r[s],Number(s)!==C.Coin){e.next=14;break}return e.abrupt("continue",7);case 14:i.push({id:Number(s),num:o}),e.next=7;break;case 17:return U.sendStageEventEnd(this.worldStageId,n,this.waveNum,_.getLocalTime()-this._stageTime),e.next=20,v.onDelayPromise(1,this);case 20:return e.next=22,D.ins.openUIClose(L,{isPass:n,waveNum:this.waveNum,rewards:i});case 22:D.ins.closeUI(V);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.removeEnermy=function(e){var t=this;this._curInMapEnermys.find((function(n,i){return n.erenmyUId===e.erenmyUId&&(t._curInMapEnermys.splice(i,1),!0)})),e.node.active=!1;var n=e.enermCf.atkType-1;this._enermyNodePools[n]||(this._enermyNodePools[n]=[]),this._enermyNodePools[n].push(e.node)},u.getAttackTarget=function(e,t){void 0===e&&(e=1),void 0===t&&(t=0);var n=t||this.fortreeRole.attackRange,i=this._curInMapEnermys.filter((function(e){return!e.isDead&&e.node.position.length()<=n}));return i.sort((function(e,t){return e.node.position.length()-t.node.position.length()})),i.slice(0,e)},u.killEnermy=function(){var e=o(a().mark((function e(t){var n,i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.killCoin,this.playEffectCtr.showEnermyDeadEffect(Math.floor(t.enermCf.id/1e4)-1,t.node.position),n>0&&this.getDropItem({id:C.Coin,num:n+this.waveKillCoin},this.randomEnermyPos(t.node)),i=t.killGold,r=t.killGoldRate,i>0&&100*Math.random()<=r&&this.getDropItem({id:C.Gold,num:i},this.randomEnermyPos(t.node),!0),this._totalEnermyKillNum++,this.checkKillEnermyBonus(t.isBoss),this.removeEnermy(t),e.next=11,H.ins.addSkillMoney(1);case 11:!this._isInEnermyCreating&&this.isClearAllEnermy()&&this.onWaveClear();case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.isClearAllEnermy=function(){var e=!0;return this._curInMapEnermys.forEach((function(t){t&&!t.isDead&&(e=!1)})),e},u.getDropItem=function(e,t,n){void 0===t&&(t=d()),void 0===n&&(n=!1),e.num<=0||(n?O.ins.dropItem(e,t):(this.playEffectCtr.showDropItemEffect(e,t),F.getItems([e])))},u.getWaveDropItem=function(){var e=G.globalConfig.waveCrystalReward||0;e&&(100*Math.random()<=G.globalConfig.waveCrystalDoubleRate&&(e*=2),this.getDropItem({id:C.Crystal,num:e},this.randomFortreePos()));var t=F.getPropertyValue(w.CoinBonusWave);t>0&&this.getDropItem({id:C.Coin,num:t},this.randomFortreePos());var n=F.getPropertyValue(w.GoldBonusWave);n>0&&this.getDropItem({id:C.Gold,num:n},this.randomFortreePos())},u.randomFortreePos=function(){return this.fortreeRole.node.position.clone().add3f(40*(Math.random()-.5),-100,0)},u.randomEnermyPos=function(e){return e.position.clone().add3f(20*(Math.random()-.5),0,0)},u.updatePropertyLv=function(e){switch(e){case w.AtkRange:case w.AtkRangeAddPer:this.updateAttackRange();break;case w.DamagePerMeter:this._attackAddValuePerPixel=0;break;case w.Atk:case w.AtkSpeed:case w.Life:case w.AtkAddPer:case w.AtkSpeedAddPer:case w.LifeAddPer:this.fightPropertyList.updatePropertyInfo()}},u.checkKillEnermyBonus=function(e){if(void 0===e&&(e=!1),this._totalEnermyKillNum%50==0){var t=F.getPropertyValue(w.CoinBonusKill);t>0&&(this.getDropItem({id:C.Coin,num:t},this.randomFortreePos()),this.fightMsgInfo.show("击杀50敌人额外硬币+"+t))}else if(this._totalEnermyKillNum%100==0){var n=F.getPropertyValue(w.GoldBonusKill);n>0&&(this.getDropItem({id:C.Gold,num:n},this.randomFortreePos()),this.fightMsgInfo.show("击杀100敌人额外金币+"+n))}if(e){var i=F.getPropertyValue(w.GoldBonusBossKill);i>0&&(this.getDropItem({id:C.Gold,num:i},this.randomFortreePos()),this.fightMsgInfo.show("击杀boss额外金币+"+i))}},u.onReviveConfirm=function(){var e=this;t.ins.onPause(),this._isInFighting=!1,D.ins.closeUI(B),this.isAutoFight?this.onEndPlay(!1):D.ins.openUI(x,{waveNum:this.waveNum},(function(n){n?(U.sendEvent(S.StageRevive,{id:M.playData.gameData.worldId}),e.fortreeRole.onRevive(),e.fortreeRole.onBoomKnockBack(),e._isInFighting=!0,t.ins.onResume()):e.onEndPlay(!1)}))},u.getEnermyInRadius=function(e,t){void 0===e&&(e=g.ZERO);for(var n=[],i=t||this.fortreeRole.attackRange,r=0;r<this._curInMapEnermys.length;r++){var s=this._curInMapEnermys[r];s&&s.node.active&&g.distance(s.node.position,e)<=i&&n.push(s)}return n},u.setScheduleTimeFun=function(e,t,n,i){if(void 0===n&&(n=1),void 0===i&&(i=0),t<=0)e();else{var r={nextTime:this._runTime+t+i,fun:e,time:t,times:n};this._scheduleTimeFuns.push(r),this.reSortScheduleTimeFuns()}},u.removeScheduleTimeFun=function(e){for(var t=0;t<this._scheduleTimeFuns.length;t++)if(this._scheduleTimeFuns[t].fun===e){this._scheduleTimeFuns.splice(t,1);break}},u.getScheduleTimeFunTime=function(e){for(var t=0;t<this._scheduleTimeFuns.length;t++)if(this._scheduleTimeFuns[t].fun===e)return this._scheduleTimeFuns[t].nextTime-this._runTime;return-1},u.reSortScheduleTimeFuns=function(){this._scheduleTimeFuns.sort((function(e,t){return e.nextTime-t.nextTime}))},u.update=function(e){if(!this.isPause){this._runTime+=e*this.curPlaySpeed;var t=this._scheduleTimeFuns[0];t&&this._runTime>=t.nextTime&&(t.fun(),t.times--,t.times<=0?this._scheduleTimeFuns.shift():(t.nextTime+=t.time,this.reSortScheduleTimeFuns()))}},u.addBuff=function(e){F.addSkillProperty(e.propertyId,e.num),W.emit(P.PLAY_BUFF_UPDATE,e.propertyId,!0),e.time&&this.setScheduleTimeFun((function(){F.addSkillProperty(e.propertyId,-e.num),W.emit(P.PLAY_BUFF_UPDATE,e.propertyId,!1)}),e.time)},u.onAdBuff=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onPause(),e.next=3,D.ins.openUIClose(Y);case 3:this.onResume();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s(t,[{key:"runTime",get:function(){return this._runTime}},{key:"waveNum",get:function(){return this._waveNum}},{key:"curPlaySpeed",get:function(){return this._fightSpeed},set:function(e){this._fightSpeed!==e&&(this._fightSpeed=e,W.emit(P.PLAY_SPEED_CHANGE))}},{key:"isInFighting",get:function(){return this._isInFighting}},{key:"stageWaveCfs",get:function(){return this._stageWaveCfs}},{key:"attackAddValuePerPixel",get:function(){return this._attackAddValuePerPixel||(this._attackAddValuePerPixel=F.getPropertyValue(w.DamagePerMeter)/G.globalConfig.RANGE_SCENE_SCALE),this._attackAddValuePerPixel}},{key:"worldStageId",get:function(){return 100*this._worldId+this._stageId}},{key:"isPause",get:function(){return 0===this.curPlaySpeed}},{key:"isAutoFight",get:function(){return!!M.playData.gmData[T.AUTO_FIGHT]}},{key:"waveKillCoin",get:function(){var e=this._waveNum+10*this._worldId;return Math.floor(e/G.globalConfig.EnermyWaveCountForUpCoin)*G.globalConfig.EnermyWaveUpCoin}}]),t}(p)).ins=null,oe=t((se=ge).prototype,"mapNode",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(se.prototype,"circleGraphics",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(se.prototype,"fortreeRole",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(se.prototype,"enermyPrefabs",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ce=t(se.prototype,"enermyLayer",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(se.prototype,"playEffectCtr",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(se.prototype,"fightMsgInfo",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(se.prototype,"stageWaveUI",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(se.prototype,"fightPropertyList",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=se))||re));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/FightPropertyList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TipsCtr.ts","./UIHelp.ts","./Constant.ts","./TurrentPropertyCard.ts","./TurrentPropertyCtr.ts","./FightNode.ts","./EventMng.ts","./CfgMng.ts","./GameCtr.ts","./FightSkillCtr.ts","./UIMng.ts","./UIAdSkill.ts"],(function(t){var e,r,i,n,o,s,a,p,l,c,u,h,d,f,y,b,v,g,T,w,L,_,P,S,C,B,I,m,V;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,p=t._decorator,l=t.Button,c=t.Prefab,u=t.ScrollView,h=t.Label,d=t.Node,f=t.Widget,y=t.instantiate,b=t.Component},function(t){v=t.TipsCtr},function(t){g=t.default},function(t){T=t.EGameEvent},function(t){w=t.TurrentPropertyCard,L=t.EPropertyCardModel},function(t){_=t.default},function(t){P=t.FightNode},function(t){S=t.EventMng},function(t){C=t.default},function(t){B=t.default},function(t){I=t.FightSkillCtr},function(t){m=t.UIMng},function(t){V=t.UIAdSkill}],execute:function(){var k,x,F,N,R,U,z,D,E,M,A,G,O,j,H,Y,W,Z,J;a._RF.push({},"2830e6cVbZLfZjxNzvlhChf","FightPropertyList",void 0);var q=p.ccclass,K=p.property;a._RF.push({},"00d01hvbMhEsJUx4VfdFAg8","FightPropertyList",void 0);t("FightPropertyList",(k=q("FightPropertyList"),x=K({type:[l]}),F=K({type:c}),N=K({type:u}),R=K({type:h}),U=K({type:[h]}),z=K({type:u}),D=K({type:d}),E=K({type:h}),k((G=e((A=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"topTabBtns",G,n(e)),i(e,"propertyCardPrefab",O,n(e)),i(e,"propertyScrollView",j,n(e)),i(e,"tipsLab",H,n(e)),i(e,"fightPropertyNumLabs",Y,n(e)),i(e,"skillCardScrollView",W,n(e)),i(e,"randomHotDot",Z,n(e)),i(e,"guideTipsLab",J,n(e)),e._curTopBtnIndex=-1,e._addPropertyLvs=[],e._propertyScrollViews=[],e._scrollInitStates=[],e}r(e,t);var a=e.prototype;return a.start=function(){for(var t=0;t<this.topTabBtns.length;t++){var e=this.topTabBtns[t];g.onRegisterBtnEvent(e,this.onClickTopBtn.bind(this,t),this)}g.onRegisterBtnEvent(this.propertyScrollView,null);var r=0===B.playData.passWorldId;r&&this.playGuideTips(),this.propertyScrollView.getComponent(f).top=r?50:0,this.skillCardScrollView.getComponent(f).top=r?50:0,this._propertyScrollViews.push(this.propertyScrollView),this.propertyScrollView.node.active=!1,this._propertyScrollViews[3]=this.skillCardScrollView,this.skillCardScrollView.node.active=!1;var i=B.playData.getUnlockPropertyIds(),n=C.turretLvPropertyCf;for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)){var s=n[o];if(!s)continue;var a=s.type-1,p=_.getLv(o);this._addPropertyLvs[a]||(this._addPropertyLvs[a]={}),this._addPropertyLvs[a][o]=p}for(var l=0;l<this.topTabBtns.length;l++)if(!this._propertyScrollViews[l]){var c=y(this.propertyScrollView.node);c.parent=this.propertyScrollView.node.parent,c.active=!0,g.onRegisterBtnEvent(c,null);var h=c.getComponent(u);this._propertyScrollViews[l]=h,h.node.active=!1}this.updatePropertyInfo(),this.onClickTopBtn(0)},a.onDestroy=function(){},a.onClickTopBtn=function(t){if(this._curTopBtnIndex!==t){this.topTabBtns[this._curTopBtnIndex]&&(this.topTabBtns[this._curTopBtnIndex].interactable=!0,g.setNodePosY(this.topTabBtns[this._curTopBtnIndex].node,-20)),this._propertyScrollViews[this._curTopBtnIndex]&&(this._propertyScrollViews[this._curTopBtnIndex].node.active=!1),this._curTopBtnIndex=t,this.topTabBtns[this._curTopBtnIndex]&&(this.topTabBtns[this._curTopBtnIndex].interactable=!1,g.setNodePosY(this.topTabBtns[this._curTopBtnIndex].node,0));var e=this._propertyScrollViews[this._curTopBtnIndex];e&&(e.node.active=!0,this._scrollInitStates[t]||(this._scrollInitStates[t]=!0,3===t?I.ins.initSkillCardList():this.initLevelCardList()),this.tipsLab.node.active=0===e.content.children.length)}},a.initLevelCardList=function(){var t=this._propertyScrollViews[this._curTopBtnIndex],e=this._addPropertyLvs[this._curTopBtnIndex]||{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r],n=y(this.propertyCardPrefab);n.parent=t.content;var o=n.getComponent(w);o.init(r,L.Coin,this.onLvUpProperty.bind(this)),o.lv=i}console.log(e)},a.onLvUpProperty=function(t){return _.cutCoin(t.lvUpNeedNum)?(t.lv=_.addLv(t.propertyId),S.emit(T.PLAY_PROPERTY_UPDATE,t.propertyId),!0):(v.showTips("硬币不足!"),B.playData.battleNum>1&&this.showAdSkill(),!1)},a.showAdSkill=function(){var t=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((e=I.ins.getSkillLv(204))>=5)){t.next=3;break}return t.abrupt("return");case 3:return P.ins.onPause(),t.next=6,m.ins.openUIClose(V,{skillCardData:{id:"204",star:e+1}});case 6:P.ins.onResume();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.updatePropertyInfo=function(){for(var t=[P.ins.fortreeRole.attackValue,P.ins.fortreeRole.attackSpeed,P.ins.fortreeRole.totalLife],e=0;e<t.length;e++)this.fightPropertyNumLabs[e].string=this.propertyToNumber(t[e]||0).toLocaleString()},a.propertyToNumber=function(t){if(t%1==0)return t;var e=10*t%1==0?10:100;return Math.floor(t*e)/e},a.playGuideTips=function(){var t=this,e=["升级攻击力，让堡垒能够对敌人一击必杀","升级攻击速度，让堡垒更快的攻击敌人","升级恢复速度，让堡垒更快的恢复生命值","升级生命值，让堡垒的生命值更抗揍","优先选择范围大的技能","长按升级按钮可以快速升级"],r=0;this.guideTipsLab.node.active=!0,this.guideTipsLab.string=e[r],r++,this.schedule((function(){t.guideTipsLab.string=e[r],++r>=e.length&&(r=0)}),5)},e}(b)).prototype,"topTabBtns",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=e(A.prototype,"propertyCardPrefab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(A.prototype,"propertyScrollView",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(A.prototype,"tipsLab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(A.prototype,"fightPropertyNumLabs",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(A.prototype,"skillCardScrollView",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(A.prototype,"randomHotDot",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(A.prototype,"guideTipsLab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=A))||M));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/FightSkillCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgMng.ts","./SkillShiled.ts","./SkillSatellite.ts","./SkillMine.ts","./SkillCoinTimeAdd.ts","./FightNode.ts","./TurrentPropertyCtr.ts","./SkillReviveWing.ts","./SkillCoinGift.ts","./SkillYinYang.ts","./SkillThunder.ts","./SkillRichAddProperty.ts","./SkillFireBoom.ts","./GameCtr.ts","./UIMng.ts","./UISelectSkill.ts","./SkillLaser.ts","./SkillCoolTimeCard.ts","./SkillTimeBase.ts","./ComFun.ts","./CardItem.ts"],(function(i){var t,e,l,n,r,a,s,o,d,k,u,c,f,S,m,h,v,g,p,y,C,_,I,L,b,T,R,A,P,M,F,G,Y,B,D,N,w,x;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,l=i.initializerDefineProperty,n=i.assertThisInitialized,r=i.createClass,a=i.asyncToGenerator,s=i.regeneratorRuntime},function(i){o=i.cclegacy,d=i._decorator,k=i.ProgressBar,u=i.Label,c=i.Node,f=i.Prefab,S=i.instantiate,m=i.Vec3,h=i.Component},function(i){v=i.default},function(i){g=i.SkillShiled},function(i){p=i.SkillSatellite},function(i){y=i.SkillMine},function(i){C=i.SkillCoinTimeAdd},function(i){_=i.FightNode},function(i){I=i.default},function(i){L=i.SkillReviveWing},function(i){b=i.SkillCoinGift},function(i){T=i.SkillYinYang},function(i){R=i.SkillThunder},function(i){A=i.SkillRichAddProperty},function(i){P=i.SkillFireBoom},function(i){M=i.default},function(i){F=i.UIMng},function(i){G=i.UISelectSkill},function(i){Y=i.SkillLaser},function(i){B=i.SkillCoolTimeCard},function(i){D=i.SkillTimeBase},function(i){N=i.default},function(i){w=i.CardItem,x=i.ECardItemMode}],execute:function(){var E,O,z,U,V,H,K,W,j,X,q,Q,Z,J,$,ii,ti,ei,li;o._RF.push({},"298c5tGE2NCObMjlQdZL2ve","FightSkillCtr",void 0);var ni=d.ccclass,ri=d.property;o._RF.push({},"a53e7jFtBFHRaVIKl6aoyUm","FightSkillCtr",void 0);var ai=i("EAciveSkillId",function(i){return i[i.Shiled=201]="Shiled",i[i.Satellite=202]="Satellite",i[i.Mine=203]="Mine",i[i.CoinTimeAdd=204]="CoinTimeAdd",i[i.ReviveWing=205]="ReviveWing",i[i.YinYangFish=206]="YinYangFish",i[i.CoinGift=207]="CoinGift",i[i.Thunder=208]="Thunder",i[i.FireBoom=209]="FireBoom",i[i.GemAttack=210]="GemAttack",i[i.GemAtkSpeed=211]="GemAtkSpeed",i[i.GemHp=212]="GemHp",i[i.Laser=213]="Laser",i}({})),si=((E={})[ai.Shiled]=g,E[ai.Satellite]=p,E[ai.Mine]=y,E[ai.CoinTimeAdd]=C,E[ai.ReviveWing]=L,E[ai.CoinGift]=b,E[ai.YinYangFish]=T,E[ai.Thunder]=R,E[ai.FireBoom]=P,E[ai.GemAttack]=A,E[ai.GemAtkSpeed]=A,E[ai.GemHp]=A,E[ai.Laser]=Y,E),oi=[[101,102,104,112,116],[201,206,208,209,213]];i("FightSkillCtr",(O=ni("FightSkillCtr"),z=ri({type:k}),U=ri({type:u}),V=ri({type:c}),H=ri({type:c}),K=ri({type:f}),W=ri({type:f}),j=ri({type:[c]}),O(((li=function(i){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=i.call.apply(i,[this].concat(r))||this,l(t,"skillProBar",Q,n(t)),l(t,"skillProBarLab",Z,n(t)),l(t,"skillLayer",J,n(t)),l(t,"skillTimeCardLayer",$,n(t)),l(t,"skillTimeCardPrefab",ii,n(t)),l(t,"cardItemPrefab",ti,n(t)),l(t,"skillCardLayers",ei,n(t)),t._getSkillLvDatas={},t._activeSkills={},t._skillTimeCards={},t._freeRandomSkillTimes=0,t._randomSkillTimes=0,t._skillRandomMoney=0,t._randomActiveSkillIds=[],t._randomPassiveSkillIds=[],t._isInitSkillCardList=!1,t._getSkillCardItems={},t}e(t,i);var o=t.prototype;return o.onLoad=function(){t.ins=this},o.init=function(){var i,t=this;this._getSkillLvDatas={},this._activeSkills={},this._freeRandomSkillTimes=(null==(i=v.globalConfig)?void 0:i.FreeRandomSkillTimes)||1,this._randomSkillTimes=0,this.skillRandomMoney=0,this._randomActiveSkillIds=[];for(var e=M.playData.equipCards,l=0;l<e.length;l++){var n=e[l],r=M.playData.cardList[n];if(r){var a=Number(r.id);if(!isNaN(a)){var s=v.CfgSkill.getItem(a);s&&(2===s.type?this._randomActiveSkillIds.push(a):this._randomPassiveSkillIds.push(a),this.addSkill({skillId:a,lv:r.star||1}))}}}if(1===M.playData.battleNum)this._randomPassiveSkillIds=oi[0],this._randomActiveSkillIds=oi[1];else{var o=v.globalConfig.PLAY_ACTIVE_SKILL_RANDOM_MAX||5,d=v.globalConfig.PLAY_ACTIVE_SKILL_RANDOM_MAX||5,k=o-this._randomActiveSkillIds.length,u=d-this._randomPassiveSkillIds.length,c=Object.keys(v.CfgSkill.itemMap),f=[],S=[];c.forEach((function(i){var e=Number(i),l=v.CfgSkill.getItem(e);l&&(2===l.type?-1===t._randomActiveSkillIds.indexOf(e)&&f.push(e):-1===t._randomPassiveSkillIds.indexOf(e)&&S.push(e))})),f.length>0&&k>0&&(this._randomActiveSkillIds=this._randomActiveSkillIds.concat(N.getRandList(f,k))),S.length>0&&u>0&&(this._randomPassiveSkillIds=this._randomPassiveSkillIds.concat(N.getRandList(S,u)))}},o.createSkill=function(i){return si[i]?_.ins.fortreeRole.addComponent(si[i]):null},o.getSkillLv=function(i){return this.skillLvDatas[i]||0},o.getSkillPropertyValue=function(i,t){return void 0===t&&(t=1),v.getSkillPropertyValue(i,t)},o.getSkill=function(i,t){void 0===t&&(t=1);var e=v.CfgSkill.getItem(i);if(!e)return!1;var l=this.getSkillLv(i);if(l>=t)return!1;if(e.propertyTypes&&e.propertyTypes.length>0){var n=this.getSkillPropertyValue(i,l),r=this.getSkillPropertyValue(i,t);e.propertyTypes.forEach((function(i,t){""!==i&&I.addSkillProperty(i,r[t]-(n[t]||0))}))}return this._getSkillLvDatas[i]=t,this.onUpdateSkill(i),!0},o.addSkill=function(i){var t;if(i){var e=i.skillId;if(this.getSkill(e,i.lv)&&v.CfgSkill.getItem(e)&&si[e]){var l=this._activeSkills[e],n=!1;if(l||(l=this.createSkill(e),this._activeSkills[e]=l,n=!0),null==(t=l)||t.init(i),n){if(l instanceof D&&!this._skillTimeCards[e]){var r=this.createSkillCoolTimeCard();r.init(e),this._skillTimeCards[e]=r}l.onActive()}}}},o.triggerSkill=function(i){var t;return(null==(t=this._activeSkills[i])?void 0:t.onActive())||!1},o.cutFreeSkillRandomTimes=function(){return this._freeRandomSkillTimes>0&&(this._freeRandomSkillTimes--,!0)},o.onRandomSkill=function(){var i=a(s().mark((function i(){var t;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!(this._randomSkillTimes>=this.randomActiveSkillIds.length*this.randomPassiveSkillIds.length)){i.next=2;break}return i.abrupt("return");case 2:return _.ins.onPause(),this._randomSkillTimes++,i.next=6,F.ins.openUIClose(G);case 6:t=i.sent,console.log("选择技能",t),_.ins.onResume(),this.addSkill(t);case 10:case"end":return i.stop()}}),i,this)})));return function(){return i.apply(this,arguments)}}(),o.onRandomSkillIds=function(i,t){var e=this;void 0===t&&(t=1);var l=2===i?this.randomActiveSkillIds:this.randomPassiveSkillIds,n=0,r=[];l.forEach((function(i){var t=Number(i),l=v.CfgSkill.getItem(t);if(!l||!l.weight)return!1;var a=e.getSkillLv(t),s=Math.floor(l.weight/Math.max(a+1,1));return v.getSkillLvData(t).length>a&&(n+=s,r.push([t,s]),!0)}));for(var a=function(){var i=N.randomNum(0,n),t=0,e=r.findIndex((function(e){return(t+=e[1])>=i}));if(e>-1){var l=r[e],a=l[0],s=l[1];return n-=s,r.splice(e,1),a}return 0},s=[],o=0;o<t;o++){var d=a();d>0&&s.push(d)}return s},o.addSkillMoney=function(){var i=a(s().mark((function i(t){var e;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(this.skillRandomMoney=this._skillRandomMoney+t,e=this.nextRandomMoney,!(this._skillRandomMoney>=e)){i.next=6;break}return this.skillRandomMoney=this._skillRandomMoney-e,i.next=6,this.onRandomSkill();case 6:case"end":return i.stop()}}),i,this)})));return function(t){return i.apply(this,arguments)}}(),o.getSkillCard=function(i){return this._activeSkills[i]},o.createSkillCoolTimeCard=function(){var i=S(this.skillTimeCardPrefab);return i.parent=this.skillTimeCardLayer,i.scale=m.ONE.clone().multiplyScalar(.6),i.getComponent(B)},o.initSkillCardList=function(){if(!this._isInitSkillCardList){this._isInitSkillCardList=!0;var i=this.skillLvDatas;for(var t in i)if(Object.prototype.hasOwnProperty.call(i,t)){var e=i[t];this.createSkillCard({id:t,star:e})}}},o.createSkillCard=function(i){var t=this._getSkillCardItems[i.id];if(!t){var e=v.CfgSkill.getItem(i.id),l=this.skillCardLayers[e.type-1];if(l){var n=S(this.cardItemPrefab);l.addChild(n),t=n.getComponent(w),this._getSkillCardItems[i.id]=t}}t.init(i,x.Info)},o.onUpdateSkill=function(i){if(this._isInitSkillCardList){var e=t.ins.skillLvDatas[i];e&&this.createSkillCard({id:i+"",star:e})}},r(t,[{key:"nextRandomMoney",get:function(){var i=v.globalConfig.PLAY_SKILL_MONEY_BASE||5,t=v.globalConfig.PLAY_SKILL_MONEY_GROWTH||.7,e=v.globalConfig.PLAY_SKILL_MONEY_MAX||200;return Math.min(e,Math.floor(i*Math.pow(1+t,this._randomSkillTimes)))}},{key:"skillRandomMoney",set:function(i){this._skillRandomMoney=i;var t=this.nextRandomMoney;this.skillProBar.progress=this._skillRandomMoney/t,this.skillProBarLab.string=this._skillRandomMoney+"/"+t}},{key:"randomActiveSkillIds",get:function(){return this._randomActiveSkillIds}},{key:"randomPassiveSkillIds",get:function(){return this._randomPassiveSkillIds}},{key:"skillLvDatas",get:function(){return this._getSkillLvDatas}},{key:"freeRandomSkillTimes",get:function(){return this._freeRandomSkillTimes}}]),t}(h)).ins=null,Q=t((q=li).prototype,"skillProBar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(q.prototype,"skillProBarLab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(q.prototype,"skillLayer",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(q.prototype,"skillTimeCardLayer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ii=t(q.prototype,"skillTimeCardPrefab",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=t(q.prototype,"cardItemPrefab",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ei=t(q.prototype,"skillCardLayers",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=q))||X));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/FixPhone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComFun.ts"],(function(e){var i,t,o,n,s,r,a,c,h,l,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Enum,c=e.view,h=e.Widget,l=e.Component},function(e){p=e.default}],execute:function(){var f,u,d,P,v;s._RF.push({},"153c7rnPQdD1L+9DXjCxTea","FixPhone",void 0);var g=r.ccclass,x=(r.menu,r.property);s._RF.push({},"560b2PRMiVD7qIMK+Jnd1JN","FixPhone",void 0);var D=function(e){return e[e.NONE=0]="NONE",e[e.TOP_DOWN=1]="TOP_DOWN",e[e.DOWN_TOP=2]="DOWN_TOP",e}(D||{});e("FixPhone",(f=g("FixPhone"),u=x({type:a(D),tooltip:"适配类型"}),f((v=i((P=function(e){function i(){for(var i,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return i=e.call.apply(e,[this].concat(s))||this,o(i,"fixTypes",v,n(i)),i}t(i,e);var s=i.prototype;return s.onLoad=function(){switch(this.fixTypes){case D.TOP_DOWN:this.fixTopDown();break;case D.DOWN_TOP:this.fixDownTop()}},s.fixTopDown=function(){if(p.isIPhoneX()){var e=c.getVisibleSize();if(e.width>e.height){var i=this.node.getComponent(h);if(i)i.left+=50;else{var t=this.node.getPosition().clone();t.x+=50,this.node.setPosition(t)}}else{var o=this.node.getComponent(h);if(o)o.top+=50;else{var n=this.node.getPosition().clone();n.y-=50,this.node.setPosition(n)}}}},s.fixDownTop=function(){if(p.isIPhoneX()){var e=200,i=c.getVisibleSize();if(i.width>i.height){var t=this.node.getComponent(h);if(t)t.left+=e;else{var o=this.node.getPosition().clone();o.x-=e,this.node.setPosition(o)}}else{var n=this.node.getComponent(h);if(n)n.bottom-=e;else{var s=this.node.getPosition().clone();s.y-=e,this.node.setPosition(s)}}}},i}(l)).prototype,"fixTypes",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.NONE}}),d=P))||d));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/FortreeRole.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./EnermyBase.ts","./FightNode.ts","./TurrentPropertyCtr.ts","./Constant.ts","./GameCtr.ts","./AudioMng.ts","./SdkManager.ts","./EventMng.ts","./CfgMng.ts","./ResConfig.ts","./FightSkillCtr.ts"],(function(e){var t,r,i,a,n,o,l,u,s,c,p,f,d,h,g,y,m,P,k,v,b,S,A,E,C,_,V,L,R,N,D,B,M,F,w,T,H,x,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,n=e.createClass,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){u=e.cclegacy,s=e._decorator,c=e.v3,p=e.Sprite,f=e.SpriteFrame,d=e.ProgressBar,h=e.Label,g=e.Prefab,y=e.Node,m=e.AudioClip,P=e.Component,k=e.isValid,v=e.instantiate,b=e.tween},function(e){S=e.default},function(e){A=e.EAttackType},function(e){E=e.FightNode,C=e.EPlayStep},function(e){_=e.default},function(e){V=e.EGameEvent,L=e.ETurretPropertyId,R=e.ELabPropertyId,N=e.EItemType,D=e.ETJEventName},function(e){B=e.default},function(e){M=e.AudioMng},function(e){F=e.default},function(e){w=e.EventMng},function(e){T=e.default},function(e){H=e.EResBundleName},function(e){x=e.FightSkillCtr,I=e.EAciveSkillId}],execute:function(){var z,G,K,U,O,X,q,J,W,j,Y,Q,Z,$,ee,te,re;u._RF.push({},"38201XqpvBLPbJXiXUEf5ee","FortreeRole",void 0);var ie=s.ccclass,ae=s.property;u._RF.push({},"a85b4boX7FEK5FqBzixcwkn","FortreeRole",void 0);var ne=function(e){return e[e.None=0]="None",e[e.Attack=1]="Attack",e[e.Dead=2]="Dead",e}(ne||{}),oe=c();e("FortreeRole",(z=ie("FortreeRole"),G=ae({type:p}),K=ae({type:[f]}),U=ae({type:d}),O=ae({type:h}),X=ae({type:g}),q=ae({type:y}),J=ae({type:[m]}),z((Y=t((j=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"turretSprite",Y,a(t)),i(t,"turretSpriteFrames",Q,a(t)),i(t,"lifeBar",Z,a(t)),i(t,"lifeNumLab",$,a(t)),i(t,"bulletPrefab",ee,a(t)),i(t,"bulletLayer",te,a(t)),i(t,"audioClips",re,a(t)),t._bulletNodePool=[],t._lifeNum=0,t._state=ne.None,t._attackCooltime=0,t._reviviNum=1,t._isHasShield=!1,t}r(t,e);var u=t.prototype;return u.init=function(){this.lifeNum=this.totalLife},u.onIdle=function(){this._state=ne.Attack},u.onDead=function(){var e=o(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),F.sendEvent(D.StageDead,{id:B.playData.gameData.worldId}),this._state=ne.Dead,M.playAudioClip(this.audioClips[0]),!x.ins.triggerSkill(I.ReviveWing)){e.next=6;break}return e.abrupt("return");case 6:return!t&&!B.playCf.isNoAd&&this._reviviNum-- >0?E.ins.onReviveConfirm():E.ins.onEndPlay(!1),e.next=9,S.onDelayPromise(1,this);case 9:M.playAudioClip(this.audioClips[1]);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),u.onRevive=function(e){void 0===e&&(e=1),M.playAudio("revive",H.Play),this.lifeNum=this.totalLife*e,this.onIdle()},u.onBeHit=function(e,t){if(E.ins.isInFighting&&(w.emit(V.PLAY_STEP_EVENT,C.CutHp,e),!(this._isHasShield||Math.random()<_.getPropertyValue(L.DodgeRate))))if(e*=1-_.getPropertyValue(L.DamageReduce),E.ins.playEffectCtr.showBattleAlarm(),this.addLife(-e),this._lifeNum<=0)this._lifeNum=0,this.onDead(),F.onVibrate(!0);else{var r=_.getPropertyValue(L.DamageBackRate);r>0&&Math.random()<=r&&t.onBeHit(e*_.getPropertyValue(L.DamageBackPer)),F.onVibrate()}},u.addLife=function(e,t){void 0===t&&(t=!0),this.lifeNum=Math.max(Math.min(this._lifeNum+e,this.totalLife),0),t&&E.ins.playEffectCtr.showNumEffectAct(this.node.position,e,e<0?"#FF0000":"#00ff00")},u.onShot=function(){var e=o(l().mark((function e(t,r,i){var a,n,o,u,s,c,p;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i=A.Normal),k(t)&&!t.isDead){e.next=3;break}return e.abrupt("return");case 3:return(a=this._bulletNodePool.pop())||((a=v(this.bulletPrefab)).parent=this.bulletLayer),a.active=!0,a.position=oe.set(0,0,0),n=oe.set(t.node.position),o=T.globalConfig.BULLET_SPEED,u=n.length(),n.normalize().multiplyScalar(u*(1-t.moveSpeed/o)),e.next=13,S.onTweenPromise(b(a).to(n.length()/o/Math.max(1,E.ins.curPlaySpeed),{position:n}));case 13:if(a.active=!1,this._bulletNodePool.push(a),k(t)&&!t.isDead){e.next=17;break}return e.abrupt("return");case 17:s=_.getPropertyValue(L.DeadHitRate),!t.isBoss&&s>0&&Math.random()<=s?t.onDeadHit():(r*=1+_.getLabPropertyValue(R.LAB_ATK),t.onBeHit(r,i)),t.isDead||this.onAttackStateToEnermy(t),(c=_.getPropertyValue(L.LifeSteal))>0&&(p=r*c,this.addLife(p));case 22:case"end":return e.stop()}}),e,this)})));return function(t,r,i){return e.apply(this,arguments)}}(),u.onAttackStateToEnermy=function(e){if(!e.isStun){var t=_.getPropertyValue(L.StunRate);t>0&&Math.random()<=t&&e.onStun(_.getPropertyValue(L.StunTime))}if(!e.isSlowMoveSpeed){var r=_.getPropertyValue(L.SlowRate);r>0&&Math.random()<=r&&e.onSlowMoveSpeed(_.getPropertyValue(L.SlowPer))}var i=_.getPropertyValue(L.KnockBackRate);i>0&&Math.random()<=i&&e.onKnockBack()},u.onAttack=function(){var e=this,t=1,r=_.getPropertyValue(L.ShotMultiNum),i=_.getPropertyValue(L.ShotMultiRate);r>=1&&Math.random()<=i&&(t=r);var a=E.ins.getAttackTarget(t);if(0===a.length)return!1;for(var n=function(){var t=a[o],r=e.attackValue,i=A.Normal,n=_.getPropertyValue(L.AtkCritRate);if(n>0&&Math.random()<=n){i=A.Crit;var l=_.getPropertyValue(L.AtkCritPer);l>0&&(r*=l);var u=_.getPropertyValue(L.CritGold);u>0&&Math.random()<=_.getPropertyValue(L.CritGoldRate)&&_.getItems([{id:N.Gold,num:u}])}var s=E.ins.attackAddValuePerPixel;s&&(r+=s*t.node.position.length());var c=t.checkAttackWillDead(r);if(e.onShot(t,r,i),!c){var p=_.getPropertyValue(L.ShotDoubleRate),f=_.getPropertyValue(L.ShotDoublePer);f>0&&Math.random()<=p&&e.scheduleOnce((function(){e.onShot(t,r*f,i)}),T.globalConfig.DOUBLE_SHOT_RELOAD_TIME/Math.max(1,E.ins.curPlaySpeed))}},o=0;o<a.length;o++)n();return!0},u.update=function(e){if(this.isCheckUpdate){var t=e*E.ins.curPlaySpeed;this._attackCooltime+=t,this._attackCooltime>=1/this.attackSpeed&&this.onAttack()&&(this._attackCooltime=0);var r=_.getPropertyValue(L.LifeRestore)*(1+_.getPropertyValue(L.LifeRestoreAddPer));r>0&&this.addLife(r*t,!1)}},u.onBoomKnockBack=function(e){void 0===e&&(e=1),E.ins.playEffectCtr.showBoomCircleEffect(this.attackRange/T.globalConfig.RANGE_SCENE_SCALE);for(var t=E.ins.getEnermyInRadius(),r=t.length-1;r>=0;r--){var i=t[r];i&&!i.isDead&&(e>0&&i.onBeHit(this.attackValue*e),i.isDead||i.onKnockBack(this.attackRange))}},n(t,[{key:"lifeNum",set:function(e){this._lifeNum=e;var t=e/this.totalLife;this.lifeBar.progress=t,this.turretSprite.spriteFrame=this.turretSpriteFrames[Math.ceil(t*(this.turretSpriteFrames.length-1))]}},{key:"totalLife",get:function(){var e=_.getPropertyValue(L.Life);return e*=1+_.getLabPropertyValue(R.LAB_HP)+_.getPropertyValue(L.LifeAddPer),Math.floor(e)}},{key:"isDead",get:function(){return this._state===ne.Dead}},{key:"isHasShield",set:function(e){this._isHasShield=e}},{key:"attackValue",get:function(){return _.getPropertyValue(L.Atk)*(1+_.getPropertyValue(L.AtkAddPer))}},{key:"attackRange",get:function(){return _.getPropertyValue(L.AtkRange)*(1+_.getPropertyValue(L.AtkRangeAddPer))*T.globalConfig.RANGE_SCENE_SCALE}},{key:"attackSpeed",get:function(){return _.getPropertyValue(L.AtkSpeed)*(_.getLabPropertyValue(R.LAB_ATK_SPEED)+1+_.getPropertyValue(L.AtkSpeedAddPer))}},{key:"isCheckUpdate",get:function(){return this._state===ne.Attack}}]),t}(P)).prototype,"turretSprite",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(j.prototype,"turretSpriteFrames",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=t(j.prototype,"lifeBar",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(j.prototype,"lifeNumLab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(j.prototype,"bulletPrefab",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(j.prototype,"bulletLayer",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(j.prototype,"audioClips",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=j))||W));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/FullSceneTouchEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectBase.ts","./EventMng.ts","./Constant.ts","./NodePoolHelper.ts"],(function(t){var e,n,r,o,c,u,f,i,a,s,l,p,h,E,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,c=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){f=t.cclegacy,i=t._decorator,a=t.v3,s=t.Prefab,l=t.Component},function(t){p=t.EffectBase},function(t){h=t.EventMng},function(t){E=t.EGameEvent},function(t){v=t.default}],execute:function(){var b,d,y,g,S;f._RF.push({},"a60fa90t51I261l/QLEgTqZ","FullSceneTouchEffect",void 0);var w=i.ccclass,C=i.property;f._RF.push({},"b8ddblU0M9DipzuPBOBS4O3","FullSceneTouchEffect",void 0);var F=a();t("FullSceneTouchEffect",(b=w("FullSceneTouchEffect"),d=C(s),b((S=e((g=function(t){function e(){for(var e,n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return e=t.call.apply(t,[this].concat(c))||this,r(e,"touchEffectPrefab",S,o(e)),e}n(e,t);var f=e.prototype;return f.start=function(){h.on(E.SCENE_CLICK,this.showEffect,this)},f.onDestroy=function(){h.off(E.SCENE_CLICK,this.showEffect,this)},f.showEffect=function(){var t=c(u().mark((function t(e){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(n=v.get(this.touchEffectPrefab)){t.next=5;break}return t.abrupt("return");case 5:return n.parent=this.node,F.set(e.x,e.y,0),n.worldPosition=F,(r=n.getComponent(p)).onStop(),t.next=12,r.onShow();case 12:v.put(n);case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(l)).prototype,"touchEffectPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));f._RF.pop(),f._RF.pop()}}}));

System.register("chunks:///_virtual/GameCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayData.ts","./Constant.ts","./XmlHttp.ts","./LoadHelper.ts","./ResConfig.ts","./SdkManager.ts","./AdCtr.ts"],(function(t){var n,e,o,a,r,i,l,f,s,u,p,m,c;return{setters:[function(t){n=t.createClass,e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,r=t.JsonAsset,i=t.sys},function(t){l=t.PlayData},function(t){f=t.EGamePlatform},function(t){s=t.default},function(t){u=t.default},function(t){p=t.EResBundleName},function(t){m=t.default},function(t){c=t.AdCtr}],execute:function(){a._RF.push({},"2eff24GeWdNErOwXQJs2le7","GameCtr",void 0),a._RF.push({},"edfb0e8lvBJzpIICqt3UKzE","GameCtr",void 0);var d=function(t){return t[t.Test=0]="Test",t[t.Online=1]="Online",t}(d||{}),h=t("GlobalCf",{GameName:"idle-fortree",Vnum:0,Version:"1.0.0",IsLocalCf:!0,ResUrl:"https://oss.pppig.cc/idlefortree/"});t("default",new(function(){function t(){this._platform=f.H5,this.playData=null,this._playCf={},this.GameCloneId=""}var a=t.prototype;return a.isInTest=function(){var t;return(null!=(t=this.playCf.state)?t:1)==d.Test},a.init=function(){var t=e(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.platform==i.Platform.WECHAT_GAME?window.qq?this._platform=f.QQ:void 0!==window.KSGameGlobal?this._platform=f.KS:this._platform=f.WeChat:i.platform==i.Platform.BYTEDANCE_MINI_GAME?this._platform=f.TT:i.platform==i.Platform.OPPO_MINI_GAME?this._platform=f.OPPO:i.platform==i.Platform.VIVO_MINI_GAME?this._platform=f.VIVO:i.platform==i.Platform.ANDROID?(m.onCallAndroidFun("getSdkChannel","()Ljava/lang/String;"),this._platform=f.Android):i.platform==i.Platform.IOS?this._platform=f.IOS:window.uc?this._platform=f.UC:this._platform=f.H5,this.playData=new l(this.gameName),t.next=4,m.init();case 4:return t.next=6,this.initCf();case 6:null==(n=c.ins)||n.init(),this.playData.idleTime,this.playData.initOnlineTimeReward();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.initCf=function(){var t=this;return new Promise((function(n,e){var o=0,a=t._platform==f.H5||h.IsLocalCf?1:2,i=function(t){void 0===t&&(t=!1),a<=o&&n(t)},l=function(n,e){if(void 0===e&&(e=0),!(o>e))if(o=e,n){var a;if(n instanceof r)a=n.json;else{if(""==n)return void i();a=JSON.parse(n)}console.log(t._platform,"CfgSdk.json:",a,e),console.log("CfgSdk.json:",JSON.stringify(a)),t._playCf=a,i(!0)}else i()};if(u.loadRes("json/platform/CfgSdk_"+t._platform+t.GameCloneId,r,p.Start).then((function(t){l(t,1)})),2==a){var m=h.Version,c=h.ResUrl+t._platform+"/CfgSdk_"+m+".json";s.downloadFile(c,(function(t){if(!t)return console.error("downloadFile：fail, ",c),void l(null);console.log("downloadFile:",t),l(t,2)}))}}))},n(t,[{key:"gameName",get:function(){return h.GameName}},{key:"platform",get:function(){return this._platform}},{key:"playCf",get:function(){return this._playCf}}]),t}()));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/GameExcellData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./protobuf-wrapper.ts"],(function(e){var n,t,r,a,i,l,u;return{setters:[function(e){n=e.inheritsLoose,t=e.extends,r=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy},function(e){l=e.Writer,u=e.Reader}],execute:function(){i._RF.push({},"f8a2aHELcpBwa0t6njokkpH","GameExcellData",void 0);var o={},s=e("DataConverter",function(){function e(){}return e.getConvertData=function(n,t,r,a,i){if(n._converted=n._converted||{},n._converted[t])return n._converted[t];if(null==e.convertHandler)throw new Error("convert field "+t+" value need a converter");var l=e.convertHandler(n,t,r,a);return i&&(n._converted[t]=l),l},e}());s.convertHandler=void 0;var c=e("DataModel",function(){function e(){this._converted={}}return e.prototype.getConvertData=function(e,n,t,r){if(this._converted[e])return this._converted[e];if(null==s.convertHandler)throw new Error("convert field "+e+" value need a converter");var a=s.convertHandler(this,e,n,t);return r&&(this._converted[e]=a),a},e}()),d=e("CfgPropertyLv",function(e){function a(n){var t;return(t=e.call(this)||this).id="",t.type=0,t.name="",t.startValue=0,t.levelUpBase=0,t.levelUpMulti=0,t.lvlupStartCoin=0,t.lvlupBaseCoinPrice=0,t.lvlupMultiCoinPrice=0,t.lvlupStartGold=0,t.lvlupBaseGoldPrice=0,t.lvlupMultiGoldPrice=0,t.maxValue=0,n&&Object.assign(r(t),n),t}return n(a,e),a.getArrayType=function(){return o[a.__array_type_name__]},a.create=function(e){return new a(e)},a.encode=function(e,n){return n||(n=l.create()),null!=e.id&&n.uint32(10).string(e.id),null!=e.type&&n.uint32(16).int32(e.type),null!=e.name&&n.uint32(26).string(e.name),null!=e.startValue&&n.uint32(33).double(e.startValue),null!=e.levelUpBase&&n.uint32(41).double(e.levelUpBase),null!=e.levelUpMulti&&n.uint32(49).double(e.levelUpMulti),null!=e.lvlupStartCoin&&n.uint32(57).double(e.lvlupStartCoin),null!=e.lvlupBaseCoinPrice&&n.uint32(65).double(e.lvlupBaseCoinPrice),null!=e.lvlupMultiCoinPrice&&n.uint32(73).double(e.lvlupMultiCoinPrice),null!=e.lvlupStartGold&&n.uint32(81).double(e.lvlupStartGold),null!=e.lvlupBaseGoldPrice&&n.uint32(89).double(e.lvlupBaseGoldPrice),null!=e.lvlupMultiGoldPrice&&n.uint32(97).double(e.lvlupMultiGoldPrice),null!=e.maxValue&&n.uint32(105).double(e.maxValue),n},a.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new a;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.string();break;case 2:r.type=e.int32();break;case 3:r.name=e.string();break;case 4:r.startValue=e.double();break;case 5:r.levelUpBase=e.double();break;case 6:r.levelUpMulti=e.double();break;case 7:r.lvlupStartCoin=e.double();break;case 8:r.lvlupBaseCoinPrice=e.double();break;case 9:r.lvlupMultiCoinPrice=e.double();break;case 10:r.lvlupStartGold=e.double();break;case 11:r.lvlupBaseGoldPrice=e.double();break;case 12:r.lvlupMultiGoldPrice=e.double();break;case 13:r.maxValue=e.double();break;default:e.skipType(7&i)}}return r},a.fromObject=function(e){return e instanceof a?e:new a(e)},a.prototype.toJSON=function(){return t({},this)},a}(c));d.__type_name__="CfgPropertyLv",d.__array_type_name__="CfgPropertyLv_ARRAY",o.CfgPropertyLv=d;var f=e("CfgPropertyLv_ARRAY",function(e){function t(n){var t;return(t=e.call(this)||this).Items=[],n&&Object.assign(r(t),n),t}return n(t,e),t.create=function(e){return new t(e)},t.encode=function(e,n){var t;if(n||(n=l.create()),null!=(t=e.Items)&&t.length)for(var r,i=a(e.Items);!(r=i()).done;){var u=r.value;d.encode(u,n.uint32(10).fork()).ldelim()}return n},t.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new t;e.pos<r;){var i=e.uint32();i>>>3==1?a.Items.push(d.decode(e,e.uint32())):e.skipType(7&i)}return a},t}(c));f.__type_name__="CfgPropertyLv_ARRAY",o.CfgPropertyLv_ARRAY=f;var p=e("CfgSkill",function(e){function i(n){var t;return(t=e.call(this)||this).id=0,t.name="",t.quality=0,t.type=0,t.weight=0,t.propertyTypes=[],t.lvValue1=[],t.lvValue2=[],t.lvValue3=[],t.des="",n&&Object.assign(r(t),n),t}return n(i,e),i.getArrayType=function(){return o[i.__array_type_name__]},i.create=function(e){return new i(e)},i.encode=function(e,n){var t,r,i,u;if(n||(n=l.create()),null!=e.id&&n.uint32(8).int32(e.id),null!=e.name&&n.uint32(18).string(e.name),null!=e.quality&&n.uint32(24).int32(e.quality),null!=e.type&&n.uint32(32).int32(e.type),null!=e.weight&&n.uint32(40).int32(e.weight),null!=(t=e.propertyTypes)&&t.length)for(var o,s=a(e.propertyTypes);!(o=s()).done;){var c=o.value;n.uint32(50).string(c)}if(null!=(r=e.lvValue1)&&r.length){n.uint32(58).fork();for(var d,f=a(e.lvValue1);!(d=f()).done;){var p=d.value;n.int32(p)}n.ldelim()}if(null!=(i=e.lvValue2)&&i.length){n.uint32(66).fork();for(var v,_=a(e.lvValue2);!(v=_()).done;){var m=v.value;n.int32(m)}n.ldelim()}if(null!=(u=e.lvValue3)&&u.length){n.uint32(74).fork();for(var y,k=a(e.lvValue3);!(y=k()).done;){var g=y.value;n.int32(g)}n.ldelim()}return null!=e.des&&n.uint32(82).string(e.des),n},i.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new i;e.pos<t;){var a=e.uint32();switch(a>>>3){case 1:r.id=e.int32();break;case 2:r.name=e.string();break;case 3:r.quality=e.int32();break;case 4:r.type=e.int32();break;case 5:r.weight=e.int32();break;case 6:r.propertyTypes.push(e.string());break;case 7:if(2==(7&a))for(var l=e.uint32()+e.pos;e.pos<l;)r.lvValue1.push(e.int32());else r.lvValue1.push(e.int32());break;case 8:if(2==(7&a))for(var o=e.uint32()+e.pos;e.pos<o;)r.lvValue2.push(e.int32());else r.lvValue2.push(e.int32());break;case 9:if(2==(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.lvValue3.push(e.int32());else r.lvValue3.push(e.int32());break;case 10:r.des=e.string();break;default:e.skipType(7&a)}}return r},i.fromObject=function(e){return e instanceof i?e:new i(e)},i.prototype.toJSON=function(){return t({},this)},i}(c));p.__type_name__="CfgSkill",p.__array_type_name__="CfgSkill_ARRAY",o.CfgSkill=p;var v=e("CfgSkill_ARRAY",function(e){function t(n){var t;return(t=e.call(this)||this).Items=[],n&&Object.assign(r(t),n),t}return n(t,e),t.create=function(e){return new t(e)},t.encode=function(e,n){var t;if(n||(n=l.create()),null!=(t=e.Items)&&t.length)for(var r,i=a(e.Items);!(r=i()).done;){var u=r.value;p.encode(u,n.uint32(10).fork()).ldelim()}return n},t.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new t;e.pos<r;){var i=e.uint32();i>>>3==1?a.Items.push(p.decode(e,e.uint32())):e.skipType(7&i)}return a},t}(c));v.__type_name__="CfgSkill_ARRAY",o.CfgSkill_ARRAY=v;var _=e("CfgConstant",function(e){function i(n){var t;return(t=e.call(this)||this).MaxWorldId=0,t.RANGE_SCENE_SCALE=0,t.BULLET_SPEED=0,t.DOUBLE_SHOT_RELOAD_TIME=0,t.MAX_GAME_SPEED=0,t.MIN_GAME_SPEED=0,t.STEP_GAME_SPEED=0,t.waveCrystalReward=0,t.waveCrystalDoubleRate=0,t.EnermyWaveUpAtk=0,t.EnermyWaveUpHP=0,t.EnermyWaveCountForUpCoin=0,t.EnermyWaveUpCoin=0,t.TurretBodyRadius=0,t.CoinStartInit=0,t.IdleResGoldHour=0,t.IdleResGoldAddHour=0,t.IdleResGemHour=0,t.IdleResCrystalHour=0,t.IdleResMaxTime=0,t.GiftFreeGoldMin=0,t.GiftFreeGoldAdd=0,t.GiftFreeDiamond=0,t.GiftFreeCrystal=0,t.ShopFreeDiamondNum=0,t.ShopAdDiamondNum=0,t.ShopAdDiamondDayTimes=0,t.ShopAdBuyDiamondNum=0,t.ShopAdCrystalNum=0,t.ShopAdCrystalDayTimes=0,t.ShopAdBuyCrystalNum=0,t.unlockConfig=[],t.CardMaxStar=0,t.CardSpinPrice=0,t.CardLvUpGemPrice=0,t.CardUnlockSlotPrice=[],t.CardQuantityForMerge=[],t.LabUnlockSlotGemPrice=[],t.LabUpgradeTime=[],t.RandomAdSkillRate=0,t.FreeRandomSkillTimes=0,t.RandomSkillDiamond=0,n&&Object.assign(r(t),n),t}return n(i,e),i.getArrayType=function(){return o[i.__array_type_name__]},i.create=function(e){return new i(e)},i.encode=function(e,n){var t,r,i,u,o;if(n||(n=l.create()),null!=e.MaxWorldId&&n.uint32(8).int32(e.MaxWorldId),null!=e.RANGE_SCENE_SCALE&&n.uint32(16).int32(e.RANGE_SCENE_SCALE),null!=e.BULLET_SPEED&&n.uint32(24).int32(e.BULLET_SPEED),null!=e.DOUBLE_SHOT_RELOAD_TIME&&n.uint32(37).float(e.DOUBLE_SHOT_RELOAD_TIME),null!=e.MAX_GAME_SPEED&&n.uint32(40).int32(e.MAX_GAME_SPEED),null!=e.MIN_GAME_SPEED&&n.uint32(48).int32(e.MIN_GAME_SPEED),null!=e.STEP_GAME_SPEED&&n.uint32(61).float(e.STEP_GAME_SPEED),null!=e.waveCrystalReward&&n.uint32(64).int32(e.waveCrystalReward),null!=e.waveCrystalDoubleRate&&n.uint32(77).float(e.waveCrystalDoubleRate),null!=e.EnermyWaveUpAtk&&n.uint32(85).float(e.EnermyWaveUpAtk),null!=e.EnermyWaveUpHP&&n.uint32(93).float(e.EnermyWaveUpHP),null!=e.EnermyWaveCountForUpCoin&&n.uint32(96).int32(e.EnermyWaveCountForUpCoin),null!=e.EnermyWaveUpCoin&&n.uint32(104).int32(e.EnermyWaveUpCoin),null!=e.TurretBodyRadius&&n.uint32(112).int32(e.TurretBodyRadius),null!=e.CoinStartInit&&n.uint32(120).int32(e.CoinStartInit),null!=e.IdleResGoldHour&&n.uint32(128).int32(e.IdleResGoldHour),null!=e.IdleResGoldAddHour&&n.uint32(136).int32(e.IdleResGoldAddHour),null!=e.IdleResGemHour&&n.uint32(144).int32(e.IdleResGemHour),null!=e.IdleResCrystalHour&&n.uint32(152).int32(e.IdleResCrystalHour),null!=e.IdleResMaxTime&&n.uint32(160).int32(e.IdleResMaxTime),null!=e.GiftFreeGoldMin&&n.uint32(168).int32(e.GiftFreeGoldMin),null!=e.GiftFreeGoldAdd&&n.uint32(176).int32(e.GiftFreeGoldAdd),null!=e.GiftFreeDiamond&&n.uint32(184).int32(e.GiftFreeDiamond),null!=e.GiftFreeCrystal&&n.uint32(192).int32(e.GiftFreeCrystal),null!=e.ShopFreeDiamondNum&&n.uint32(200).int32(e.ShopFreeDiamondNum),null!=e.ShopAdDiamondNum&&n.uint32(208).int32(e.ShopAdDiamondNum),null!=e.ShopAdDiamondDayTimes&&n.uint32(216).int32(e.ShopAdDiamondDayTimes),null!=e.ShopAdBuyDiamondNum&&n.uint32(224).int32(e.ShopAdBuyDiamondNum),null!=e.ShopAdCrystalNum&&n.uint32(232).int32(e.ShopAdCrystalNum),null!=e.ShopAdCrystalDayTimes&&n.uint32(240).int32(e.ShopAdCrystalDayTimes),null!=e.ShopAdBuyCrystalNum&&n.uint32(248).int32(e.ShopAdBuyCrystalNum),null!=(t=e.unlockConfig)&&t.length){n.uint32(258).fork();for(var s,c=a(e.unlockConfig);!(s=c()).done;){var d=s.value;n.int32(d)}n.ldelim()}if(null!=e.CardMaxStar&&n.uint32(264).int32(e.CardMaxStar),null!=e.CardSpinPrice&&n.uint32(272).int32(e.CardSpinPrice),null!=e.CardLvUpGemPrice&&n.uint32(280).int32(e.CardLvUpGemPrice),null!=(r=e.CardUnlockSlotPrice)&&r.length){n.uint32(290).fork();for(var f,p=a(e.CardUnlockSlotPrice);!(f=p()).done;){var v=f.value;n.int32(v)}n.ldelim()}if(null!=(i=e.CardQuantityForMerge)&&i.length){n.uint32(298).fork();for(var _,m=a(e.CardQuantityForMerge);!(_=m()).done;){var y=_.value;n.int32(y)}n.ldelim()}if(null!=(u=e.LabUnlockSlotGemPrice)&&u.length){n.uint32(306).fork();for(var k,g=a(e.LabUnlockSlotGemPrice);!(k=g()).done;){var b=k.value;n.int32(b)}n.ldelim()}if(null!=(o=e.LabUpgradeTime)&&o.length){n.uint32(314).fork();for(var C,A=a(e.LabUpgradeTime);!(C=A()).done;){var h=C.value;n.int32(h)}n.ldelim()}return null!=e.RandomAdSkillRate&&n.uint32(325).float(e.RandomAdSkillRate),null!=e.FreeRandomSkillTimes&&n.uint32(328).int32(e.FreeRandomSkillTimes),null!=e.RandomSkillDiamond&&n.uint32(336).int32(e.RandomSkillDiamond),n},i.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new i;e.pos<t;){var a=e.uint32();switch(a>>>3){case 1:r.MaxWorldId=e.int32();break;case 2:r.RANGE_SCENE_SCALE=e.int32();break;case 3:r.BULLET_SPEED=e.int32();break;case 4:r.DOUBLE_SHOT_RELOAD_TIME=e.float();break;case 5:r.MAX_GAME_SPEED=e.int32();break;case 6:r.MIN_GAME_SPEED=e.int32();break;case 7:r.STEP_GAME_SPEED=e.float();break;case 8:r.waveCrystalReward=e.int32();break;case 9:r.waveCrystalDoubleRate=e.float();break;case 10:r.EnermyWaveUpAtk=e.float();break;case 11:r.EnermyWaveUpHP=e.float();break;case 12:r.EnermyWaveCountForUpCoin=e.int32();break;case 13:r.EnermyWaveUpCoin=e.int32();break;case 14:r.TurretBodyRadius=e.int32();break;case 15:r.CoinStartInit=e.int32();break;case 16:r.IdleResGoldHour=e.int32();break;case 17:r.IdleResGoldAddHour=e.int32();break;case 18:r.IdleResGemHour=e.int32();break;case 19:r.IdleResCrystalHour=e.int32();break;case 20:r.IdleResMaxTime=e.int32();break;case 21:r.GiftFreeGoldMin=e.int32();break;case 22:r.GiftFreeGoldAdd=e.int32();break;case 23:r.GiftFreeDiamond=e.int32();break;case 24:r.GiftFreeCrystal=e.int32();break;case 25:r.ShopFreeDiamondNum=e.int32();break;case 26:r.ShopAdDiamondNum=e.int32();break;case 27:r.ShopAdDiamondDayTimes=e.int32();break;case 28:r.ShopAdBuyDiamondNum=e.int32();break;case 29:r.ShopAdCrystalNum=e.int32();break;case 30:r.ShopAdCrystalDayTimes=e.int32();break;case 31:r.ShopAdBuyCrystalNum=e.int32();break;case 32:if(2==(7&a))for(var l=e.uint32()+e.pos;e.pos<l;)r.unlockConfig.push(e.int32());else r.unlockConfig.push(e.int32());break;case 33:r.CardMaxStar=e.int32();break;case 34:r.CardSpinPrice=e.int32();break;case 35:r.CardLvUpGemPrice=e.int32();break;case 36:if(2==(7&a))for(var o=e.uint32()+e.pos;e.pos<o;)r.CardUnlockSlotPrice.push(e.int32());else r.CardUnlockSlotPrice.push(e.int32());break;case 37:if(2==(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.CardQuantityForMerge.push(e.int32());else r.CardQuantityForMerge.push(e.int32());break;case 38:if(2==(7&a))for(var c=e.uint32()+e.pos;e.pos<c;)r.LabUnlockSlotGemPrice.push(e.int32());else r.LabUnlockSlotGemPrice.push(e.int32());break;case 39:if(2==(7&a))for(var d=e.uint32()+e.pos;e.pos<d;)r.LabUpgradeTime.push(e.int32());else r.LabUpgradeTime.push(e.int32());break;case 40:r.RandomAdSkillRate=e.float();break;case 41:r.FreeRandomSkillTimes=e.int32();break;case 42:r.RandomSkillDiamond=e.int32();break;default:e.skipType(7&a)}}return r},i.fromObject=function(e){return e instanceof i?e:new i(e)},i.prototype.toJSON=function(){return t({},this)},i}(c));_.__type_name__="CfgConstant",_.__array_type_name__="CfgConstant_ARRAY",o.CfgConstant=_;var m=e("CfgConstant_ARRAY",function(e){function t(n){var t;return(t=e.call(this)||this).Items=[],n&&Object.assign(r(t),n),t}return n(t,e),t.create=function(e){return new t(e)},t.encode=function(e,n){var t;if(n||(n=l.create()),null!=(t=e.Items)&&t.length)for(var r,i=a(e.Items);!(r=i()).done;){var u=r.value;_.encode(u,n.uint32(10).fork()).ldelim()}return n},t.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new t;e.pos<r;){var i=e.uint32();i>>>3==1?a.Items.push(_.decode(e,e.uint32())):e.skipType(7&i)}return a},t}(c));m.__type_name__="CfgConstant_ARRAY",o.CfgConstant_ARRAY=m;var y=e("CfgLabProperty",function(e){function a(n){var t;return(t=e.call(this)||this).id="",t.valueType=0,t.name="",t.startValue=0,t.levelUpBase=0,t.levelUpMulti=0,t.lvlupStartCrystal=0,t.lvlupBaseCrystalPrice=0,t.lvlupMultiCrystalPrice=0,t.maxValue=0,t.timeMulti=0,n&&Object.assign(r(t),n),t}return n(a,e),a.getArrayType=function(){return o[a.__array_type_name__]},a.create=function(e){return new a(e)},a.encode=function(e,n){return n||(n=l.create()),null!=e.id&&n.uint32(10).string(e.id),null!=e.valueType&&n.uint32(16).int32(e.valueType),null!=e.name&&n.uint32(26).string(e.name),null!=e.startValue&&n.uint32(33).double(e.startValue),null!=e.levelUpBase&&n.uint32(41).double(e.levelUpBase),null!=e.levelUpMulti&&n.uint32(49).double(e.levelUpMulti),null!=e.lvlupStartCrystal&&n.uint32(57).double(e.lvlupStartCrystal),null!=e.lvlupBaseCrystalPrice&&n.uint32(65).double(e.lvlupBaseCrystalPrice),null!=e.lvlupMultiCrystalPrice&&n.uint32(73).double(e.lvlupMultiCrystalPrice),null!=e.maxValue&&n.uint32(81).double(e.maxValue),null!=e.timeMulti&&n.uint32(89).double(e.timeMulti),n},a.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new a;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.string();break;case 2:r.valueType=e.int32();break;case 3:r.name=e.string();break;case 4:r.startValue=e.double();break;case 5:r.levelUpBase=e.double();break;case 6:r.levelUpMulti=e.double();break;case 7:r.lvlupStartCrystal=e.double();break;case 8:r.lvlupBaseCrystalPrice=e.double();break;case 9:r.lvlupMultiCrystalPrice=e.double();break;case 10:r.maxValue=e.double();break;case 11:r.timeMulti=e.double();break;default:e.skipType(7&i)}}return r},a.fromObject=function(e){return e instanceof a?e:new a(e)},a.prototype.toJSON=function(){return t({},this)},a}(c));y.__type_name__="CfgLabProperty",y.__array_type_name__="CfgLabProperty_ARRAY",o.CfgLabProperty=y;var k=e("CfgLabProperty_ARRAY",function(e){function t(n){var t;return(t=e.call(this)||this).Items=[],n&&Object.assign(r(t),n),t}return n(t,e),t.create=function(e){return new t(e)},t.encode=function(e,n){var t;if(n||(n=l.create()),null!=(t=e.Items)&&t.length)for(var r,i=a(e.Items);!(r=i()).done;){var u=r.value;y.encode(u,n.uint32(10).fork()).ldelim()}return n},t.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new t;e.pos<r;){var i=e.uint32();i>>>3==1?a.Items.push(y.decode(e,e.uint32())):e.skipType(7&i)}return a},t}(c));k.__type_name__="CfgLabProperty_ARRAY",o.CfgLabProperty_ARRAY=k;var g=e("CfgCard",function(e){function a(n){var t;return(t=e.call(this)||this).id="",t.valueType=0,t.type=0,t.name="",t.startValue=0,t.levelUpBase=0,t.spawnRatio=0,t.desc="",n&&Object.assign(r(t),n),t}return n(a,e),a.getArrayType=function(){return o[a.__array_type_name__]},a.create=function(e){return new a(e)},a.encode=function(e,n){return n||(n=l.create()),null!=e.id&&n.uint32(10).string(e.id),null!=e.valueType&&n.uint32(16).int32(e.valueType),null!=e.type&&n.uint32(24).int32(e.type),null!=e.name&&n.uint32(34).string(e.name),null!=e.startValue&&n.uint32(41).double(e.startValue),null!=e.levelUpBase&&n.uint32(49).double(e.levelUpBase),null!=e.spawnRatio&&n.uint32(57).double(e.spawnRatio),null!=e.desc&&n.uint32(66).string(e.desc),n},a.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new a;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.string();break;case 2:r.valueType=e.int32();break;case 3:r.type=e.int32();break;case 4:r.name=e.string();break;case 5:r.startValue=e.double();break;case 6:r.levelUpBase=e.double();break;case 7:r.spawnRatio=e.double();break;case 8:r.desc=e.string();break;default:e.skipType(7&i)}}return r},a.fromObject=function(e){return e instanceof a?e:new a(e)},a.prototype.toJSON=function(){return t({},this)},a}(c));g.__type_name__="CfgCard",g.__array_type_name__="CfgCard_ARRAY",o.CfgCard=g;var b=e("CfgCard_ARRAY",function(e){function t(n){var t;return(t=e.call(this)||this).Items=[],n&&Object.assign(r(t),n),t}return n(t,e),t.create=function(e){return new t(e)},t.encode=function(e,n){var t;if(n||(n=l.create()),null!=(t=e.Items)&&t.length)for(var r,i=a(e.Items);!(r=i()).done;){var u=r.value;g.encode(u,n.uint32(10).fork()).ldelim()}return n},t.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new t;e.pos<r;){var i=e.uint32();i>>>3==1?a.Items.push(g.decode(e,e.uint32())):e.skipType(7&i)}return a},t}(c));b.__type_name__="CfgCard_ARRAY",o.CfgCard_ARRAY=b;var C=e("CfgEnermy",function(e){function a(n){var t;return(t=e.call(this)||this).id=0,t.skin="",t.atkType=0,t.atk=0,t.hp=0,t.moveSpeed=0,t.atkSpeed=0,t.atkRange=0,t.baseKillCoin=0,t.killGold=0,t.killGoldRate=0,n&&Object.assign(r(t),n),t}return n(a,e),a.getArrayType=function(){return o[a.__array_type_name__]},a.create=function(e){return new a(e)},a.encode=function(e,n){return n||(n=l.create()),null!=e.id&&n.uint32(8).int32(e.id),null!=e.skin&&n.uint32(18).string(e.skin),null!=e.atkType&&n.uint32(24).int32(e.atkType),null!=e.atk&&n.uint32(33).double(e.atk),null!=e.hp&&n.uint32(41).double(e.hp),null!=e.moveSpeed&&n.uint32(49).double(e.moveSpeed),null!=e.atkSpeed&&n.uint32(57).double(e.atkSpeed),null!=e.atkRange&&n.uint32(65).double(e.atkRange),null!=e.baseKillCoin&&n.uint32(72).int32(e.baseKillCoin),null!=e.killGold&&n.uint32(80).int32(e.killGold),null!=e.killGoldRate&&n.uint32(89).double(e.killGoldRate),n},a.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new a;e.pos<t;){var i=e.uint32();switch(i>>>3){case 1:r.id=e.int32();break;case 2:r.skin=e.string();break;case 3:r.atkType=e.int32();break;case 4:r.atk=e.double();break;case 5:r.hp=e.double();break;case 6:r.moveSpeed=e.double();break;case 7:r.atkSpeed=e.double();break;case 8:r.atkRange=e.double();break;case 9:r.baseKillCoin=e.int32();break;case 10:r.killGold=e.int32();break;case 11:r.killGoldRate=e.double();break;default:e.skipType(7&i)}}return r},a.fromObject=function(e){return e instanceof a?e:new a(e)},a.prototype.toJSON=function(){return t({},this)},a}(c));C.__type_name__="CfgEnermy",C.__array_type_name__="CfgEnermy_ARRAY",o.CfgEnermy=C;var A=e("CfgEnermy_ARRAY",function(e){function t(n){var t;return(t=e.call(this)||this).Items=[],n&&Object.assign(r(t),n),t}return n(t,e),t.create=function(e){return new t(e)},t.encode=function(e,n){var t;if(n||(n=l.create()),null!=(t=e.Items)&&t.length)for(var r,i=a(e.Items);!(r=i()).done;){var u=r.value;C.encode(u,n.uint32(10).fork()).ldelim()}return n},t.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new t;e.pos<r;){var i=e.uint32();i>>>3==1?a.Items.push(C.decode(e,e.uint32())):e.skipType(7&i)}return a},t}(c));A.__type_name__="CfgEnermy_ARRAY",o.CfgEnermy_ARRAY=A;var h=e("CfgWorld",function(e){function i(n){var t;return(t=e.call(this)||this).id=0,t.name="",t.prefab="",t.stageBeginIds=[],t.enermyZeroId=0,t.stageWaveNums=[],t.stageLvs=[],t.stageNumScales=[],t.createTimeScales=[],n&&Object.assign(r(t),n),t}return n(i,e),i.getArrayType=function(){return o[i.__array_type_name__]},i.create=function(e){return new i(e)},i.encode=function(e,n){var t,r,i,u,o;if(n||(n=l.create()),null!=e.id&&n.uint32(8).int32(e.id),null!=e.name&&n.uint32(18).string(e.name),null!=e.prefab&&n.uint32(26).string(e.prefab),null!=(t=e.stageBeginIds)&&t.length){n.uint32(34).fork();for(var s,c=a(e.stageBeginIds);!(s=c()).done;){var d=s.value;n.int32(d)}n.ldelim()}if(null!=e.enermyZeroId&&n.uint32(40).int32(e.enermyZeroId),null!=(r=e.stageWaveNums)&&r.length){n.uint32(50).fork();for(var f,p=a(e.stageWaveNums);!(f=p()).done;){var v=f.value;n.int32(v)}n.ldelim()}if(null!=(i=e.stageLvs)&&i.length){n.uint32(58).fork();for(var _,m=a(e.stageLvs);!(_=m()).done;){var y=_.value;n.int32(y)}n.ldelim()}if(null!=(u=e.stageNumScales)&&u.length){n.uint32(66).fork();for(var k,g=a(e.stageNumScales);!(k=g()).done;){var b=k.value;n.float(b)}n.ldelim()}if(null!=(o=e.createTimeScales)&&o.length){n.uint32(74).fork();for(var C,A=a(e.createTimeScales);!(C=A()).done;){var h=C.value;n.float(h)}n.ldelim()}return n},i.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new i;e.pos<t;){var a=e.uint32();switch(a>>>3){case 1:r.id=e.int32();break;case 2:r.name=e.string();break;case 3:r.prefab=e.string();break;case 4:if(2==(7&a))for(var l=e.uint32()+e.pos;e.pos<l;)r.stageBeginIds.push(e.int32());else r.stageBeginIds.push(e.int32());break;case 5:r.enermyZeroId=e.int32();break;case 6:if(2==(7&a))for(var o=e.uint32()+e.pos;e.pos<o;)r.stageWaveNums.push(e.int32());else r.stageWaveNums.push(e.int32());break;case 7:if(2==(7&a))for(var s=e.uint32()+e.pos;e.pos<s;)r.stageLvs.push(e.int32());else r.stageLvs.push(e.int32());break;case 8:if(2==(7&a))for(var c=e.uint32()+e.pos;e.pos<c;)r.stageNumScales.push(e.float());else r.stageNumScales.push(e.float());break;case 9:if(2==(7&a))for(var d=e.uint32()+e.pos;e.pos<d;)r.createTimeScales.push(e.float());else r.createTimeScales.push(e.float());break;default:e.skipType(7&a)}}return r},i.fromObject=function(e){return e instanceof i?e:new i(e)},i.prototype.toJSON=function(){return t({},this)},i}(c));h.__type_name__="CfgWorld",h.__array_type_name__="CfgWorld_ARRAY",o.CfgWorld=h;var R=e("CfgWorld_ARRAY",function(e){function t(n){var t;return(t=e.call(this)||this).Items=[],n&&Object.assign(r(t),n),t}return n(t,e),t.create=function(e){return new t(e)},t.encode=function(e,n){var t;if(n||(n=l.create()),null!=(t=e.Items)&&t.length)for(var r,i=a(e.Items);!(r=i()).done;){var u=r.value;h.encode(u,n.uint32(10).fork()).ldelim()}return n},t.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new t;e.pos<r;){var i=e.uint32();i>>>3==1?a.Items.push(h.decode(e,e.uint32())):e.skipType(7&i)}return a},t}(c));R.__type_name__="CfgWorld_ARRAY",o.CfgWorld_ARRAY=R;var S=e("CfgStage",function(e){function i(n){var t;return(t=e.call(this)||this).id=0,t.enermyIds=[],t.enermyNums=[],t.createInterval=0,n&&Object.assign(r(t),n),t}return n(i,e),i.getArrayType=function(){return o[i.__array_type_name__]},i.create=function(e){return new i(e)},i.encode=function(e,n){var t,r;if(n||(n=l.create()),null!=e.id&&n.uint32(8).int32(e.id),null!=(t=e.enermyIds)&&t.length){n.uint32(18).fork();for(var i,u=a(e.enermyIds);!(i=u()).done;){var o=i.value;n.int32(o)}n.ldelim()}if(null!=(r=e.enermyNums)&&r.length){n.uint32(26).fork();for(var s,c=a(e.enermyNums);!(s=c()).done;){var d=s.value;n.int32(d)}n.ldelim()}return null!=e.createInterval&&n.uint32(37).float(e.createInterval),n},i.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new i;e.pos<t;){var a=e.uint32();switch(a>>>3){case 1:r.id=e.int32();break;case 2:if(2==(7&a))for(var l=e.uint32()+e.pos;e.pos<l;)r.enermyIds.push(e.int32());else r.enermyIds.push(e.int32());break;case 3:if(2==(7&a))for(var o=e.uint32()+e.pos;e.pos<o;)r.enermyNums.push(e.int32());else r.enermyNums.push(e.int32());break;case 4:r.createInterval=e.float();break;default:e.skipType(7&a)}}return r},i.fromObject=function(e){return e instanceof i?e:new i(e)},i.prototype.toJSON=function(){return t({},this)},i}(c));S.__type_name__="CfgStage",S.__array_type_name__="CfgStage_ARRAY",o.CfgStage=S;var E=e("CfgStage_ARRAY",function(e){function t(n){var t;return(t=e.call(this)||this).Items=[],n&&Object.assign(r(t),n),t}return n(t,e),t.create=function(e){return new t(e)},t.encode=function(e,n){var t;if(n||(n=l.create()),null!=(t=e.Items)&&t.length)for(var r,i=a(e.Items);!(r=i()).done;){var u=r.value;S.encode(u,n.uint32(10).fork()).ldelim()}return n},t.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new t;e.pos<r;){var i=e.uint32();i>>>3==1?a.Items.push(S.decode(e,e.uint32())):e.skipType(7&i)}return a},t}(c));E.__type_name__="CfgStage_ARRAY",o.CfgStage_ARRAY=E;var P=e("CfgPropertyUnlock",function(e){function i(n){var t;return(t=e.call(this)||this).id=0,t.attSet=[],t.unlockPrice=0,t.name="",t.tips="",n&&Object.assign(r(t),n),t}return n(i,e),i.getArrayType=function(){return o[i.__array_type_name__]},i.create=function(e){return new i(e)},i.encode=function(e,n){var t;if(n||(n=l.create()),null!=e.id&&n.uint32(8).int32(e.id),null!=(t=e.attSet)&&t.length)for(var r,i=a(e.attSet);!(r=i()).done;){var u=r.value;n.uint32(18).string(u)}return null!=e.unlockPrice&&n.uint32(24).int32(e.unlockPrice),null!=e.name&&n.uint32(34).string(e.name),null!=e.tips&&n.uint32(42).string(e.tips),n},i.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var t=void 0===n?e.len:e.pos+n,r=new i;e.pos<t;){var a=e.uint32();switch(a>>>3){case 1:r.id=e.int32();break;case 2:r.attSet.push(e.string());break;case 3:r.unlockPrice=e.int32();break;case 4:r.name=e.string();break;case 5:r.tips=e.string();break;default:e.skipType(7&a)}}return r},i.fromObject=function(e){return e instanceof i?e:new i(e)},i.prototype.toJSON=function(){return t({},this)},i}(c));P.__type_name__="CfgPropertyUnlock",P.__array_type_name__="CfgPropertyUnlock_ARRAY",o.CfgPropertyUnlock=P;var I=e("CfgPropertyUnlock_ARRAY",function(e){function t(n){var t;return(t=e.call(this)||this).Items=[],n&&Object.assign(r(t),n),t}return n(t,e),t.create=function(e){return new t(e)},t.encode=function(e,n){var t;if(n||(n=l.create()),null!=(t=e.Items)&&t.length)for(var r,i=a(e.Items);!(r=i()).done;){var u=r.value;P.encode(u,n.uint32(10).fork()).ldelim()}return n},t.decode=function(e,n){e instanceof Uint8Array&&(e=u.create(e));for(var r=void 0===n?e.len:e.pos+n,a=new t;e.pos<r;){var i=e.uint32();i>>>3==1?a.Items.push(P.decode(e,e.uint32())):e.skipType(7&i)}return a},t}(c));I.__type_name__="CfgPropertyUnlock_ARRAY",o.CfgPropertyUnlock_ARRAY=I;var T;e({GameExcellData:T={CfgPropertyLv:d,CfgPropertyLv_ARRAY:f,CfgSkill:p,CfgSkill_ARRAY:v,CfgConstant:_,CfgConstant_ARRAY:m,CfgLabProperty:y,CfgLabProperty_ARRAY:k,CfgCard:g,CfgCard_ARRAY:b,CfgEnermy:C,CfgEnermy_ARRAY:A,CfgWorld:h,CfgWorld_ARRAY:R,CfgStage:S,CfgStage_ARRAY:E,CfgPropertyUnlock:P,CfgPropertyUnlock_ARRAY:I},default:T});i._RF.pop()}}}));

System.register("chunks:///_virtual/GameExcellDataExt.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0509dun3xNDaIpKIggmAmPB","GameExcellDataExt",void 0),t._RF.push({},"7ff63l56itLt4dfOwZkijYu","GameExcellDataExt",void 0),t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/GMBoxItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SelectBoxItemBase.ts"],(function(t){var e,r,i,n,o,a,c,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,c=t._decorator,s=t.Label},function(t){u=t.SelectBoxItemBase}],execute:function(){var l,p,f,h,x;a._RF.push({},"22e27ed75pN3IX6hLn4QTyQ","GMBoxItem",void 0);var m=c.ccclass,y=c.property;a._RF.push({},"22e27ed75pN3IX6hLn4QTyQ","GMBoxItem",void 0);t("GMBoxItem",(l=m("GMBoxItem"),p=y(s),l((x=e((h=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"textLab",x,n(e)),e}r(e,t);var a=e.prototype;return a.start=function(){},a.updateView=function(){this.textLab.string=this.itemData.text},o(e,[{key:"itemData",get:function(){return this._boxItemData}}]),e}(u)).prototype,"textLab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/GMLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./UIMng.ts","./UIGM.ts"],(function(t){var n,e,o,i,r,s,a,c,u,p,l,h,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Button,c=t.Node,u=t.v3,p=t.Component},function(t){l=t.default},function(t){h=t.UIMng},function(t){f=t.UIGM}],execute:function(){var g,y,M,d,v;r._RF.push({},"bcba5h1F7xLv4oS43FLLDsC","GMLayer",void 0);var B=s.ccclass,L=s.property;r._RF.push({},"0cd5ehVSixH3a/9ZBjjMgnt","GMLayer",void 0);t("GMLayer",(g=B("GMLayer"),y=L({type:a}),g((v=n((d=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,o(n,"gmBtn",v,i(n)),n}e(n,t);var r=n.prototype;return r.start=function(){l.onRegisterBtnEvent(this.gmBtn,this.onShowGM.bind(this),this),this.gmBtn.node.on(c.EventType.TOUCH_MOVE,this.onMoveBtn.bind(this),this),this.gmBtn.node.active=!1},r.onShowGM=function(){h.ins.openUI(f)},r.onMoveBtn=function(t){this.gmBtn.node.worldPosition=u(t.getUILocation().x,t.getUILocation().y,0)},n}(p)).prototype,"gmBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=d))||M));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/HomeTabBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameCtr.ts","./CfgMng.ts","./RedDot.ts","./Constant.ts"],(function(t){var e,i,n,r,o,a,c,s,l,p,u,b,m,f,y,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,c=t._decorator,s=t.Label,l=t.Sprite,p=t.SpriteFrame,u=t.Node,b=t.v3,m=t.Component},function(t){f=t.default},function(t){y=t.default},function(t){h=t.RedDot},function(t){d=t.ERedDotType}],execute:function(){var g,v,S,L,k,F,_,T,C,z,B,D,w,R,H;a._RF.push({},"7243cOpvmtB4ZJK1UmZTmW6","HomeTabBtn",void 0);var N=c.ccclass,Z=c.property;a._RF.push({},"7243cOpvmtB4ZJK1UmZTmW6","HomeTabBtn",void 0);var J=["工 厂","卡 牌","战 斗","实验室","商 店"];t("HomeTabBtn",(g=N("HomeTabBtn"),v=Z({type:s}),S=Z({type:l}),L=Z({type:[p]}),k=Z({type:l}),F=Z({type:[p]}),_=Z({type:u}),g((z=e((C=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"nameLab",z,r(e)),n(e,"icon",B,r(e)),n(e,"iconSpriteFrames",D,r(e)),n(e,"btnSprite",w,r(e)),n(e,"btnSpriteFrames",R,r(e)),n(e,"lockNode",H,r(e)),e._isLock=!1,e}i(e,t);var a=e.prototype;return a.start=function(){},a.init=function(t){var e=f.playData.passTotalStageNum,i=(y.globalConfig.unlockConfig||[])[t]||0;if(this._isLock=i>e,this.nameLab.node.active=!this._isLock,this.lockNode.active=this._isLock,!this._isLock){this.nameLab.string=J[t],this.icon.spriteFrame=this.iconSpriteFrames[t];var n=[d.Factory,d.Card,d.None,d.Lab,d.Shop];n[t]&&this.getComponent(h).redDotTypes.push(n[t])}},o(e,[{key:"isLock",get:function(){return this._isLock}},{key:"isSelect",set:function(t){this.btnSprite.spriteFrame=this.btnSpriteFrames[t?1:0],this.icon.node.scale=b(1,1,1).multiplyScalar(t?1.4:1)}}]),e}(m)).prototype,"nameLab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(C.prototype,"icon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"iconSpriteFrames",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=e(C.prototype,"btnSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(C.prototype,"btnSpriteFrames",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=e(C.prototype,"lockNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=C))||T));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/IdleResRewardCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./GameCtr.ts","./ComFun.ts","./TipsCtr.ts","./AdCtr.ts","./UIMng.ts","./UIIdleReward.ts","./CfgMng.ts"],(function(e){var t,r,n,a,i,s,l,o,u,c,d,p,f,h,R,m,b,g,y,I,w,v,C,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createClass,s=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,c=e.ProgressBar,d=e.Label,p=e.Button,f=e.Tween,h=e.tween,R=e.v3,m=e.Component},function(e){b=e.default},function(e){g=e.default},function(e){y=e.default},function(e){I=e.TipsCtr},function(e){w=e.AdCtr},function(e){v=e.UIMng},function(e){C=e.UIIdleReward},function(e){T=e.default}],execute:function(){var L,B,D,A,k,x,F,M,U,N,z;o._RF.push({},"b5a6dwyMDxOBo8WkeKLR9FY","IdleResRewardCtr",void 0);var _=u.ccclass,G=u.property;o._RF.push({},"beac7b+Z1hKhpmBDk9Vu/LV","IdleResRewardCtr",void 0);e("IdleResRewardCtr",(L=_("IdleResRewardCtr"),B=G({type:c}),D=G({type:d}),A=G({type:[d]}),k=G({type:p}),L((M=t((F=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(t,"progressBar",M,a(t)),n(t,"timeLab",U,a(t)),n(t,"resNumLabs",N,a(t)),n(t,"fastIdleAdBtn",z,a(t)),t}r(t,e);var o=t.prototype;return o.start=function(){b.onRegisterBtnEvent(this.node,this.onIdleResRewardClick.bind(this),this),b.onRegisterBtnEvent(this.fastIdleAdBtn,this.onFastIdleAdReward.bind(this),this),this.updateUI()},o.updateUI=function(){this.updateTime(),this.timeLab.unscheduleAllCallbacks(),this.nextIdleResTime>0&&this.timeLab.schedule(this.updateTime.bind(this),1)},o.updateResNum=function(){for(var e=[g.playData.curIdleResGold,g.playData.curIdleResDiamond,g.playData.curIdleResCrystal],t=0;t<this.resNumLabs.length;t++)this.resNumLabs[t].string=(e[t]||0).toLocaleString()},o.updateTime=function(){var e=3600*T.globalConfig.IdleResMaxTime,t=g.playData.idleTime;this.progressBar.progress=t/e;var r=Math.ceil(e-t);this.timeLab.string=r>0?"距离满仓还需"+y.changeTimeStr(r,4):"仓库已满",this.updateResNum(),f.stopAllByTarget(this.node),r<=0?(this.timeLab.unscheduleAllCallbacks(),h(this.node).repeatForever(h().to(.5,{scale:R(1,1,1).multiplyScalar(1.1)}).to(.5,{scale:R(1,1,1)})).start()):this.node.scale=R(1,1,1)},o.onIdleResRewardClick=function(){var e=s(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.playData.curIdleResGold>0?v.ins.openUI(C,null,(function(){t.updateUI()})):I.showTips("暂无收益!");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o.onFastIdleAdReward=function(){var e=s(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.ins.showVideo("2小时挂机");case 2:e.sent&&(t=g.playData.getIdleResRewardNumByTime(7200))&&g.playData.getRewards(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i(t,[{key:"nextIdleResTime",get:function(){var e=3600*T.globalConfig.IdleResMaxTime,t=g.playData.idleTime;return Math.ceil(e-t)}}]),t}(m)).prototype,"progressBar",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(F.prototype,"timeLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(F.prototype,"resNumLabs",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=t(F.prototype,"fastIdleAdBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=F))||x));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemRender.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Component}],execute:function(){var c;n._RF.push({},"59392hhmKZKMIyYTilDPJ+L","ItemRender",void 0);var u=o.ccclass;o.property;n._RF.push({},"bb7212vO0tA2IjL6eJaO76F","ItemRender",void 0);e("default",u(c=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onRender=function(e){},o.onSelect=function(e){},n}(r))||c);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/LabPage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PageBase.ts","./GameCtr.ts","./LabSlotCard.ts","./EventMng.ts","./Constant.ts","./LabPropertyCard.ts","./CfgMng.ts","./UIHelp.ts"],(function(t){var e,r,n,a,o,i,l,c,u,p,s,f,d,b,h,y,C,g,S,L,m,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){l=t.cclegacy,c=t._decorator,u=t.ScrollView,p=t.Prefab,s=t.instantiate,f=t.Label},function(t){d=t.PageBase},function(t){b=t.default},function(t){h=t.LabSlotCard},function(t){y=t.EventMng},function(t){C=t.EGameEvent,g=t.LabPropertyGroup,S=t.LabPropertyGroupName},function(t){L=t.LabPropertyCard},function(t){m=t.default},function(t){P=t.default}],execute:function(){var v,w,_,A,N,k,D,G,I,T,V,z,E;l._RF.push({},"901f0xSjBZCs4GaPgQaimXY","LabPage",void 0);var x=c.ccclass,B=c.property;l._RF.push({},"85ad97N1f9Hv5eIQWvy74CC","LabPage",void 0);t("LabPage",(v=x("LabPage"),w=B({type:u}),_=B({type:u}),A=B({type:p}),N=B({type:p}),k=B({type:p}),v((I=e((G=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,n(e,"slotScrollView",I,a(e)),n(e,"propertyCardScrollView",T,a(e)),n(e,"slotCardPrefab",V,a(e)),n(e,"propertyCardItemPrefab",z,a(e)),n(e,"propertyNamePrefab",E,a(e)),e}r(e,t);var l=e.prototype;return l.start=function(){y.on(C.LAB_ATT_SLOT_CHANGE,this.onLabAttSlotChange.bind(this),this),this.initUI()},l.onDestroy=function(){y.off(C.LAB_ATT_SLOT_CHANGE,this.onLabAttSlotChange.bind(this),this)},l.onShow=function(){t.prototype.onShow.call(this),b.playData.checkTrainLabAttResult()},l.initUI=function(){var t=this;this.initSlotList();for(var e=function(e){var r=g[e];t.scheduleOnce((function(){var n=s(t.propertyNamePrefab);t.propertyCardScrollView.content.addChild(n),n.getComponentInChildren(f).string=S[e],r.forEach((function(e,r){var n=s(t.propertyCardItemPrefab);t.propertyCardScrollView.content.addChild(n),n.getComponent(L).init(e)}))}),.1*e)},r=0;r<g.length;r++)e(r)},l.initSlotList=function(){var t=o(i().mark((function t(){var e,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=b.playData.labSlotNum,r=0;case 2:if(!(r<e)){t.next=9;break}return t.next=5,P.onDelayPromise(.1,this);case 5:this.addSlotCard(r,!0);case 6:r++,t.next=2;break;case 9:this.updateLockSlotCard();case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.updateLockSlotCard=function(){b.playData.labSlotNum>=m.globalConfig.LabUnlockSlotGemPrice.length||this.addSlotCard(b.playData.labSlotNum)},l.addSlotCard=function(t,e){void 0===e&&(e=!1);var r=s(this.slotCardPrefab);this.slotScrollView.content.addChild(r),r.getComponent(h).init(t,e)},l.onLabAttSlotChange=function(){this.updateLockSlotCard()},e}(d)).prototype,"slotScrollView",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(G.prototype,"propertyCardScrollView",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(G.prototype,"slotCardPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(G.prototype,"propertyCardItemPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(G.prototype,"propertyNamePrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=G))||D));l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/LabPropertyCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./UIHelp.ts","./GameCtr.ts","./ComFun.ts","./EventMng.ts","./CfgMng.ts"],(function(t){var e,n,i,r,a,o,u,l,s,c,b,p,L,d,f,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,u=t.Label,l=t.Button,s=t.Component},function(t){c=t.EGameEvent,b=t.EItemType},function(t){p=t.default},function(t){L=t.default},function(t){d=t.default},function(t){f=t.EventMng},function(t){m=t.default}],execute:function(){var y,h,g,N,v,_,P,T,C,I,B,z,A,E,S,D,k;a._RF.push({},"5bf46n910VA+p93Qvouspk9","LabPropertyCard",void 0);var w=o.ccclass,R=o.property;a._RF.push({},"96b46prWuFM9LpsM2on9O1e","LabPropertyCard",void 0);t("LabPropertyCard",(y=w("LabPropertyCard"),h=R({type:u}),g=R({type:u}),N=R({type:u}),v=R({type:u}),_=R({type:u}),P=R({type:u}),T=R({type:l}),y((B=e((I=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"nameLab",B,r(e)),i(e,"needNumLab",z,r(e)),i(e,"curNumLab",A,r(e)),i(e,"nextNumLab",E,r(e)),i(e,"timeLab",S,r(e)),i(e,"inTrainStateLab",D,r(e)),i(e,"clickBtn",k,r(e)),e._labPropertyId=null,e._needNum=0,e}n(e,t);var a=e.prototype;return a.start=function(){f.on(c.LAB_ATT_TRAIN_END,this.onTrainEnd.bind(this),this),p.onRegisterBtnEvent(this.clickBtn,this.onBtnClick.bind(this),this)},a.onDestroy=function(){f.off(c.LAB_ATT_TRAIN_END,this.onTrainEnd.bind(this),this)},a.init=function(t){this._labPropertyId=t;var e=m.CfgLabProperty.getItem(t);if(e){var n=L.playData.getLabAttLv(t);if(this.nameLab.string=e.name,this.curNumLab.string=m.getLabPropertyNum(t,n).toLocaleString(),this.clickBtn.node.active=!1,this._needNum=m.getLabPropertyNeedCrystal(t,n),this.needNumLab.string=this._needNum.toLocaleString(),this.nextNumLab.string="▶"+m.getLabPropertyNum(t,n+1).toLocaleString(),p.setNodePosY(this.curNumLab.node,42),p.setNodePosY(this.nextNumLab.node,18),this.curNumLab.fontSize=25,this.nextNumLab.fontSize=20,L.playData.isTrainLabAtt(t))this.timeLab.node.parent.active=!1,this.inTrainStateLab.node.active=!0;else{this.inTrainStateLab.node.active=!1,this.clickBtn.node.active=!0,this.timeLab.node.parent.active=!0;var i=m.getLabPropertyLvUpTime(t,n);this.timeLab.string=d.changeTimeStr(i)}}},a.onBtnClick=function(){L.playData.addResItemNum(b.Crystal,-this._needNum)&&(L.playData.startTrainLabAtt(this._labPropertyId),this.init(this._labPropertyId))},a.onTrainEnd=function(t){this._labPropertyId===t&&this.init(this._labPropertyId)},e}(s)).prototype,"nameLab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(I.prototype,"needNumLab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(I.prototype,"curNumLab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(I.prototype,"nextNumLab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(I.prototype,"timeLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(I.prototype,"inTrainStateLab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(I.prototype,"clickBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=I))||C));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/LabSlotCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./GameCtr.ts","./Constant.ts","./AdCtr.ts","./AudioMng.ts","./ComFun.ts","./EventMng.ts","./CfgMng.ts"],(function(t){var n,e,i,a,r,o,l,s,u,c,p,b,d,f,h,g,y,m,L,A,k,v,T,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass,o=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.Node,p=t.Label,b=t.Animation,d=t.ProgressBar,f=t.AudioClip,h=t.Component},function(t){g=t.default},function(t){y=t.default},function(t){m=t.EGameEvent,L=t.EItemType},function(t){A=t.AdCtr},function(t){k=t.AudioMng},function(t){v=t.default},function(t){T=t.EventMng},function(t){C=t.default}],execute:function(){var I,_,B,N,D,w,x,P,S,U,z,R,V,E,F,M,G,H,j,q,K,Y,J,O,Q,W,X,Z,$,tt,nt,et,it,at,rt;s._RF.push({},"36167qvj5BD+Kt0DvnmhD03","LabSlotCard",void 0);var ot=u.ccclass,lt=u.property;s._RF.push({},"36adalewKFNqrl/hHcs4AVS","LabSlotCard",void 0);t("LabSlotCard",(I=ot("LabSlotCard"),_=lt({type:c}),B=lt({type:c}),N=lt({type:p}),D=lt({type:p}),w=lt({type:c}),x=lt({type:c}),P=lt({type:b}),S=lt({type:p}),U=lt({type:c}),z=lt({type:d}),R=lt({type:c}),V=lt({type:p}),E=lt({type:p}),F=lt({type:p}),M=lt({type:p}),G=lt({type:[f]}),I((q=n((j=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,i(n,"slotLockNode",q,a(n)),i(n,"trainNode",K,a(n)),i(n,"slotIndexLab",Y,a(n)),i(n,"slotUnlockNeedNumLab",J,a(n)),i(n,"slotUnlockBtn",O,a(n)),i(n,"slotUnlockAdBtn",Q,a(n)),i(n,"gearAni",W,a(n)),i(n,"labIndexLab",X,a(n)),i(n,"trainInfoNode",Z,a(n)),i(n,"trainProgressBar",$,a(n)),i(n,"trainCutTimeAdBtn",tt,a(n)),i(n,"trainCutTimeLab",nt,a(n)),i(n,"trainPropertyNameLab",et,a(n)),i(n,"trainValueLab1",it,a(n)),i(n,"trainValueLab2",at,a(n)),i(n,"audioClips",rt,a(n)),n._labIndex=0,n._isUnlock=!1,n._trainData=null,n}e(n,t);var s=n.prototype;return s.start=function(){T.on(m.LAB_ATT_TRAIN_START,this.startTrain.bind(this),this),g.onRegisterBtnEvent(this.slotUnlockBtn,this.onClickSlotUnlockBtn.bind(this,!1),this),g.onRegisterBtnEvent(this.slotUnlockAdBtn,this.onClickSlotUnlockBtn.bind(this,!0),this),g.onRegisterBtnEvent(this.trainCutTimeAdBtn,this.onClickTrainCutTimeAdBtn.bind(this),this)},s.onDestroy=function(){T.off(m.LAB_ATT_TRAIN_START,this.startTrain.bind(this),this)},s.init=function(t,n){if(void 0===n&&(n=!1),this._labIndex=t,this._isUnlock=n,this.trainNode.active=n,this.slotLockNode.active=!n,n)this.labIndexLab.string="工作台"+(t+1),this.trainStateInit();else{this.slotIndexLab.string="工作台"+(t+1),this.slotUnlockNeedNumLab.string=this.unlockPrice.toLocaleString();var e=0===t;this.slotUnlockBtn.active=!e,this.slotUnlockAdBtn.active=e}},s.onClickSlotUnlockBtn=function(){var t=o(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=!1),!n){t.next=9;break}return t.next=4,A.ins.showVideo("解锁工作台");case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:t.next=11;break;case 9:if(y.playData.addResItemNum(L.Diamond,-this.unlockPrice)){t.next=11;break}return t.abrupt("return");case 11:k.playAudioClip(this.audioClips[0]),y.playData.labSlotNum++,this.init(this._labIndex,!0);case 14:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.onClickTrainCutTimeAdBtn=function(){var t=o(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A.ins.showVideo("实验室加速完成");case 2:t.sent&&(y.playData.finishTrainLabAtt(this._labIndex),this.trainStateInit());case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.startTrain=function(t){t===this._labIndex&&(k.playAudioClip(this.audioClips[1]),this.trainStateInit())},s.trainStateInit=function(){if(this._trainData=y.playData.getLabAttTrainData(this._labIndex),this.trainInfoNode.active=!!this._trainData,this._trainData){var t=C.CfgLabProperty.getItem(this._trainData.attId);if(!t)return;var n=y.playData.getLabAttLv(this._trainData.attId);this.trainPropertyNameLab.string=t.name.replace("\n","");var e=t.valueType?"%":"";this.trainValueLab1.string=""+C.getLabPropertyNum(this._trainData.attId,n)+e,this.trainValueLab2.string=""+C.getLabPropertyNum(this._trainData.attId,n+1)+e,this.gearAni.play(),g.setNodePosY(this.gearAni.node,75),this.updateTrainTime()}else this.gearAni.stop(),g.setNodePosY(this.gearAni.node,0)},s.updateTrainTime=function(){var t=this,n=this._trainData.attId,e=y.playData.getLabAttLv(n),i=C.getLabPropertyLvUpTime(n,e),a=this._trainData.startTime+i,r=function(){var n=a-v.getLocalTime();if(n<0)return t.trainProgressBar.unscheduleAllCallbacks(),y.playData.checkTrainLabAttResult(),void t.trainStateInit();t.trainCutTimeLab.string=v.changeTimeStr(n),t.trainProgressBar.progress=1-n/i};this.trainProgressBar.unscheduleAllCallbacks(),this.trainProgressBar.schedule(r,1),r()},r(n,[{key:"unlockPrice",get:function(){return C.globalConfig.LabUnlockSlotGemPrice[this._labIndex]||0}}]),n}(h)).prototype,"slotLockNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(j.prototype,"trainNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(j.prototype,"slotIndexLab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(j.prototype,"slotUnlockNeedNumLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(j.prototype,"slotUnlockBtn",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(j.prototype,"slotUnlockAdBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(j.prototype,"gearAni",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(j.prototype,"labIndexLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(j.prototype,"trainInfoNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(j.prototype,"trainProgressBar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=n(j.prototype,"trainCutTimeAdBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=n(j.prototype,"trainCutTimeLab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=n(j.prototype,"trainPropertyNameLab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=n(j.prototype,"trainValueLab1",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=n(j.prototype,"trainValueLab2",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=n(j.prototype,"audioClips",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=j))||H));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/LabTrainEndNotif.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameCtr.ts","./AudioMng.ts","./UIHelp.ts","./CfgMng.ts"],(function(t){var e,i,n,r,o,a,u,s,c,l,p,h,d,f,b,g,w,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){u=t.cclegacy,s=t._decorator,c=t.Node,l=t.Label,p=t.AudioClip,h=t.Component,d=t.v3,f=t.tween},function(t){b=t.default},function(t){g=t.AudioMng},function(t){w=t.default},function(t){L=t.default}],execute:function(){var y,A,_,m,I,v,N,S,C,P,T;u._RF.push({},"ee385wP+PZPFLuRgJgXSMtZ","LabTrainEndNotif",void 0);var x=s.ccclass,z=s.property;u._RF.push({},"a78c26WxpNIDIgXCBY/s9il","LabTrainEndNotif",void 0);t("LabTrainEndNotif",(y=x("LabTrainEndNotif"),A=z({type:c}),_=z({type:l}),m=z({type:l}),I=z({type:p}),y((S=e((N=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"uiNode",S,r(e)),n(e,"nameLab",C,r(e)),n(e,"desLab",P,r(e)),n(e,"audioClip",T,r(e)),e._showLabAttIds=[],e._curShowAttId="",e}i(e,t);var u=e.prototype;return u.start=function(){},u.show=function(t){this._showLabAttIds.push(t),this._curShowAttId&&""!==this._curShowAttId||this.showAct()},u.showAct=function(){var t=o(a().mark((function t(){var e,i,n,r,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this._showLabAttIds.length){t.next=2;break}return t.abrupt("return");case 2:if(e=this._showLabAttIds.shift(),i=L.CfgLabProperty.getItem(e)){t.next=6;break}return t.abrupt("return");case 6:return g.playAudioClip(this.audioClip),this._curShowAttId=e.toString(),this.uiNode.active=!0,this.nameLab.string=i.name,n=b.playData.getLabAttLv(this._curShowAttId),r=L.getLabPropertyNum(this._curShowAttId,n-1).toLocaleString(),o=L.getLabPropertyNum(this._curShowAttId,n).toLocaleString(),this.desLab.string="升级成功！"+r+"▶"+o,this.uiNode.position=d(0,120,0),t.next=17,w.onTweenPromise(f(this.uiNode).to(.5,{position:d(0,-120,0)}).delay(2).to(.5,{position:d(0,120,0)}));case 17:this.uiNode.active=!1,this._curShowAttId="",this.showAct();case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(h)).prototype,"uiNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(N.prototype,"nameLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(N.prototype,"desLab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(N.prototype,"audioClip",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=N))||v));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/Laser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DmgColliderBase.ts","./UIHelp.ts","./FightNode.ts"],(function(e){var t,r,n,o,s,i,c,a;return{setters:[function(e){t=e.inheritsLoose,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator},function(e){i=e.DmgColliderBase},function(e){c=e.default},function(e){a=e.FightNode}],execute:function(){var u;o._RF.push({},"6c53fL7lLVLKJhXX7cmSU/b","Laser",void 0);var p=s.ccclass;s.property;o._RF.push({},"ce810JhMPFNq6Xl/71bUFkV","Laser",void 0);e("Laser",p("Laser")(u=function(e){function o(){return e.apply(this,arguments)||this}return t(o,e),o.prototype.onShow=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.prototype.onShow.call(this),t.next=3,c.onDelayPromise(1/(a.ins.curPlaySpeed||1),this);case 3:this.onHide();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o}(i))||u);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/List.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemRender.ts"],(function(t){var e,i,n,r,o,a,s,h,c,l,u,p,f,d,m,_,v,g,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,s=t._decorator,h=t.CCFloat,c=t.Node,l=t.Prefab,u=t.CCInteger,p=t.EventHandler,f=t.Vec3,d=t.Rect,m=t.UITransform,_=t.instantiate,v=t.isValid,g=t.ScrollView},function(t){I=t.default}],execute:function(){var y,b,C,w,T,x,R,A,E,z,O,S,k,D,L,H,M,F,N,P,Y;a._RF.push({},"10b90F7wWxE+IY4kBROiPK5","List",void 0);var $=s.ccclass,U=s.property;a._RF.push({},"10b90F7wWxE+IY4kBROiPK5","List",void 0);t("default",(y=$("List"),b=U({override:!0}),C=U({type:h,override:!0}),w=U({type:h,override:!0}),T=U({type:c,tooltip:"渲染子项节点（优先使用）",group:{name:"List",displayOrder:0}}),x=U({type:l,tooltip:"渲染子项预制体（不传节点时有效）",group:{name:"List",displayOrder:1}}),R=U({type:u,tooltip:"水平间隔",group:{name:"List",displayOrder:2}}),A=U({type:u,tooltip:"垂直间隔",group:{name:"List",displayOrder:3}}),E=U({tooltip:"子项是否动态调整尺寸（开启时会有大量计算）",group:{name:"List",displayOrder:4}}),z=U({type:p,tooltip:"选中事件监听",group:{name:"List",displayOrder:5}}),y((k=e((S=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"horizontal",k,r(e)),n(e,"brake",D,r(e)),n(e,"bounceDuration",L,r(e)),n(e,"item",H,r(e)),n(e,"itemPrefab",M,r(e)),n(e,"spaceX",F,r(e)),n(e,"spaceY",N,r(e)),n(e,"dynamic",P,r(e)),n(e,"selectEvents",Y,r(e)),e._datas=void 0,e._itemAnchor=void 0,e._itemInfo=void 0,e._clickIdx=void 0,e._selectedIndex=-1,e._showMap=void 0,e._cache=[],e._tmpVec=new f,e._tmpRt=new d,e}i(e,t);var a=e.prototype;return a.onDestroy=function(){this.clear(),this._tmpVec=this._tmpRt=null},a.initContent=function(){var t=this._content;if(this._showMap={},this._itemAnchor){for(var e=t.children,i=e.length;i--;)this.hideItem(e[i]);this.selectedIndex=-1}else{var n=this.createItem(),r=n.getComponent(m),o=c.EventType;this._itemAnchor=[r.anchorX,r.anchorY,r.width,r.height],this._cache.push(n),t.on(o.TRANSFORM_CHANGED,this.onTransform,this),t.on(o.TOUCH_START,this.onTouchItem,this),t.on(o.TOUCH_END,this.onTouchItem,this),t.parent.on(o.SIZE_CHANGED,this.onChanged,this)}return t},a.onTransform=function(t){1===t&&this.onChanged()},a.onChanged=function(){var t=this._content,e=this._itemAnchor,i=e[0],n=e[1],r=this._showMap,o=t.parent,a=this._itemInfo,s=a.length,h=o.getComponent(m),c=-1,l=0;if(this.horizontal)for(var u=-h.anchorX*h.width-t.position.x,p=u+h.width,f=0;f<s;f++){var d=a[f],_=d[0]-i*d[2],v=_+d[2];if(_>p)break;_<=p&&v>=u&&(-1===c&&(c=f),l=f)}else for(var g=(1-h.anchorY)*h.height-t.position.y,I=g-h.height,y=0;y<s;y++){var b=a[y],C=b[1]-n*b[3],w=C+b[3];if(w<I)break;C<=g&&w>=I&&(-1===c&&(c=y),l=y)}for(var T in c=Math.max(c,0),l=Math.min(l,s-1),r){var x=+T;(x<c||x>l)&&this.hideItem(r[x])}r={};for(var R=c;R<=l;R++)r[R]=this.showItem(R);this._showMap=r},a.onTouchItem=function(t){var e=this._content,i=t.getUILocation(this._tmpVec),n=this._tmpRt,r=this._itemAnchor,o=r[0],a=r[1],s=e.children,h=s.length;for(e.getComponent(m).convertToNodeSpaceAR(i,i);h--;){var l=this._itemInfo[h],u=l[2],p=l[3];if(n.set(l[0]-o*u,l[1]-a*p,u,p),n.contains(i)){var f=s[h].$$itemIdx;t.type===c.EventType.TOUCH_START?this._clickIdx=f:this._clickIdx===f&&(this.selectedIndex=f);break}}},a.showItem=function(t){var e=this._content,i=e.children.find((function(e){return e.$$itemIdx===t}));if(!i){var n=this._itemInfo[t];(i=this.createItem()).parent=e,i.$$itemIdx=t,i.setPosition(n[0],n[1]);var r=i.getComponent(I);r&&(r.onRender(this._datas[t]),t===this._selectedIndex&&r.onSelect(!0))}return i},a.hideItem=function(t){if(t){var e;if(t.$$itemIdx===this._selectedIndex)null==(e=t.getComponent(I))||e.onSelect(!1);t.removeFromParent(),this._cache.push(t)}},a.createItem=function(){return this._cache.shift()||_(this.item||this.itemPrefab)},a.clear=function(){var t=this._content;if(t){if(v(t)){var e=t.parent,i=c.EventType;t.off(i.TRANSFORM_CHANGED,this.onTransform,this),t.off(i.TOUCH_START,this.onTouchItem,this),t.off(i.TOUCH_END,this.onTouchItem,this),v(e)&&e.off(i.SIZE_CHANGED,this.onChanged,this)}this._content=null}this._datas=this._itemInfo=this._cache=this._itemAnchor=this._showMap=void 0},o(e,[{key:"datas",get:function(){return this._datas},set:function(t){var e,i,n=null==t?void 0:t.length,r=this.initContent().getComponent(m);if(this._datas=t||[],this.initContent(),n){var o,a,s=this._itemInfo=[],h=this._itemAnchor,c=h[0],l=h[1],u=r.anchorX,p=r.anchorY,f=this.createItem(),d=f.getComponent(m);if(this.dynamic){var _=f.getComponent(I);if(_){o=[],a=[];for(var v=0;v<n;v++)_.onRender(t[v]),o[v]=d.width,a[v]=d.height}}o||(o=Array(n).fill(d.width),a=Array(n).fill(d.height)),this._cache.push(f);var g=n;if(this.horizontal){var y=this.spaceX,b=o.reduce((function(t,e){return t+e}))+y*(n-1),C=b*(1-u)-o[n-1]*(1-c),w=a[0],T=w*(1-p)-w*(1-l);for(i=w;g--;)s[g]=[C,T,o[g],a[g]],C-=o[g]/2+o[g-1]/2+y;e=b}else{var x=this.spaceY,R=a.reduce((function(t,e){return t+e}))+x*(n-1),A=-R*p+a[n-1]*l,E=o[0],z=E*(1-u)-E*(1-c);for(e=E;g--;)s[g]=[z,A,o[g],a[g]],A+=a[g]/2+a[g-1]/2+x;i=R}}else e=i=0,this._itemInfo=[];r.setContentSize(e,i),this.onChanged()}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){var e=this._datas;if(e){var i=this._selectedIndex;if((t=0|+t)in e||(t=-1),t!==i){var n,r,o,a,s=this._showMap;this._selectedIndex=t,null==(n=s[i])||null==(r=n.getComponent(I))||r.onSelect(!1),null==(o=s[t])||null==(a=o.getComponent(I))||a.onSelect(!0),-1!==t&&this.selectEvents.forEach((function(e){return e.emit([t])}))}}}},{key:"selectedData",get:function(){var t;return null==(t=this._datas)?void 0:t[this._selectedIndex]}}]),e}(g)).prototype,"horizontal",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=e(S.prototype,"brake",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.75}}),L=e(S.prototype,"bounceDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.23}}),H=e(S.prototype,"item",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(S.prototype,"itemPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(S.prototype,"spaceX",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=e(S.prototype,"spaceY",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=e(S.prototype,"dynamic",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=e(S.prototype,"selectEvents",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=S))||O));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/LoadHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComFun.ts"],(function(e){var n,t,r,a,s,u,o,i,c,f,l;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e.assetManager,s=e.Prefab,u=e.SpriteFrame,o=e.Texture2D,i=e.instantiate,c=e.JsonAsset,f=e.resources},function(e){l=e.default}],execute:function(){r._RF.push({},"c1f19PYTuFO2pl4sECRPK8F","LoadHelper",void 0),r._RF.push({},"340b32S4EhHfYFGbvWsOwjg","LoadHelper",void 0);e("default",new(function(){function e(){this._resMap=new Map,this._timeConsoleMap=new Map}var r=e.prototype;return r.putResMap=function(e,n,t){if(n&&n.isValid){var r=this.getResKey(e,t),a=this._resMap.get(n.name);a||(a=new Map,this._resMap.set(n.name,a)),a.set(r,n)}},r.getResMapRes=function(e,n,t){var r=this.getResKey(n,t),a=this._resMap.get(e.name);return null==a?void 0:a.get(r)},r.hasResMapRes=function(e,n,t){var r=this.getResKey(n,t),a=this._resMap.get(e.name);return!(!a||!a.get(r))},r.releaseMapRes=function(e,n,t){var r=this.getResKey(n,t),s=this._resMap.get(e.name);return!(!s||!s.has(r))&&(a.releaseAsset(s.get(r)),s.delete(r),!0)},r.getResKey=function(e,n){return(n||"")+"-"+e},r.timeStart=function(e){},r.timeEnd=function(e){},r.loadBund=function(e){var n=this;return new Promise((function(t,r){var s=n.getBundle(e);if(s)t(s);else{var u={};if(e.indexOf("?")>-1){var o=l.getUrlParmas(e);e=o[0];var i=o[1];i.version&&(u.version=i.version)}console.log(e),n.timeStart("Bundle-"+e),a.loadBundle(e,u,(function(a,s){if(s)return n.timeEnd("Bundle-"+e),void t(s);r(a)}))}}))},r.getBundle=function(e){return a.getBundle(e)},r.removeBundle=function(e){var n="string"==typeof e?this.getBundle(e):e;n&&a.removeBundle(n)},r.loadRes=function(){var e=n(t().mark((function e(r,a,s){var u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=this,e.abrupt("return",new Promise(n(t().mark((function e(n,o){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.hasResMapRes(a,r,s)){e.next=2;break}return e.abrupt("return",n(u.getResMapRes(a,r,s)));case 2:if(!(s&&s.length>0)){e.next=8;break}return e.next=5,u.loadBund(s);case 5:i=e.sent,e.next=9;break;case 8:i=f;case 9:u.timeStart(r),i.load(r,a,(function(e,t){if(e)return console.warn("加载res11:",r,e),void n(null);u.timeEnd(r),u.putResMap(r,t,s),n(t)}));case 11:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),r.releaseRes=function(e,n,t){return this.releaseMapRes(n,e,t)},r.loadResArray=function(){var e=n(t().mark((function e(n,r,a){var s,u,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this,u=function(e){return new Promise((function(t,u){e.load(n,r,(function(e,r){e&&console.error("加载res11:",n,e),r?(r.forEach((function(e,t){s.putResMap(n[t],e,a)})),t(r)):t([])}))}))},!(a&&a.length>0)){e.next=11;break}return e.next=5,this.loadBund(a);case 5:return o=e.sent,e.next=8,u(o);case 8:return e.abrupt("return",e.sent);case 11:return e.next=13,u(f);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),r.loadRemote=function(e,n){var t=this;return void 0===n&&(n={}),new Promise((function(r,s){t.timeStart(e),a.loadRemote(e,n,(function(n,a){if(n)return console.error("加载远程res:",n),void s("加载远程res失败！path:"+e);t.timeEnd(e),r(a)}))}))},r.loadResDir=function(){var e=n(t().mark((function e(n,r,a){var s,u,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=this,u=function(e){return new Promise((function(t,a){s.timeStart("目录-"+n),e.loadDir(n,r,(function(e,r){if(e)return console.error("加载res11:",n,e),void a("加载res失败！path:"+n);s.timeEnd("目录-"+n),t(r)}))}))},!(a&&a.length>0)){e.next=11;break}return e.next=5,this.loadBund(a);case 5:return o=e.sent,e.next=8,u(o);case 8:return e.abrupt("return",e.sent);case 11:return e.next=13,u(f);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));return function(n,t,r){return e.apply(this,arguments)}}(),r.loadPrefab=function(e,n){return e instanceof Array?this.loadResArray(e,s,n):this.loadRes(e,s,n)},r.loadSpriteFrame=function(e,n){return this.loadRes(e+"/spriteFrame",u,n)},r.loadTexture=function(e,n){return this.loadRes(e+"/texture",o,n)},r.createPrefab=function(e,n,t){var r=i(e);return null==n||n.addChild(r),t?r.getComponent(t):r},r.loadScene=function(){var e=n(t().mark((function e(n,r){var a,s,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this,s=function(e){return new Promise((function(t,r){a.timeStart("场景-"+n),e.loadScene(n,(function(e,s){if(e)return console.error("加载场景失败:",n,e),void r("加载场景失败:"+n);a.timeEnd("场景-"+n),t(s)}))}))},!(r&&r.length>0)){e.next=11;break}return e.next=5,this.loadBund(r);case 5:return u=e.sent,e.next=8,s(u);case 8:return e.abrupt("return",e.sent);case 11:return e.next=13,s(f);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),r.loadJson=function(e,n){var t=this;return new Promise((function(r,a){t.loadRes(e,c,n).then((function(e){var n;e instanceof c?n=e.json:null!=e&&""!==e&&(n=JSON.parse(e)),r(n)})).catch((function(e){a(e)}))}))},r.loadRemoteJson=function(e,n){var t=this;return void 0===n&&(n=!1),new Promise((function(r,a){t.loadRemote(e+".json",{cacheEnabled:n}).then((function(e){var n;e instanceof c?n=e.json:null!=e&&""!==e&&(n=JSON.parse(e)),r(n)})).catch((function(e){a(e)}))}))},e}()));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var i,o,e,t,r,a,c,l;return{setters:[function(n){i=n.applyDecoratedDescriptor,o=n.inheritsLoose,e=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,c=n.Node,l=n.Component}],execute:function(){var s,u,p,d,g,f;r._RF.push({},"0830c9IFSNMUquEDVSyGJMT","LoadingUI",void 0);var y=a.ccclass,h=a.property;r._RF.push({},"1b9aavlEgZN+qqbPoFVEgyq","LoadingUI",void 0);n("LoadingUI",(s=y("LoadingUI"),u=h({type:c}),s(((f=function(n){function i(){for(var i,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return i=n.call.apply(n,[this].concat(r))||this,e(i,"loadingUI",g,t(i)),i}return o(i,n),i.showLoading=function(){i.ins&&(i.ins.loadingUI.active=!0)},i.hideLoading=function(){i.ins&&(i.ins.loadingUI.active=!1)},i.prototype.onLoad=function(){i.ins=this},i}(l)).ins=null,g=i((d=f).prototype,"loadingUI",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/Log.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"cb999kSgWlHSpzK+X2iqNgF","Log",void 0),r._RF.push({},"592220to6JCL6lfKDi/tIM1","Log",void 0);t("LOG_TAG",{SOCKET:{desc:"LOG_SOCKET",isOpen:!0},TEST:{desc:"LOG_TEST",isOpen:!1}});t("Log",function(){function t(){}return t.log=function(){for(var r=arguments.length,n=new Array(r),e=0;e<r;e++)n[e]=arguments[e];if(this.isShowLog){var o=console.log,i=Array.prototype.slice.call(arguments),s=t.stack(2)+" ";i.splice(0,0,s),o.apply(o,i)}},t.warn=function(){for(var r=arguments.length,n=new Array(r),e=0;e<r;e++)n[e]=arguments[e];if(this.isShowLog){var o=console.warn,i=Array.prototype.slice.call(arguments),s=t.stack(2)+t.getDateString()+" ";i.splice(0,0,s),o.apply(o,i)}},t.error=function(){for(var r=arguments.length,n=new Array(r),e=0;e<r;e++)n[e]=arguments[e];if(this.isShowLog){var o=console.error,i=Array.prototype.slice.call(arguments),s=t.stack(2)+t.getDateString()+" ";i.splice(0,0,s),o.apply(o,i)}},t.getDateString=function(){var t=new Date,r=t.getHours().toString(),n="";return n+=(1==r.length?"0"+r:r)+":",n+=(1==(r=t.getMinutes().toString()).length?"0"+r:r)+":",n+=(1==(r=t.getSeconds().toString()).length?"0"+r:r)+":",1==(r=t.getMilliseconds().toString()).length&&(r="00"+r),2==r.length&&(r="0"+r),"["+(n+=r)+"]"},t.stack=function(t){var r;void 0===t&&(t=2);var n=null==(r=(new Error).stack)?void 0:r.split("\n");n.shift();var e=[];n.forEach((function(t){var r,n=(t=t.substring(7)).split(" ");n.length<2?e.push(n[0]):e.push(((r={})[n[0]]=n[1],r))}));var o=[];if(t<e.length-1)for(var i in e[t])o.push(i+"");var s=o[0]?o[0].split("."):[];return s[0]+".js->"+s[1]+":"},t}()).isShowLog=!0,r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AdBtnState.ts","./AdCtr.ts","./AddPrefabNode.ts","./AlignCameraToCanvas.ts","./AniShowEffect.ts","./AnimationEnable.ts","./AsyncCall.ts","./AudioActive.ts","./AudioMng.ts","./BattlePage.ts","./Bullet.ts","./CardItem.ts","./CardPage.ts","./CfgMng.ts","./CircleGraphics.ts","./CollectItem.ts","./CollectWorkCtr.ts","./CollectWorker.ts","./ComFun.ts","./CommonItem.ts","./Constant.ts","./CustomAd.ts","./DataAccess.ts","./DelayPlayAni.ts","./DmgColliderBase.ts","./EffectBase.ts","./EnermyBase.ts","./EnermyDeadEffect.ts","./EnermyShoter.ts","./EventMng.ts","./FactoryPage.ts","./FightEffectCtr.ts","./FightMsgInfo.ts","./FightNode.ts","./FightPropertyList.ts","./FightSkillCtr.ts","./FixPhone.ts","./FortreeRole.ts","./FullSceneTouchEffect.ts","./GMBoxItem.ts","./GMLayer.ts","./GameCtr.ts","./GameExcellData.ts","./GameExcellDataExt.ts","./HomeTabBtn.ts","./IdleResRewardCtr.ts","./ItemRender.ts","./LabPage.ts","./LabPropertyCard.ts","./LabSlotCard.ts","./LabTrainEndNotif.ts","./Laser.ts","./List.ts","./LoadHelper.ts","./LoadingUI.ts","./Log.ts","./Mine.ts","./MoveNode.ts","./MultiEffectShow.ts","./NativeAd.ts","./NativeBannerAd.ts","./NodePoolHelper.ts","./NumUpdateNode.ts","./OnlineRewardCard.ts","./PageBase.ts","./ParticeMgr.ts","./ParticleShowEffect.ts","./PlayData.ts","./PlayEffectCtr.ts","./PlayScene.ts","./PowerNumNode.ts","./RedDot.ts","./RenderTextureSprite.ts","./ResConfig.ts","./ResLoadHelper.ts","./ResNumLayer.ts","./ResultItem.ts","./RotateToggle.ts","./Satellite.ts","./ScaleFullBg.ts","./SdkManager.ts","./SelectBox.ts","./SelectBoxItemBase.ts","./SkillBase.ts","./SkillCard.ts","./SkillCoinGift.ts","./SkillCoinTimeAdd.ts","./SkillCoolTimeCard.ts","./SkillFireBoom.ts","./SkillLaser.ts","./SkillMine.ts","./SkillReviveWing.ts","./SkillRichAddProperty.ts","./SkillSatellite.ts","./SkillShiled.ts","./SkillThunder.ts","./SkillTimeBase.ts","./SkillYinYang.ts","./SlotLock.ts","./SpineAni.ts","./StagePoint.ts","./StageRewardItem.ts","./StageWavePoint.ts","./StageWaveUI.ts","./StorePage.ts","./TTSiderbarBtn.ts","./TextureUtils.ts","./TimeUtil.ts","./TipsCtr.ts","./Turntable.ts","./TurrentPropertyCard.ts","./TurrentPropertyCtr.ts","./UIActAni.ts","./UIActBase.ts","./UIActDown.ts","./UIActOpacity.ts","./UIActScale.ts","./UIActUp.ts","./UIAdBuff.ts","./UIAdSkill.ts","./UIAddRes.ts","./UIAgree.ts","./UIBase.ts","./UICardCollect.ts","./UICardInfo.ts","./UICardMachine.ts","./UICloudLoading.ts","./UIExchangeCode.ts","./UIGM.ts","./UIGuide.ts","./UIHelp.ts","./UIHelpInfo.ts","./UIHome.ts","./UIIdleReward.ts","./UILoginGift.ts","./UIMng.ts","./UIPlay.ts","./UIPrivacy.ts","./UIRateApp.ts","./UIRecommendGame.ts","./UIResult.ts","./UIRevive.ts","./UIRewardGet.ts","./UISelectSkill.ts","./UISet.ts","./UIStageGift.ts","./UIStart.ts","./UITTSidebar.ts","./UITurntable.ts","./UIYesNo.ts","./UnlockCard.ts","./UploadFile.ts","./UploadImage.ts","./UserHead.ts","./WaitUI.ts","./WorldPageItem.ts","./XmlHttp.ts","./protobuf-wrapper.ts","./protobuf.min.mjs_cjs=&original=.js"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Mine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TurrentPropertyCtr.ts","./Constant.ts","./FightNode.ts","./EffectBase.ts","./ComFun.ts","./UIHelp.ts","./CfgMng.ts"],(function(t){var e,n,i,r,o,a,s,c,u,f,l,h,b,d,m,p,g,y,E,C,_,v,P,R,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){c=t.cclegacy,u=t._decorator,f=t.Vec2,l=t.Animation,h=t.Prefab,b=t.Contact2DType,d=t.Vec3,m=t.CircleCollider2D,p=t.Component,g=t.isValid,y=t.instantiate},function(t){E=t.default},function(t){C=t.ETurretPropertyId},function(t){_=t.FightNode},function(t){v=t.EffectBase},function(t){P=t.default},function(t){R=t.default},function(t){A=t.default}],execute:function(){var w,k,B,x,T,M,N;c._RF.push({},"b7c2714CXtCwrHT1LauREhS","Mine",void 0);var D=u.ccclass,F=u.property;c._RF.push({},"b45b4P9vABDnYdjGG3UddaZ","Mine",void 0);var S=new f;t("Mine",(w=D("Mine"),k=F({type:l}),B=F({type:h}),w((M=e((T=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"bombAni",M,r(e)),i(e,"bombEffectPrefab",N,r(e)),e._bombEffect=null,e._dmgPer=0,e._dmgRange=0,e}n(e,t);var c=e.prototype;return c.start=function(){this.collider&&this.collider.on(b.BEGIN_CONTACT,this.onBeginContact,this),this.init()},c.onBeginContact=function(t,e){console.log("碰撞Bomb",e.group),this.onCollision()},c.onCollision=function(){var t=a(s().mark((function t(){var e,n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return R.playAni(this.bombAni,1),t.next=3,R.onDelayPromise(1/Math.max(1,_.ins.curPlaySpeed),this);case 3:if(g(this)){t.next=5;break}return t.abrupt("return");case 5:return(e=_.ins.getEnermyInRadius(this.node.position,this.areaRadius+10)).length>0&&e.forEach((function(t){t.onBeHit(n.damage)})),R.playAni(this.bombAni,0),this.bombAni.node.active=!1,t.next=11,this.showBombEffect();case 11:this.scheduleOnce((function(){n.init()}),this.rebirthTime/Math.max(1,_.ins.curPlaySpeed));case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.init=function(){this.bombAni.node.active=!0;var t=_.ins.fortreeRole.attackRange*P.randomNum(50,90)*.01;S.set(t,0).rotate(.01*P.randomNum(0,600)),this.node.position=new d(S.x,S.y,0),this.collider&&(this.collider.radius=this.areaRadius)},c.showBombEffect=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._bombEffect||(this._bombEffect=y(this.bombEffectPrefab).getComponent(v),this._bombEffect.node.parent=this.node),this._bombEffect.node.active=!0,t.next=4,this._bombEffect.onShow();case 4:this._bombEffect.node.active=!1;case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o(e,[{key:"dmgPer",set:function(t){this._dmgPer=t}},{key:"dmgRange",set:function(t){this._dmgRange=t}},{key:"rebirthTime",get:function(){return 3}},{key:"damage",get:function(){return E.getPropertyValue(C.Atk)*this._dmgPer}},{key:"areaRadius",get:function(){return this._dmgRange*A.globalConfig.RANGE_SCENE_SCALE}},{key:"collider",get:function(){return this.bombAni.getComponent(m)}}]),e}(p)).prototype,"bombAni",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(T.prototype,"bombEffectPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=T))||x));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/MoveNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts"],(function(e){var t,n,r,o,i,s,a,u,c,p,l,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,u=e._decorator,c=e.Vec3,p=e.Component,l=e.tween},function(e){f=e.default}],execute:function(){var h,v,d,y,b,m,g,w;a._RF.push({},"7307cqMqthM7JMZd98zwAa0","MoveNode",void 0);var M=u.ccclass,P=u.property;a._RF.push({},"e2221j4gq9PSbq7VvXLXyGX","MoveNode",void 0);e("MoveNode",(h=M("MoveNode"),v=P({type:[c]}),h((b=t((y=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(t,"movePoints",b,o(t)),r(t,"speed",m,o(t)),r(t,"delay",g,o(t)),r(t,"isLoop",w,o(t)),t}n(t,e);var a=t.prototype;return a.start=function(){var e=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.delay){e.next=3;break}return e.next=3,f.onDelayPromise(this.delay,this);case 3:this.onMove();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onMove=function(){var e=i(s().mark((function e(){var t,n,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.movePoints&&!(this.movePoints.length<=1)){e.next=2;break}return e.abrupt("return");case 2:for(t=l(this.node),n=0;n<this.movePoints.length;n++)r=this.movePoints[n],o=this.speed?.01*r.length()/this.speed:0,t.by(o,{position:r});return e.next=6,f.onTweenPromise(t);case 6:this.isLoop&&this.onMove();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(p)).prototype,"movePoints",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(y.prototype,"speed",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),g=t(y.prototype,"delay",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=t(y.prototype,"isLoop",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=y))||d));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/MultiEffectShow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectBase.ts"],(function(t){var i,e,o,r,n,a,s,c,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.ParticleSystem2D,c=t.Animation},function(t){l=t.EffectBase}],execute:function(){var u,f,p,h,S,y,w,d,v,b;n._RF.push({},"5afa1IYOMhFir+cAWkW5jrC","MultiEffectShow",void 0);var g=a.ccclass,m=a.property,E=a.menu;n._RF.push({},"b086dYP81NFqIbX0S3IGUwD","MultiEffectShow",void 0);t("MultiEffectShow",(u=g("MultiEffectShow"),f=E("Effect/MultiEffectShow"),p=m({type:[s]}),h=m({type:[c]}),S=m({tooltip:"是否自动显示隐藏,节点active"}),u(y=f((d=i((w=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return i=t.call.apply(t,[this].concat(n))||this,o(i,"particle2ds",d,r(i)),o(i,"anis",v,r(i)),o(i,"isAutoShowHide",b,r(i)),i}e(i,t);var n=i.prototype;return n.start=function(){},n.onDisable=function(){this.isAutoShowHide&&this.onStop()},n.onEnable=function(){this.isAutoShowHide&&this.onShow()},n.onShow=function(){for(var i=0;i<this.particle2ds.length;i++){var e=this.particle2ds[i];e._simulator&&e.resetSystem()}for(var o=0;o<this.anis.length;o++)this.anis[o].play();return t.prototype.onShow.call(this)},n.onStop=function(){for(var i=0;i<this.particle2ds.length;i++){var e=this.particle2ds[i];e._simulator&&e.stopSystem()}for(var o=0;o<this.anis.length;o++)this.anis[o].stop();return t.prototype.onStop.call(this)},i}(l)).prototype,"particle2ds",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=i(w.prototype,"anis",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=i(w.prototype,"isAutoShowHide",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=w))||y)||y));n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/NativeAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./ComFun.ts","./AdCtr.ts"],(function(t){var n,i,e,o,r,l,s,a,u,c,d,h,p,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,l=t._decorator,s=t.Sprite,a=t.Button,u=t.Label,c=t.Node,d=t.Component},function(t){h=t.default},function(t){p=t.default},function(t){v=t.AdCtr}],execute:function(){var f,A,g,C,_,b,m,y,k,w,I;r._RF.push({},"354c65BYxREorKRRUfdtJZH","NativeAd",void 0);var B=l.ccclass,R=l.property;r._RF.push({},"55cbdU+CKVGRZYn+YPhIi62","NativeAd",void 0);t("NativeAd",(f=B("NativeAd"),A=R(s),g=R(a),C=R(a),_=R(u),f((y=n((m=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return n=t.call.apply(t,[this].concat(r))||this,e(n,"imgSprite",y,o(n)),e(n,"closeBtn",k,o(n)),e(n,"goBtn",w,o(n)),e(n,"titleLab",I,o(n)),n._isInShow=!1,n._isClickOk=!1,n._nativeAd=null,n._nativeCurrentAd=null,n}i(n,t);var r=n.prototype;return r.start=function(){this.closeBtn.node.on("click",this.onClose,this),this.goBtn.node.on("click",this.onClickAd,this),this.node.on(c.EventType.TOUCH_END,this.onClickAd,this)},r.onDisable=function(){},r.show=function(t,n){void 0===n&&(n=!1),this._isInShow=!0,this._nativeAd=t.nativeAd,this._nativeCurrentAd=t.nativeCurrentAd,this._isInShow?this._nativeCurrentAd&&(this.node.active=!0,h.setNodePosY(this.goBtn.node,n?-260:260),this.titleLab.string=this._nativeCurrentAd.desc||"",this.onLoadHttpImage(this.imgSprite,this._nativeCurrentAd.imgUrlList[0]||this._nativeCurrentAd.icon)):console.log("原生广告展示失败：当前时机不对！")},r.onClose=function(){var t;this._isInShow=!1,this.node.parent.active=!1,null==(t=v.ins)||t.showBanner()},r.onClickAd=function(){this._isClickOk=!0,console.log("nativeAd onClickAd",this._nativeCurrentAd.adId),this._nativeAd.reportAdClick({adId:this._nativeCurrentAd.adId.toString()})},r.onLoadHttpImage=function(t,n){return void 0===n&&(n=""),new Promise((function(i,e){if(!t||""===n)return console.log("加载网络图片 no url"),void e("加载网络图片 no url");(n.indexOf(".png")>-1||n.indexOf(".jpg")>-1)&&p.loadRemoteRes(n).then((function(t){i(t)}))}))},n}(d)).prototype,"imgSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(m.prototype,"closeBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(m.prototype,"goBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(m.prototype,"titleLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=m))||b));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/NativeBannerAd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameCtr.ts","./ComFun.ts","./AdCtr.ts"],(function(n){var t,i,e,o,r,a,l,s,u,c,d,h,p,f;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,l=n.Sprite,s=n.Button,u=n.Label,c=n.Node,d=n.Component},function(n){h=n.default},function(n){p=n.default},function(n){f=n.AdCtr}],execute:function(){var v,A,g,C,_,b,m,w,B,S,y;r._RF.push({},"0c689T/TSRMw4ohCWUXGZhI","NativeBannerAd",void 0);var N=a.ccclass,k=a.property;r._RF.push({},"37f46JAcdtIgqomWo5Hvun0","NativeBannerAd",void 0);n("NativeBannerAd",(v=N("NativeBannerAd"),A=k(l),g=k(s),C=k(s),_=k(u),v((w=t((m=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,e(t,"imgSprite",w,o(t)),e(t,"closeBtn",B,o(t)),e(t,"goBtn",S,o(t)),e(t,"titleLab",y,o(t)),t._allNoShow=!1,t._isInShow=!1,t._isMissTouch=!1,t._nativeAd=null,t._nativeCurrentAd=null,t}i(t,n);var r=t.prototype;return r.start=function(){this.closeBtn.node.on("click",this.onClose,this),this.goBtn.node.on("click",this.onClickAd,this),this.node.on(c.EventType.TOUCH_END,this.onClickAd,this)},r.onDisable=function(){},r.onEnable=function(){},r.show=function(n){if(!this._allNoShow){this._isInShow=!0,console.log("nativeBannerAd onShow"),this._nativeAd=n.nativeAd,this._nativeCurrentAd=n.nativeCurrentAd,this._nativeCurrentAd&&(this.node.active=!0,this.titleLab.string=this._nativeCurrentAd.desc||"",this.onLoadHttpImage(this.imgSprite,this._nativeCurrentAd.imgUrlList[0]||this._nativeCurrentAd.icon)),this.unscheduleAllCallbacks();var t=h.playCf.bannerSch||30;t>0&&this.schedule((function(){var n;null==(n=f.ins)||n.loadNativeAdData((function(){var n;null==(n=f.ins)||n.showBanner()}))}),t)}},r.onClose=function(){this._allNoShow=!0,this._isInShow=!1,this.unscheduleAllCallbacks(),this.node.parent.active=!1},r.onClickAd=function(){console.log("nativeAd onClickAd"),this._nativeAd.reportAdClick({adId:this._nativeCurrentAd.adId.toString()})},r.onLoadHttpImage=function(n,t){return void 0===t&&(t=""),new Promise((function(i,e){if(!n||""===t)return console.log("加载网络图片 no url"),void e("加载网络图片 no url");(t.indexOf(".png")>-1||t.indexOf(".jpg")>-1)&&p.loadRemoteRes(t).then((function(n){i(n)}))}))},t}(d)).prototype,"imgSprite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(m.prototype,"closeBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(m.prototype,"goBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(m.prototype,"titleLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=m))||b));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/NodePoolHelper.ts",["cc"],(function(e){var t,a,o,n;return{setters:[function(e){t=e.cclegacy,a=e.NodePool,o=e.Prefab,n=e.instantiate}],execute:function(){t._RF.push({},"498d60miSZJLotEgmQkd3Fc","NodePoolHelper",void 0),t._RF.push({},"49bba5+Ap5HVYT0JekUP14q","NodePoolHelper",void 0);e("default",new(function(){function e(){this._nodePoolMap=new Map,this._savePrefabMap=new Map}var t=e.prototype;return t.put=function(e,t,o){var n=t||e.name,r=this._nodePoolMap.get(n);r||(r=new a(o),this._nodePoolMap.set(n,r)),r.put(e)},t.get=function(e){var t;e instanceof o?(t=e.name,this.hasTemplatePrefab(t)||this.setTemplatePrefab(e,t)):t=e;var a=this._nodePoolMap.get(t);return a&&a.get()||this.createNewNode(t)},t.clear=function(e){var t=this._nodePoolMap.get(e);t&&t.clear()},t.createNewNode=function(e){var t=this._savePrefabMap.get(e);if(t)return n(t);console.warn("没有缓存该node/prefab",e)},t.setTemplatePrefab=function(e,t){var a=t||e.data.name;this.hasTemplatePrefab(a)&&console.warn("缓存的node/prefab已存在Map中，将覆盖",a),this._savePrefabMap.set(a,e)},t.getTemplatePrefab=function(e){return this.hasTemplatePrefab(e)?this._savePrefabMap.get(e):null},t.hasTemplatePrefab=function(e){return this._savePrefabMap.has(e)},e}()));t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/NumUpdateNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./EventMng.ts","./Constant.ts","./GameCtr.ts","./ComFun.ts","./ResLoadHelper.ts","./UIAddRes.ts","./UIMng.ts"],(function(t){var e,n,i,o,s,u,r,a,p,c,l,h,d,f,m,y,U,g,N,b,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){u=t.cclegacy,r=t._decorator,a=t.Label,p=t.Sprite,c=t.isValid,l=t.Component},function(t){h=t.default},function(t){d=t.EventMng},function(t){f=t.EItemType,m=t.EGameEvent,y=t.ResAddCf},function(t){U=t.default},function(t){g=t.default},function(t){N=t.default},function(t){b=t.UIAddRes},function(t){I=t.UIMng}],execute:function(){var T,_,R,S,v,E,D;u._RF.push({},"41489/sgH5DYbhM88njlVXS","NumUpdateNode",void 0);var B=r.ccclass,w=r.property;u._RF.push({},"41489/sgH5DYbhM88njlVXS","NumUpdateNode",void 0);t("NumUpdateNode",(T=B("NumUpdateNode"),_=w(a),R=w(p),T((E=e((v=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return e=t.call.apply(t,[this].concat(s))||this,i(e,"numLab",E,o(e)),i(e,"iconSprite",D,o(e)),e._itemType=f.Coin,e}n(e,t);var u=e.prototype;return u.start=function(){d.on(m.UPDATE_RES,this.onUpdateNum,this),d.on(m.RESBUY_SHOW,this.showBuyUI,this),h.onRegisterBtnEvent(this.node,this.showBuyUI.bind(this,this.itemType),this)},u.onDestroy=function(){d.off(m.UPDATE_RES,this.onUpdateNum,this),d.off(m.RESBUY_SHOW,this.showBuyUI,this)},u.init=function(t){var e=this;this._itemType=t,this.updateNum(),N.loadItemIcon(this._itemType,this).then((function(n){n&&c(e)&&e._itemType===t&&(e.iconSprite.spriteFrame=n)}))},u.onUpdateNum=function(t){this.itemType===t&&this.updateNum()},u.updateNum=function(){this.numLab.string=g.getGoldnumStringby(U.playData.getResItemNum(this.itemType))},u.showBuyUI=function(t){this.itemType===t&&y[t]&&I.ins.openUI(b,{resType:t})},s(e,[{key:"itemType",get:function(){return this._itemType}}]),e}(l)).prototype,"numLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(v.prototype,"iconSprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=v))||S));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/OnlineRewardCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./CommonItem.ts","./UIHelp.ts","./GameCtr.ts","./EventMng.ts","./ComFun.ts","./CfgMng.ts"],(function(e){var t,n,i,a,r,o,l,s,u,c,d,m,p,f,h,w,b,C,y,g,R,v,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,l=e._decorator,s=e.Label,u=e.ProgressBar,c=e.Node,d=e.Button,m=e.Prefab,p=e.instantiate,f=e.Sprite,h=e.Component},function(e){w=e.EGameEvent,b=e.ERedDotType},function(e){C=e.CommonItem},function(e){y=e.default},function(e){g=e.default},function(e){R=e.EventMng},function(e){v=e.default},function(e){I=e.default}],execute:function(){var D,_,N,O,L,E,k,B,P,T,x,z,M,U,S,F,A;o._RF.push({},"04289jCL95MQZvxaqc3zs2N","OnlineRewardCard",void 0);var j=l.ccclass,q=l.property;o._RF.push({},"04289jCL95MQZvxaqc3zs2N","OnlineRewardCard",void 0);var G=function(e){return e[e.None=0]="None",e[e.CanClaim=1]="CanClaim",e[e.ClaimOk=2]="ClaimOk",e}(G||{});e("OnlineRewardCard",(D=j("OnlineRewardCard"),_=q(s),N=q(s),O=q(u),L=q({type:c}),E=q({type:d}),k=q({type:c}),B=q({type:m}),D((x=t((T=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"timeLab",x,a(t)),i(t,"timeProNumLab",z,a(t)),i(t,"probar",M,a(t)),i(t,"rewardItemLayout",U,a(t)),i(t,"claimBtn",S,a(t)),i(t,"claimOkNode",F,a(t)),i(t,"rewardItemPrefab",A,a(t)),t._onlineRewardIndex=-1,t._state=G.None,t}n(t,e);var o=t.prototype;return o.start=function(){R.on(w.ONLINETIME_UPDATE,this.onUpdateState,this),y.onRegisterBtnEvent(this.claimBtn,this.onClaimBtnClick,this)},o.onDestroy=function(){R.off(w.ONLINETIME_UPDATE,this.onUpdateState,this)},o.init=function(e){var t=this;this._onlineRewardIndex=e;var n=this.onlineRewardData;this.timeLab.string=v.changeTimeStr(60*n.time,5),this.onUpdateState(),n.rewards.forEach((function(e,n){var i=p(t.rewardItemPrefab);i.getComponent(C).init(e),i.parent=t.rewardItemLayout}))},o.onUpdateState=function(){var e=this.onlineRewardData,t=Math.floor(g.playData.onlineTime/60);this.timeProNumLab.string=t+"/"+e.time;var n=t/e.time;this.probar.progress=n,g.playData.onlineTimeRewardIndexs.indexOf(this._onlineRewardIndex)>-1?(this.claimBtn.node.active=!1,this.claimOkNode.active=!0,this._state=G.ClaimOk):(this.claimOkNode.active=!1,this.claimBtn.node.active=!0,this.claimBtn.getComponent(f).grayscale=n<1,this.claimBtn.interactable=n>=1,this._state=n>=1?G.CanClaim:G.None)},o.onClaimBtnClick=function(){this.claimBtn.interactable&&g.playData.getOnlineTimeReward(this._onlineRewardIndex)&&(g.playData.getRewards(this.onlineRewardData.rewards,!0),R.emit(w.REDDOT_UPDATE,b.OnlineTimeReward),this.onUpdateState())},r(t,[{key:"onlineRewardIndex",get:function(){return this._onlineRewardIndex}},{key:"onlineRewardData",get:function(){return I.onlineRewardCf.list[this._onlineRewardIndex]}},{key:"isCanClaim",get:function(){return this._state===G.CanClaim}},{key:"rewards",get:function(){return this.onlineRewardData.rewards}}]),t}(h)).prototype,"timeLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(T.prototype,"timeProNumLab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"probar",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"rewardItemLayout",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(T.prototype,"claimBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(T.prototype,"claimOkNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(T.prototype,"rewardItemPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=T))||P));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/PageBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,n,c;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e._decorator,c=e.Component}],execute:function(){var a;t._RF.push({},"41687Cq7TJAYJFoYicB1xcS","PageBase",void 0);var i=n.ccclass;n.property;t._RF.push({},"704fbBmRHBMnaFcwexTNe8O","PageBase",void 0);e("PageBase",i("PageBase")(a=function(e){function t(){return e.apply(this,arguments)||this}o(t,e);var n=t.prototype;return n.onShow=function(){this.node.active=!0},n.onHide=function(){this.node.active=!1},t}(c))||a);t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/ParticeMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadHelper.ts","./NodePoolHelper.ts"],(function(e){var t,n,r,i,o,a,c,u;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){i=e.cclegacy,o=e._decorator,a=e.Vec3},function(e){c=e.default},function(e){u=e.default}],execute:function(){var s,l;i._RF.push({},"f091fjCWj5EHo+j/qQGlxgy","ParticeMgr",void 0);var p=o.ccclass;o.property;i._RF.push({},"1aee7Mhq6xNiK9ofiuRirHG","ParticeMgr",void 0);e("particeType",{delete:"particleDelete"}),e("ParticeMgr",p("ParticeMgr")(((l=function(){function e(){}return e.prototype.playAni=function(){var e=n(r().mark((function e(t,n,i,o){var s,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=new a),e.next=3,c.loadPrefab(n.path,n.bundleName);case 3:s=e.sent,(l=u.get(s))&&l.isValid&&i&&i.isValid&&(l.position=o,l.parent=i,setTimeout((function(){u.put(l,t)}),1e3));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),t(e,null,[{key:"ins",get:function(){return e._ins||(e._ins=new e),this._ins}}]),e}())._ins=null,s=l))||s);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/ParticleShowEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EffectBase.ts"],(function(t){var e,i,r,o,n,c,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,c=t._decorator,s=t.ParticleSystem2D},function(t){a=t.EffectBase}],execute:function(){var l,f,p,u,h,y,S;n._RF.push({},"5d4ecq7/iVFL4MRRm0NgOvg","ParticleShowEffect",void 0);var d=c.ccclass,v=c.property;n._RF.push({},"ff970IpucBD3LR+dNfrf+rH","ParticleShowEffect",void 0);t("ParticleShowEffect",(l=d("ParticleShowEffect"),f=v({type:[s]}),p=v({tooltip:"是否自动显示隐藏"}),l((y=e((h=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return e=t.call.apply(t,[this].concat(n))||this,r(e,"particles",y,o(e)),r(e,"isAutoHide",S,o(e)),e}i(e,t);var n=e.prototype;return n.start=function(){},n.onDisable=function(){this.isAutoHide&&this.onStop()},n.onEnable=function(){this.isAutoHide&&this.onShow()},n.onShow=function(){for(var e=0;e<this.particles.length;e++)this.particles[e].resetSystem();return t.prototype.onShow.call(this)},n.onStop=function(){for(var t=0;t<this.particles.length;t++)this.particles[t].stopSystem()},e}(a)).prototype,"particles",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=e(h.prototype,"isAutoHide",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=h))||u));n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TipsCtr.ts","./ComFun.ts","./EventMng.ts","./Constant.ts","./CfgMng.ts","./UIMng.ts","./UIRewardGet.ts"],(function(t){var e,a,i,n,r,s,o,u,T,d,h,D,l,m,_,c,f,E;return{setters:[function(t){e=t.createClass,a=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){n=t.cclegacy,r=t._decorator,s=t.sys},function(t){o=t.TipsCtr},function(t){u=t.default},function(t){T=t.EventMng},function(t){d=t.EGameDataKey,h=t.EGameEvent,D=t.EItemType,l=t.PowerConfig,m=t.ERedDotType,_=t.ResAddCf},function(t){c=t.default},function(t){f=t.UIMng},function(t){E=t.UIRewardGet}],execute:function(){var g;n._RF.push({},"34b571rL0xJs7lTy09xDdjy","PlayData",void 0);var A=r.ccclass;r.property;n._RF.push({},"0ce70ttcEJF4JPnbWDRMMYA","PlayData",void 0);t("PlayData",A("PlayData")(g=function(){function t(t){void 0===t&&(t="local"),this._mData={},this._dataLocalName="",this._bSaveIng=!1,this.gameData={},this.gmData={},this._onlineTimeSchId=-1,this._dataLocalName=t,this.LoadStorage()}var n=t.prototype;return n.LoadStorage=function(){var t=s.localStorage.getItem(this._dataLocalName);t&&""!==t?this.init(JSON.parse(t)):(this.init(),this.Save())},n.clear=function(){this._mData={},this.Save()},n.init=function(t){this._mData=t||{},0==this.playerFirstLoginTime&&(this.playerFirstLoginTime=u.getTodayZeroTime(u.getLocalTime()))},n.Get=function(t,e){return void 0===e&&(e=null),null!=this._mData[t]?this._mData[t]:e},n.Set=function(t,e){return(!this._mData[t]||this._mData[t]!=e)&&(this._mData[t]=e,!0)},n.Save=function(){var t=this;this._bSaveIng||(this._bSaveIng=!0,setTimeout((function(){t._bSaveIng=!1,s.localStorage.setItem(t._dataLocalName,JSON.stringify(t._mData))}),1e3/30))},n.getData=function(t,e){return this.Get(t,e)},n.setData=function(t,e){this.Set(t,e),this.Save()},n.removeData=function(t){delete this._mData[t],this.Save()},n.getResItemNum=function(t){return this.getData(d.RES_ITEMNUM,{})[t]||0},n.setResItemNum=function(t,e){var a=this.getData(d.RES_ITEMNUM,{});a[t]=e,this.setData(d.RES_ITEMNUM,a),T.emit(h.UPDATE_RES,t)},n.addResItemNum=function(t,e){var a=this.getResItemNum(t)+e;return a<0?(o.showTips("资源不足！"),T.emit(h.RESBUY_SHOW,t),!1):(this.setResItemNum(t,a),!0)},n.setPowerNum=function(t,e){void 0===e&&(e=0),this.getResItemNum(D.Power)!=t&&(e&&this.setData(d.UPDATETIME_Power,e),t=Math.max(t,0),this.setResItemNum(D.Power,t))},n.addPowerNum=function(t){if(void 0===t&&(t=1),!t)return!1;var e=this.powerNum,a=u.getLocalTime(),i=!1,n=!0;return t>0?(e+=t,i=!0):(i=e>=l.MaxPower&&e+t<l.MaxPower,n=e+t>=0,e=Math.max(e+t,0)),this.setPowerNum(e,i?a:0),n},n.consumePower=function(t){var e=t||l.StageCutNum||-1;return console.log("体力消耗",e),this.powerNum+e>=0?(this.addPowerNum(e),!0):(o.showTips("体力不足！"),T.emit(h.RESBUY_SHOW,D.Power),!1)},n.addFullPowerNum=function(){var t=this.powerNum;t<l.MaxPower&&this.addPowerNum(l.MaxPower-t)},n.getNextAutoAddPowerTime=function(){if(this.powerNum>=l.MaxPower)return-1;var t=this.getData(d.UPDATETIME_Power,0),e=l.AddTime-(u.getLocalTime()-t);return e>0?e:0},n.getRewards=function(){var t=a(i().mark((function t(e,a){var n,r,s,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o in void 0===a&&(a=!1),n=this,r=[],s={},e.forEach((function(t){t.id==D.Card?r.push({id:t.id,num:t.num}):(s[t.id]||(s[t.id]=0),s[t.id]+=t.num)})),s)Object.prototype.hasOwnProperty.call(s,o)&&r.push({id:Number(o),num:s[o]});if(r.forEach((function(t){t.num<=0||(t.id==D.Power?n.addPowerNum(t.num):t.id==D.Card?n.addCard(t.num+""):n.addResItemNum(t.id,t.num))})),!a){t.next=10;break}return t.next=10,f.ins.openUIClose(E,{rewards:r});case 10:T.emit(h.RES_COLLECT,r);case 11:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}(),n.getUnlockPropertyIds=function(){var t=this.getData(d.PROPERTY_LV,null);if(!t){var e=c.getFreeUnlockTurretPropertyIds();t=this.unlockPropertyIds(e)}return t},n.unlockPropertyIds=function(t){for(var e=this.getData(d.PROPERTY_LV,{}),a=0;a<t.length;a++){var i=t[a];e[i]||(e[i]=1)}return this.setData(d.PROPERTY_LV,e),e},n.getGoldPropertyLv=function(t){return this.getUnlockPropertyIds()[t]||0},n.setGoldPropertyLv=function(t,e){var a=this.getUnlockPropertyIds();a[t]=e,this.setData(d.PROPERTY_LV,a)},n.getIdleResRewards=function(){var t=a(i().mark((function t(e){var a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=1),!((a=this.getIdleResRewardNumByTime(this.idleTime*e))[0].num<=0&&a[1].num<=0&&a[2].num<=0)){t.next=4;break}return t.abrupt("return",!1);case 4:return this.idleTime=u.getLocalTime(0),t.next=7,this.getRewards(a);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.getIdleResRewardNumByTime=function(t){return[{id:D.Gold,num:Math.floor(t/3600*(c.globalConfig.IdleResGoldHour+c.globalConfig.IdleResGoldAddHour*this.passTotalStageNum))},{id:D.Diamond,num:Math.floor(t/3600*c.globalConfig.IdleResGemHour)},{id:D.Crystal,num:Math.floor(t/3600*c.globalConfig.IdleResCrystalHour)}]},n.addCard=function(t){var e=this.cardList,a=!1;e[t]?e[t].num+=1:(e[t]={id:t,star:1,num:0},a=!0),this.setData(d.CARD_LIST,e),a?T.emit(h.CARD_ADD,t):T.emit(h.CARD_UPDATE,t)},n.upStarCard=function(t,e){var a=this.cardList[t];return!(!a||a.num<e)&&(a.num-=e,a.star+=1,this.setData(d.CARD_LIST,this.cardList),T.emit(h.CARD_UPDATE,t),!0)},n.setEquipCard=function(t,e){void 0===e&&(e=-1);var a=this.equipCards;if(e>=0)a[e]=t;else{if((e=a.indexOf(t))<0)return;a[e]=""}this.setData(d.CARD_EQUIP,a),T.emit(h.CARD_EQUIP_CHANGE,t),T.emit(h.REDDOT_UPDATE,m.Card)},n.getEquipCardSlotIndex=function(t){return this.equipCards.indexOf(t)},n.isEquipCard=function(t){return this.equipCards.indexOf(t)>=0},n.equipCard=function(t){var e=this.equipCards;if(e.indexOf(t)>=0)return o.showTips("卡牌已经装备!"),!1;for(var a=-1,i=0;i<this.cardSlotNum;i++){var n=e[i];if(""===n||!n){a=i;break}}return-1==a?(o.showTips("没有空余槽位!"),!1):(this.setEquipCard(t,a),!0)},n.unEquipCard=function(t){return!(this.equipCards.indexOf(t)<0)&&(this.setEquipCard(t,-1),!0)},n.getLabAttLv=function(t){return this.labAttLvs[t]||0},n.setLabAttLv=function(t,e){var a=this.labAttLvs;a[t]=e,this.setData(d.LAB_ATT_LVS,a),T.emit(h.LAB_ATT_LV_CHANGE,t,e)},n.getLabAttTrainData=function(t){return this.labAttTrainDatas[t]},n.isTrainLabAtt=function(t){var e=this.labAttTrainDatas;for(var a in e)if(e.hasOwnProperty(a)&&e[a].attId==t)return!0;return!1},n.startTrainLabAtt=function(t){var e=this.labAttTrainDatas,a=this.getEmptyLabAttSlotIndex();return-1==a?(o.showTips("没有空余训练槽位!"),!1):(e[a]={attId:t,startTime:u.getLocalTime(0)},this.setData(d.LAB_ATT_TRAIN,e),T.emit(h.LAB_ATT_TRAIN_START,a),T.emit(h.REDDOT_UPDATE,m.Lab),!0)},n.getEmptyLabAttSlotIndex=function(){for(var t=this.labAttTrainDatas,e=0;e<this.labSlotNum;e++)if(!t[e])return e;return-1},n.checkTrainLabAttResult=function(){var t=this.labAttTrainDatas;for(var e in t)if(t.hasOwnProperty(e)){var a=t[e],i=a.attId,n=this.getLabAttLv(i),r=a.startTime+c.getLabPropertyLvUpTime(i,n);u.getLocalTime(0)>=r&&this.finishTrainLabAtt(Number(e))}},n.finishTrainLabAtt=function(t){var e=this.labAttTrainDatas,a=e[t];if(!a)return!1;var i=a.attId,n=this.getLabAttLv(i)+1;return this.setLabAttLv(i,n),delete e[t],this.setData(d.LAB_ATT_TRAIN,e),T.emit(h.LAB_ATT_TRAIN_END,i),T.emit(h.REDDOT_UPDATE,m.Lab),!0},n.addCardAdFreeNum=function(){this.setData(d.CARD_AD_FREE_NUM,this.cardAdFreeNum+1),T.emit(h.REDDOT_UPDATE,m.Card)},n.refreshCardFreeTime=function(){this.setData(d.CARD_FREE_TIME,u.getLocalTime(0)),T.emit(h.REDDOT_UPDATE,m.Shop)},n.getRandomCard=function(){var t=c.globalConfig.CardMaxStar,e=this.cardList,a=c.CfgSkill.itemMap,i=[],n=0;for(var r in a)if(Object.prototype.hasOwnProperty.call(a,r)){var s=a[r];if(e[r]&&e[r].star>=t)continue;n+=s.weight,i.push([r,n])}for(var o=Math.random()*n,u="",T=0;T<i.length;T++)if(o<=i[T][1]){u=i[T][0];break}return u},n.isPassUIGuide=function(t){return this.getData(d.Guide_UI_Step,[]).indexOf(t)>=0},n.passUIGuide=function(t){var e=this.getData(d.Guide_UI_Step,[]);e.indexOf(t)>=0||(e.push(t),this.setData(d.Guide_UI_Step,e))},n.isGetRecommendGameReward=function(t){return this.getData(d.RECOMMENDAPP_REWARDSTATE,[]).indexOf(t)>-1},n.setRecommendGameReward=function(t){var e=this.getData(d.RECOMMENDAPP_REWARDSTATE,[]);return!(e.indexOf(t)>-1)&&(e.push(t),this.setData(d.RECOMMENDAPP_REWARDSTATE,e),!0)},n.initOnlineTimeReward=function(){var t=this,e=this.onlineTime,a=this.getData(d.ONLINETIME_UPDATE_TIME,0);u.isNeedTimeUpdate(a)&&(this.setData(d.ONLINETIME_UPDATE_TIME,u.getLocalTime(0)),this.setData(d.ONLINETIME_GET_REWARD_INDEX,[]),this.setData(d.ONLINETIME_TIME,0),e=0),this._onlineTimeSchId>-1&&clearInterval(this._onlineTimeSchId),this._onlineTimeSchId=setInterval((function(){e+=60,t.setData(d.ONLINETIME_TIME,e),T.emit(h.ONLINETIME_UPDATE,e),T.emit(h.REDDOT_UPDATE,m.OnlineTimeReward)}),6e4)},n.getOnlineTimeReward=function(t){var e=this.onlineTimeRewardIndexs;return!(e.indexOf(t)>-1)&&(e.push(t),this.setData(d.ONLINETIME_GET_REWARD_INDEX,e),!0)},n.isGetStageReward=function(t){return this.getData(d.STAGE_REWARD_STATE,[]).indexOf(t)>-1},n.setStageRewardState=function(t){var e=this.getData(d.STAGE_REWARD_STATE,[]);e.indexOf(t)>-1||(e.push(t),this.setData(d.STAGE_REWARD_STATE,e))},n.getShopBuyNum=function(t){var e=_[t];if(!e)return null;var a=this.passWorldId||0;return{id:t,num:e.baseNum*(1+a*e.worldAddScale)}},e(t,[{key:"isCanVibrate",get:function(){return 1==this.getData(d.VIBRATE_STATE,1)},set:function(t){this.setData(d.VIBRATE_STATE,t?1:0)}},{key:"isNewPlayer",get:function(){return this.getData(d.NewPlayer,0)},set:function(t){this.setData(d.NewPlayer,t?1:0)}},{key:"isNeedShowRateUI",get:function(){var t=this.getData(d.RATEAPP_UISHOWTIME,0);return-1!=t&&u.isNeedTimeUpdate(t)}},{key:"rateAppTime",set:function(t){this.setData(d.RATEAPP_UISHOWTIME,t)}},{key:"powerNum",get:function(){var t=this.getResItemNum(D.Power);if(t<l.MaxPower){var e=this.getData(d.UPDATETIME_Power,0),a=u.getLocalTime()-e;if(a>0){var i=Math.floor(a/l.AddTime)*l.AddPower;t=Math.min(t+i,l.MaxPower),this.setPowerNum(t,i*l.AddTime+e)}}return t}},{key:"goldNum",get:function(){return this.getResItemNum(D.Gold)}},{key:"diamondNum",get:function(){return this.getResItemNum(D.Diamond)}},{key:"curPlaySpeed",get:function(){return this.getData(d.PLAY_SPEED,1)},set:function(t){this.setData(d.PLAY_SPEED,t)}},{key:"passWorldId",get:function(){return this.getData(d.WORLD_PASS_ID,0)},set:function(t){this.setData(d.WORLD_PASS_ID,t)}},{key:"passStageId",get:function(){return this.getData(d.WORLD_PASS_STAGE,0)},set:function(t){this.setData(d.WORLD_PASS_STAGE,t)}},{key:"passTotalStageNum",get:function(){return 5*this.passWorldId+this.passStageId}},{key:"battleNum",get:function(){return this.getData(d.BATTLE_NUM,0)},set:function(t){this.setData(d.BATTLE_NUM,t)}},{key:"idleTime",get:function(){var t,e=u.getLocalTime(0),a=this.getData(d.IDLE_TIME_START,0);return 0==a?(a=e,this.idleTime=e,0):Math.min(e-a,3600*((null==(t=c.globalConfig)?void 0:t.IdleResMaxTime)||0))},set:function(t){this.setData(d.IDLE_TIME_START,t)}},{key:"idleLeftTime",get:function(){return 3600*c.globalConfig.IdleResMaxTime-this.idleTime}},{key:"curIdleResGold",get:function(){var t=this.idleTime;return Math.floor(t/3600*(c.globalConfig.IdleResGoldHour+c.globalConfig.IdleResGoldAddHour*this.passTotalStageNum))}},{key:"curIdleResDiamond",get:function(){var t=this.idleTime;return Math.floor(t/3600*c.globalConfig.IdleResGemHour)}},{key:"curIdleResCrystal",get:function(){var t=this.idleTime;return Math.floor(t/3600*c.globalConfig.IdleResCrystalHour)}},{key:"cardList",get:function(){return this.getData(d.CARD_LIST,{})}},{key:"cardSlotNum",get:function(){var t=0==c.globalConfig.CardUnlockSlotPrice[0]?1:0;return Math.min(this.getData(d.CARD_SLOT,t),c.globalConfig.CardUnlockSlotPrice.length)},set:function(t){this.setData(d.CARD_SLOT,t),T.emit(h.REDDOT_UPDATE,m.Card)}},{key:"equipCards",get:function(){return this.getData(d.CARD_EQUIP,[])}},{key:"labAttLvs",get:function(){return this.getData(d.LAB_ATT_LVS,{})}},{key:"labSlotNum",get:function(){return Math.min(this.getData(d.LAB_ATT_SLOT,0),c.globalConfig.LabUnlockSlotGemPrice.length)},set:function(t){this.setData(d.LAB_ATT_SLOT,t),T.emit(h.LAB_ATT_SLOT_CHANGE,t),T.emit(h.REDDOT_UPDATE,m.Lab)}},{key:"labAttTrainDatas",get:function(){return this.getData(d.LAB_ATT_TRAIN,{})}},{key:"cardAdFreeNum",get:function(){var t=this.getData(d.CARD_AD_FREE_TIME,0);return u.isNeedTimeUpdate(t)&&(this.setData(d.CARD_AD_FREE_TIME,u.getLocalTime(0)),this.setData(d.CARD_AD_FREE_NUM,0)),this.getData(d.CARD_AD_FREE_NUM,0)}},{key:"isFreeBuyCard",get:function(){var t=this.getData(d.CARD_FREE_TIME,0);return!!u.isNeedTimeUpdate(t)&&(this.setData(d.CARD_FREE_TIME,u.getLocalTime(0)),!0)}},{key:"isGetFreeGift",get:function(){var t=this.getData(d.FREEGIFT_GET_TIME,0);return!u.isNeedTimeUpdate(t)},set:function(t){t&&(this.setData(d.FREEGIFT_GET_TIME,u.getLocalTime(0)),T.emit(h.REDDOT_UPDATE,m.Shop))}},{key:"isGetShopFreeDiamond",get:function(){var t=this.getData(d.SHOP_FREE_DIAMOND_GET_TIME,0);return!u.isNeedTimeUpdate(t,14400)},set:function(t){t&&(this.setData(d.SHOP_FREE_DIAMOND_GET_TIME,u.getLocalTime(0)),T.emit(h.REDDOT_UPDATE,m.Shop))}},{key:"shopFreeDiamondNextTime",get:function(){return this.getData(d.SHOP_FREE_DIAMOND_GET_TIME,0)+14400}},{key:"shopAdDiamondTimes",get:function(){var t=this.getData(d.SHOP_AD_DIAMOND_UPDATE_TIME,0);return u.isNeedTimeUpdate(t)&&(this.setData(d.SHOP_AD_DIAMOND_UPDATE_TIME,u.getLocalTime(0)),this.setData(d.SHOP_AD_DIAMOND_TIMES,0)),this.getData(d.SHOP_AD_DIAMOND_TIMES,0)},set:function(t){this.setData(d.SHOP_AD_DIAMOND_TIMES,t)}},{key:"shopAdCrystalTimes",get:function(){var t=this.getData(d.SHOP_AD_Crystal_UPDATE_TIME,0);return u.isNeedTimeUpdate(t)&&(this.setData(d.SHOP_AD_Crystal_UPDATE_TIME,u.getLocalTime(0)),this.setData(d.SHOP_AD_Crystal_TIMES,0)),this.getData(d.SHOP_AD_Crystal_TIMES,0)},set:function(t){this.setData(d.SHOP_AD_Crystal_TIMES,t)}},{key:"onlineTime",get:function(){return this.getData(d.ONLINETIME_TIME,0)}},{key:"onlineTimeRewardIndexs",get:function(){return this.getData(d.ONLINETIME_GET_REWARD_INDEX,[])}},{key:"isHasOnlineTimeRewardGet",get:function(){for(var t=0,e=Math.floor(this.onlineTime/60),a=0;a<c.onlineRewardCf.list.length&&!(c.onlineRewardCf.list[a].time>e);a++)t=a+1;if(t>0)for(var i=this.onlineTimeRewardIndexs,n=0;n<t;n++)if(-1==i.indexOf(n))return!0;return!1}},{key:"mysticalGiftState",get:function(){return this.getData(d.MYSTERY_GIFT_STATE,0)},set:function(t){this.setData(d.MYSTERY_GIFT_STATE,t)}},{key:"playerFirstLoginTime",get:function(){return this.getData(d.FIRST_LOGIN_TIME,0)},set:function(t){this.setData(d.FIRST_LOGIN_TIME,t)}}]),t}())||g);n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayEffectCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnermyDeadEffect.ts","./ComFun.ts","./UIHelp.ts","./EffectBase.ts"],(function(t){var e,n,r,i,o,a,f,c,s,l,u,p,m,h,b,y,E,d,v,w,g,F,C,_,P,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){f=t.cclegacy,c=t._decorator,s=t.Color,l=t.Node,u=t.Prefab,p=t.Label,m=t.Sprite,h=t.SpriteFrame,b=t.Animation,y=t.instantiate,E=t.tween,d=t.Vec3,v=t.UIOpacity,w=t.Component,g=t.isValid,F=t.v3},function(t){C=t.EnermyDeadEffect},function(t){_=t.default},function(t){P=t.default},function(t){A=t.EffectBase}],execute:function(){var L,S,z,D,x,B,k,R,H,N,I,T,U,G,M,V,j,q,J,O,X;f._RF.push({},"bcfc1galeJGqbiip+nm+THU","PlayEffectCtr",void 0);var Z=c.ccclass,K=c.property;f._RF.push({},"844c3dZ1HlAtL22Rd8etDl7","PlayEffectCtr",void 0);var Q=new s;t("PlayEffectCtr",(L=Z("PlayEffectCtr"),S=K({type:l}),z=K({type:[u]}),D=K({type:l}),x=K({type:p}),B=K({type:m}),k=K({type:[h]}),R=K({type:b}),H=K({type:u}),N=K({type:A}),L((U=e((T=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"downEffectLayer",U,i(e)),r(e,"enermyDeadEffectPrefabs",G,i(e)),r(e,"topEffectLayer",M,i(e)),r(e,"numEffectLab",V,i(e)),r(e,"itemSprite",j,i(e)),r(e,"itemSpriteFrames",q,i(e)),r(e,"battleAlarmAni",J,i(e)),r(e,"boomCircleEffect",O,i(e)),r(e,"bossCommingEffect",X,i(e)),e._deadEffectPool=[],e._numEffectLabPool=[],e._itemPool=[],e._boomEffect=null,e}n(e,t);var f=e.prototype;return f.start=function(){},f.showEnermyDeadEffect=function(){var t=o(a().mark((function t(e,n){var r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=0),this.enermyDeadEffectPrefabs[e]){t.next=3;break}return t.abrupt("return");case 3:return(r=this._deadEffectPool.pop())||((r=y(this.enermyDeadEffectPrefabs[e])).parent=this.downEffectLayer),r.active=!0,t.next=8,r.getComponent(C).showEffect(n);case 8:g(this)&&(r.active=!1,this._deadEffectPool.push(r));case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),f.showNumEffectAct=function(t,e,n,r){var i=this;void 0===n&&(n="#ffffff"),void 0===r&&(r=40);var o=this._numEffectLabPool.pop();o||((o=y(this.numEffectLab.node)).parent=this.topEffectLayer),o.active=!0,o.position=t;var a=o.getComponent(p);a.string="string"==typeof e?e:Math.floor(e).toString(),a.color=Q.fromHEX(n),E(o).to(.2,{position:new d(t.x,t.y+r,t.z)}).delay(.5).call((function(){o.active=!1,i._numEffectLabPool.push(o)})).start()},f.showDropItemEffect=function(t,e){var n=this,r=this._itemPool.pop();r||((r=y(this.itemSprite.node)).parent=this.downEffectLayer),r.active=!0,r.position=e.add3f(_.randomNum(-5,5),_.randomNum(-5,5),0),r.getComponent(m).spriteFrame=this.itemSpriteFrames[t.id];var i=r.getComponent(v);i.opacity=255,E(i).delay(1).to(.2,{opacity:0}).call((function(){r.active=!1,n._itemPool.push(r)})).start();this.showNumEffectAct(r.position,"+"+t.num,["#aaaaaa","#FFF500","#EB00FF","#00FFFF"][t.id]||"#FFFFFF",20)},f.showBattleAlarm=function(){var t=o(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.battleAlarmAni.node.active=!0,t.next=3,P.playAni(this.battleAlarmAni);case 3:g(this.battleAlarmAni)&&(this.battleAlarmAni.node.active=!1);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),f.showBoomCircleEffect=function(){var t=o(a().mark((function t(e){var n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=1),console.log("showBoomCircleEffect",e),this._boomEffect||((n=y(this.boomCircleEffect)).parent=this.downEffectLayer,this._boomEffect=n.getComponent(A)),this._boomEffect.node.active=!0,this._boomEffect.node.scale=F(1,1,1).multiplyScalar(.06*e),t.next=7,this._boomEffect.onShow();case 7:this._boomEffect.node.active=!1;case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),f.showBossComming=function(){var t=o(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.bossCommingEffect.node.active=!0,t.next=3,this.bossCommingEffect.onShow();case 3:this.bossCommingEffect.node.active=!1;case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(w)).prototype,"downEffectLayer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(T.prototype,"enermyDeadEffectPrefabs",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=e(T.prototype,"topEffectLayer",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(T.prototype,"numEffectLab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(T.prototype,"itemSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(T.prototype,"itemSpriteFrames",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(T.prototype,"battleAlarmAni",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(T.prototype,"boomCircleEffect",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(T.prototype,"bossCommingEffect",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=T))||I));f._RF.pop(),f._RF.pop()}}}));

System.register("chunks:///_virtual/PlayScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIMng.ts","./UIStart.ts","./LoadHelper.ts","./ResConfig.ts","./UIHelp.ts","./GameCtr.ts"],(function(t){var e,n,i,a,r,o,s,c,u,l,p,f,d,h,y,g,b,v,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,u=t.Label,l=t.Component,p=t.view,f=t.ResolutionPolicy,d=t.instantiate},function(t){h=t.UIMng},function(t){y=t.UIStart},function(t){g=t.default},function(t){b=t.EResBundleName},function(t){v=t.default},function(t){I=t.default}],execute:function(){var L,w,S,m,P,R,x;s._RF.push({},"874acI7zMtHaIFAyOVAKUIV","PlayScene",void 0);var z=c.ccclass,C=c.property;s._RF.push({},"f0dda2qkwBNIbXtORwnailH","PlayScene",void 0);t("PlayScene",(L=z("PlayScene"),w=C({tooltip:"tipsLab",type:u}),S=C({tooltip:"马甲包id"}),L((R=e((P=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"tipsLab",R,a(e)),i(e,"gameCloneId",x,a(e)),e}n(e,t);var s=e.prototype;return s.onLoad=function(){},s.start=function(){var t=r(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=p.getVisibleSize(),(e.width>e.height?e.height/e.width:e.width/e.height)>.57&&p.setDesignResolutionSize(720,1280,f.FIXED_HEIGHT),I.GameCloneId=this.gameCloneId||"",this.showLoadingTips(),t.next=7,this.loadPlaySceneNode();case 7:this.tipsLab.node.active=!1,h.ins.openUI(y);case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.showLoadingTips=function(){var t=this,e="游戏启动中";this.tipsLab.string=e;var n=0;this.tipsLab.schedule((function(){3===n?(t.tipsLab.string=e,n=0):(t.tipsLab.string=t.tipsLab.string.concat("."),n++)}),.5)},s.loadPlaySceneNode=function(){var t=r(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.loadPrefab("ui/PlayScene",b.Start);case 2:if(e=t.sent){t.next=8;break}return t.next=6,v.onDelayPromise(1,this);case 6:return t.next=8,this.loadPlaySceneNode();case 8:d(e).parent=this.node;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(l)).prototype,"tipsLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(P.prototype,"gameCloneId",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=P))||m));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/PowerNumNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComFun.ts","./GameCtr.ts","./NumUpdateNode.ts"],(function(e){var t,r,i,o,a,n,u,s,c,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,u=e.Label,s=e.ProgressBar},function(e){c=e.default},function(e){l=e.default},function(e){p=e.NumUpdateNode}],execute:function(){var d,m,f,h,N,b,w;a._RF.push({},"0c7f4ArpqpCR4ATAsM0M3BF","PowerNumNode",void 0);var g=n.ccclass,y=n.property;a._RF.push({},"6f41auGRr1ETLuy+5tZnX3U","PowerNumNode",void 0);e("PowerNumNode",(d=g("PowerNumNode"),m=y(u),f=y({type:s}),d((b=t((N=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,i(t,"timeLab",b,o(t)),i(t,"powerProBar",w,o(t)),t}r(t,e);var a=t.prototype;return a.updateNum=function(){var e=this;this.updatePower(),this.unscheduleAllCallbacks();var t=l.playData.getNextAutoAddPowerTime();t>-1?(this.timeLab.node.active=!0,this.timeLab.string=c.changeTimeStr(t,3),this.schedule((function(){--t>=0?e.timeLab.string=c.changeTimeStr(t,3):e.updateNum()}),1)):this.timeLab.node.active=!1},a.updatePower=function(){var e=l.playData.powerNum||0;this.numLab.string=e+"/20",this.powerProBar.progress=e/20},t}(p)).prototype,"timeLab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(N.prototype,"powerProBar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=N))||h));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/protobuf-wrapper.ts",["cc","./protobuf.min.mjs_cjs=&original=.js"],(function(r){var t;return{setters:[function(r){t=r.cclegacy},null],execute:function(){t._RF.push({},"66df4jHhAtDEaPZEvr47ghq","protobuf-wrapper",void 0);var o=r("default",window.protobuf||globalThis.protobuf);r("Reader",o.Reader),r("Writer",o.Writer),r("util",o.util),r("roots",o.roots);t._RF.pop()}}}));

System.register("chunks:///_virtual/protobuf.min.js",["./cjs-loader.mjs"],(function(exports,module){var loader;return{setters:[function(t){loader=t.default}],execute:function(){var _cjsExports;exports("default",void 0);var __cjsMetaURL=exports("__cjsMetaURL",module.meta.url);loader.define(__cjsMetaURL,(function(exports$1,require,module,__filename,__dirname){!function(d){var r,u,n;r={1:[function(t,r,e){r.exports=function(t,r){for(var e=Array(arguments.length-1),n=0,i=2,o=!0;i<arguments.length;)e[n++]=arguments[i++];return new Promise((function(i,s){e[n]=function(t){if(o)if(o=!1,t)s(t);else{for(var r=Array(arguments.length-1),e=0;e<r.length;)r[e++]=arguments[e];i.apply(null,r)}};try{t.apply(r||null,e)}catch(t){o&&(o=!1,s(t))}}))}},{}],2:[function(t,r,e){e.length=function(t){var r=t.length;if(!r)return 0;for(var e=0;1<--r%4&&"="==(t[0|r]||"");)++e;return Math.ceil(3*t.length)/4-e};for(var n=Array(64),i=Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;e.encode=function(t,r,e){for(var i,o=null,s=[],u=0,f=0;r<e;){var h=t[r++];switch(f){case 0:s[u++]=n[h>>2],i=(3&h)<<4,f=1;break;case 1:s[u++]=n[i|h>>4],i=(15&h)<<2,f=2;break;case 2:s[u++]=n[i|h>>6],s[u++]=n[63&h],f=0}8191<u&&((o=o||[]).push(String.fromCharCode.apply(String,s)),u=0)}return f&&(s[u++]=n[i],s[u++]=61,1===f&&(s[u++]=61)),o?(u&&o.push(String.fromCharCode.apply(String,s.slice(0,u))),o.join("")):String.fromCharCode.apply(String,s.slice(0,u))};var s="invalid encoding";e.decode=function(t,r,e){for(var n,o=e,u=0,f=0;f<t.length;){var h=t.charCodeAt(f++);if(61==h&&1<u)break;if((h=i[h])===d)throw Error(s);switch(u){case 0:n=h,u=1;break;case 1:r[e++]=n<<2|(48&h)>>4,n=h,u=2;break;case 2:r[e++]=(15&n)<<4|(60&h)>>2,n=h,u=3;break;case 3:r[e++]=(3&n)<<6|h,u=0}}if(1===u)throw Error(s);return e-o},e.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},{}],3:[function(t,r,e){function n(){this.t={}}(r.exports=n).prototype.on=function(t,r,e){return(this.t[t]||(this.t[t]=[])).push({fn:r,ctx:e||this}),this},n.prototype.off=function(t,r){if(t===d)this.t={};else if(r===d)this.t[t]=[];else for(var e=this.t[t],n=0;n<e.length;)e[n].fn===r?e.splice(n,1):++n;return this},n.prototype.emit=function(t){var r=this.t[t];if(r){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);for(n=0;n<r.length;)r[n].fn.apply(r[n++].ctx,e)}return this}},{}],4:[function(t,r,e){function n(t){function r(t,r,e,n){var i=r<0?1:0;t(0===(r=i?-r:r)?0<1/r?0:2147483648:isNaN(r)?2143289344:34028234663852886e22<r?(i<<31|2139095040)>>>0:r<11754943508222875e-54?(i<<31|Math.round(r/1401298464324817e-60))>>>0:(i<<31|127+(t=Math.floor(Math.log(r)/Math.LN2))<<23|8388607&Math.round(r*Math.pow(2,-t)*8388608))>>>0,e,n)}function e(t,r,e){return r=2*((t=t(r,e))>>31)+1,e=t>>>23&255,t&=8388607,255==e?t?NaN:1/0*r:0==e?1401298464324817e-60*r*t:r*Math.pow(2,e-150)*(8388608+t)}function n(t,r,e){a[0]=t,r[e]=c[0],r[e+1]=c[1],r[e+2]=c[2],r[e+3]=c[3]}function f(t,r,e){a[0]=t,r[e]=c[3],r[e+1]=c[2],r[e+2]=c[1],r[e+3]=c[0]}function h(t,r){return c[0]=t[r],c[1]=t[r+1],c[2]=t[r+2],c[3]=t[r+3],a[0]}function l(t,r){return c[3]=t[r],c[2]=t[r+1],c[1]=t[r+2],c[0]=t[r+3],a[0]}var a,c,p,y,d;function b(t,r,e,n,i,o){var s,u=n<0?1:0;0===(n=u?-n:n)?(t(0,i,o+r),t(0<1/n?0:2147483648,i,o+e)):isNaN(n)?(t(0,i,o+r),t(2146959360,i,o+e)):17976931348623157e292<n?(t(0,i,o+r),t((u<<31|2146435072)>>>0,i,o+e)):n<22250738585072014e-324?(t((s=n/5e-324)>>>0,i,o+r),t((u<<31|s/4294967296)>>>0,i,o+e)):(t(4503599627370496*(s=n*Math.pow(2,-(n=1024===(n=Math.floor(Math.log(n)/Math.LN2))?1023:n)))>>>0,i,o+r),t((u<<31|n+1023<<20|1048576*s&1048575)>>>0,i,o+e))}function g(t,r,e,n,i){return r=t(n,i+r),n=2*((t=t(n,i+e))>>31)+1,e=4294967296*(1048575&t)+r,2047==(i=t>>>20&2047)?e?NaN:1/0*n:0==i?5e-324*n*e:n*Math.pow(2,i-1075)*(e+4503599627370496)}function m(t,r,e){p[0]=t,r[e]=y[0],r[e+1]=y[1],r[e+2]=y[2],r[e+3]=y[3],r[e+4]=y[4],r[e+5]=y[5],r[e+6]=y[6],r[e+7]=y[7]}function w(t,r,e){p[0]=t,r[e]=y[7],r[e+1]=y[6],r[e+2]=y[5],r[e+3]=y[4],r[e+4]=y[3],r[e+5]=y[2],r[e+6]=y[1],r[e+7]=y[0]}function v(t,r){return y[0]=t[r],y[1]=t[r+1],y[2]=t[r+2],y[3]=t[r+3],y[4]=t[r+4],y[5]=t[r+5],y[6]=t[r+6],y[7]=t[r+7],p[0]}function x(t,r){return y[7]=t[r],y[6]=t[r+1],y[5]=t[r+2],y[4]=t[r+3],y[3]=t[r+4],y[2]=t[r+5],y[1]=t[r+6],y[0]=t[r+7],p[0]}return"undefined"!=typeof Float32Array?(a=new Float32Array([-0]),d=128===(c=new Uint8Array(a.buffer))[3],t.writeFloatLE=d?n:f,t.writeFloatBE=d?f:n,t.readFloatLE=d?h:l,t.readFloatBE=d?l:h):(t.writeFloatLE=r.bind(null,i),t.writeFloatBE=r.bind(null,o),t.readFloatLE=e.bind(null,s),t.readFloatBE=e.bind(null,u)),"undefined"!=typeof Float64Array?(p=new Float64Array([-0]),d=128===(y=new Uint8Array(p.buffer))[7],t.writeDoubleLE=d?m:w,t.writeDoubleBE=d?w:m,t.readDoubleLE=d?v:x,t.readDoubleBE=d?x:v):(t.writeDoubleLE=b.bind(null,i,0,4),t.writeDoubleBE=b.bind(null,o,4,0),t.readDoubleLE=g.bind(null,s,0,4),t.readDoubleBE=g.bind(null,u,4,0)),t}function i(t,r,e){r[e]=255&t,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24}function o(t,r,e){r[e]=t>>>24,r[e+1]=t>>>16&255,r[e+2]=t>>>8&255,r[e+3]=255&t}function s(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16|t[r+3]<<24)>>>0}function u(t,r){return(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3])>>>0}r.exports=n(n)},{}],5:[function(t,n,i){function r(t){try{var n=eval("require")(t);if(n&&(n.length||Object.keys(n).length))return n}catch(t){}return null}n.exports=r},{}],6:[function(t,r,e){r.exports=function(t,r,e){var n=e||8192,i=n>>>1,o=null,s=n;return function(e){return e<1||i<e?t(e):(n<s+e&&(o=t(n),s=0),e=r.call(o,s,s+=e),7&s&&(s=1+(7|s)),e)}}},{}],7:[function(t,r,e){e.length=function(t){for(var r,e=0,n=0;n<t.length;++n)(r=t.charCodeAt(n))<128?e+=1:r<2048?e+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(n+1))?(++n,e+=4):e+=3;return e},e.read=function(t,r,e){if(e-r<1)return"";for(var n,i=null,o=[],s=0;r<e;)(n=t[r++])<128?o[s++]=n:191<n&&n<224?o[s++]=(31&n)<<6|63&t[r++]:239<n&&n<365?(n=((7&n)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&t[r++])<<6|63&t[r++],8191<s&&((i=i||[]).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},e.write=function(t,r,e){for(var n,i,o=e,s=0;s<t.length;++s)(n=t.charCodeAt(s))<128?r[e++]=n:(n<2048?r[e++]=n>>6|192:(55296==(64512&n)&&56320==(64512&(i=t.charCodeAt(s+1)))?(++s,r[e++]=(n=65536+((1023&n)<<10)+(1023&i))>>18|240,r[e++]=n>>12&63|128):r[e++]=n>>12|224,r[e++]=n>>6&63|128),r[e++]=63&n|128);return e-o}},{}],8:[function(t,r,e){var n=e;function i(){n.util.n(),n.Writer.n(n.BufferWriter),n.Reader.n(n.BufferReader)}n.build="minimal",n.Writer=t(16),n.BufferWriter=t(17),n.Reader=t(9),n.BufferReader=t(10),n.util=t(15),n.rpc=t(12),n.roots=t(11),n.configure=i,i()},{10:10,11:11,12:12,15:15,16:16,17:17,9:9}],9:[function(t,r,e){r.exports=f;var n,i=t(15),o=i.LongBits,s=i.utf8;function u(t,r){return RangeError("index out of range: "+t.pos+" + "+(r||1)+" > "+t.len)}function f(t){this.buf=t,this.pos=0,this.len=t.length}function h(){return i.Buffer?function(t){return(f.create=function(t){return i.Buffer.isBuffer(t)?new n(t):a(t)})(t)}:a}var l,a="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new f(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new f(t);throw Error("illegal buffer")};function c(){var t=new o(0,0),r=0;if(!(4<this.len-this.pos)){for(;r<3;++r){if(this.pos>=this.len)throw u(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*r)>>>0,t}for(;r<4;++r)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(r=0,4<this.len-this.pos){for(;r<5;++r)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return t}else for(;r<5;++r){if(this.pos>=this.len)throw u(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function p(t,r){return(t[r-4]|t[r-3]<<8|t[r-2]<<16|t[r-1]<<24)>>>0}function y(){if(this.pos+8>this.len)throw u(this,8);return new o(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}f.create=h(),f.prototype.i=i.Array.prototype.subarray||i.Array.prototype.slice,f.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128||(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128||(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128||(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128||!((this.pos+=5)>this.len))))))return l;throw this.pos=this.len,u(this,10)}),f.prototype.int32=function(){return 0|this.uint32()},f.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},f.prototype.bool=function(){return 0!==this.uint32()},f.prototype.fixed32=function(){if(this.pos+4>this.len)throw u(this,4);return p(this.buf,this.pos+=4)},f.prototype.sfixed32=function(){if(this.pos+4>this.len)throw u(this,4);return 0|p(this.buf,this.pos+=4)},f.prototype.float=function(){if(this.pos+4>this.len)throw u(this,4);var t=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},f.prototype.double=function(){if(this.pos+8>this.len)throw u(this,4);var t=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},f.prototype.bytes=function(){var t=this.uint32(),r=this.pos,e=this.pos+t;if(e>this.len)throw u(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,e):r===e?(t=i.Buffer)?t.alloc(0):new this.buf.constructor(0):this.i.call(this.buf,r,e)},f.prototype.string=function(){var t=this.bytes();return s.read(t,0,t.length)},f.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw u(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw u(this)}while(128&this.buf[this.pos++]);return this},f.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},f.n=function(t){n=t,f.create=h(),n.n();var r=i.Long?"toLong":"toNumber";i.merge(f.prototype,{int64:function(){return c.call(this)[r](!1)},uint64:function(){return c.call(this)[r](!0)},sint64:function(){return c.call(this).zzDecode()[r](!1)},fixed64:function(){return y.call(this)[r](!0)},sfixed64:function(){return y.call(this)[r](!1)}})}},{15:15}],10:[function(t,r,e){r.exports=o;var n=t(9),i=((o.prototype=Object.create(n.prototype)).constructor=o,t(15));function o(t){n.call(this,t)}o.n=function(){i.Buffer&&(o.prototype.i=i.Buffer.prototype.slice)},o.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},o.n()},{15:15,9:9}],11:[function(t,r,e){r.exports={}},{}],12:[function(t,r,e){e.Service=t(13)},{13:13}],13:[function(t,r,e){r.exports=i;var n=t(15);function i(t,r,e){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!r,this.responseDelimited=!!e}((i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i).prototype.rpcCall=function t(r,e,i,o,s){if(!o)throw TypeError("request must be specified");var u=this;if(!s)return n.asPromise(t,u,r,e,i,o);if(!u.rpcImpl)return setTimeout((function(){s(Error("already ended"))}),0),d;try{return u.rpcImpl(r,e[u.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(t,e){if(t)return u.emit("error",t,r),s(t);if(null===e)return u.end(!0),d;if(!(e instanceof i))try{e=i[u.responseDelimited?"decodeDelimited":"decode"](e)}catch(t){return u.emit("error",t,r),s(t)}return u.emit("data",e,r),s(null,e)}))}catch(t){return u.emit("error",t,r),setTimeout((function(){s(t)}),0),d}},i.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},{15:15}],14:[function(t,r,e){r.exports=i;var n=t(15);function i(t,r){this.lo=t>>>0,this.hi=r>>>0}var o=i.zero=new i(0,0),s=(o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1},i.zeroHash="\0\0\0\0\0\0\0\0",i.fromNumber=function(t){var r,e;return 0===t?o:(e=(t=(r=t<0)?-t:t)>>>0,t=(t-e)/4294967296>>>0,r&&(t=~t>>>0,e=~e>>>0,4294967295<++e&&(e=0,4294967295<++t&&(t=0))),new i(e,t))},i.from=function(t){if("number"==typeof t)return i.fromNumber(t);if(n.isString(t)){if(!n.Long)return i.fromNumber(parseInt(t,10));t=n.Long.fromString(t)}return t.low||t.high?new i(t.low>>>0,t.high>>>0):o},i.prototype.toNumber=function(t){var r;return!t&&this.hi>>>31?(t=1+~this.lo>>>0,r=~this.hi>>>0,-(t+4294967296*(r=t?r:r+1>>>0))):this.lo+4294967296*this.hi},i.prototype.toLong=function(t){return n.Long?new n.Long(0|this.lo,0|this.hi,!!t):{low:0|this.lo,high:0|this.hi,unsigned:!!t}},String.prototype.charCodeAt);i.fromHash=function(t){return"\0\0\0\0\0\0\0\0"===t?o:new i((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},i.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},i.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,e=this.hi>>>24;return 0==e?0==r?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:e<128?9:10}},{15:15}],15:[function(t,r,e){var n=e;function i(t,r,e){for(var n=Object.keys(r),i=0;i<n.length;++i)t[n[i]]!==d&&e||(t[n[i]]=r[n[i]]);return t}function o(t){function r(t,e){if(!(this instanceof r))return new r(t,e);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,r):Object.defineProperty(this,"stack",{value:Error().stack||""}),e&&i(this,e)}return r.prototype=Object.create(Error.prototype,{constructor:{value:r,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return t},set:d,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),r}n.asPromise=t(1),n.base64=t(2),n.EventEmitter=t(3),n.float=t(4),n.inquire=t(5),n.utf8=t(7),n.pool=t(6),n.LongBits=t(14),n.isNode=!!("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},n.isString=function(t){return"string"==typeof t||t instanceof String},n.isObject=function(t){return t&&"object"==typeof t},n.isset=n.isSet=function(t,r){var e=t[r];return null!=e&&t.hasOwnProperty(r)&&("object"!=typeof e||0<(Array.isArray(e)?e:Object.keys(e)).length)},n.Buffer=function(){try{var t=n.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),n.r=null,n.u=null,n.newBuffer=function(t){return"number"==typeof t?n.Buffer?n.u(t):new n.Array(t):n.Buffer?n.r(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(t){return t?n.LongBits.from(t).toHash():n.LongBits.zeroHash},n.longFromHash=function(t,r){return t=n.LongBits.fromHash(t),n.Long?n.Long.fromBits(t.lo,t.hi,r):t.toNumber(!!r)},n.merge=i,n.lcFirst=function(t){return(t[0]||"").toLowerCase()+t.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(t){for(var r={},e=0;e<t.length;++e)r[t[e]]=1;return function(){for(var t=Object.keys(this),e=t.length-1;-1<e;--e)if(1===r[t[e]]&&this[t[e]]!==d&&null!==this[t[e]])return t[e]}},n.oneOfSetter=function(t){return function(r){for(var e=0;e<t.length;++e)t[e]!==r&&delete this[t[e]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n.n=function(){var t=n.Buffer;t?(n.r=t.from!==Uint8Array.from&&t.from||function(r,e){return new t(r,e)},n.u=t.allocUnsafe||function(r){return new t(r)}):n.r=n.u=null}},{1:1,14:14,2:2,3:3,4:4,5:5,6:6,7:7}],16:[function(t,r,e){r.exports=a;var n,i=t(15),o=i.LongBits,s=i.base64,u=i.utf8;function f(t,r,e){this.fn=t,this.len=r,this.next=d,this.val=e}function h(){}function l(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function a(){this.len=0,this.head=new f(h,0,0),this.tail=this.head,this.states=null}function c(){return i.Buffer?function(){return(a.create=function(){return new n})()}:function(){return new a}}function p(t,r,e){r[e]=255&t}function y(t,r){this.len=t,this.next=d,this.val=r}function b(t,r,e){for(;t.hi;)r[e++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;127<t.lo;)r[e++]=127&t.lo|128,t.lo=t.lo>>>7;r[e++]=t.lo}function g(t,r,e){r[e]=255&t,r[e+1]=t>>>8&255,r[e+2]=t>>>16&255,r[e+3]=t>>>24}a.create=c(),a.alloc=function(t){return new i.Array(t)},i.Array!==Array&&(a.alloc=i.pool(a.alloc,i.Array.prototype.subarray)),a.prototype.e=function(t,r,e){return this.tail=this.tail.next=new f(t,r,e),this.len+=r,this},(y.prototype=Object.create(f.prototype)).fn=function(t,r,e){for(;127<t;)r[e++]=127&t|128,t>>>=7;r[e]=t},a.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new y((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},a.prototype.int32=function(t){return t<0?this.e(b,10,o.fromNumber(t)):this.uint32(t)},a.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},a.prototype.int64=a.prototype.uint64=function(t){return t=o.from(t),this.e(b,t.length(),t)},a.prototype.sint64=function(t){return t=o.from(t).zzEncode(),this.e(b,t.length(),t)},a.prototype.bool=function(t){return this.e(p,1,t?1:0)},a.prototype.sfixed32=a.prototype.fixed32=function(t){return this.e(g,4,t>>>0)},a.prototype.sfixed64=a.prototype.fixed64=function(t){return t=o.from(t),this.e(g,4,t.lo).e(g,4,t.hi)},a.prototype.float=function(t){return this.e(i.float.writeFloatLE,4,t)},a.prototype.double=function(t){return this.e(i.float.writeDoubleLE,8,t)};var m=i.Array.prototype.set?function(t,r,e){r.set(t,e)}:function(t,r,e){for(var n=0;n<t.length;++n)r[e+n]=t[n]};a.prototype.bytes=function(t){var r,e=t.length>>>0;return e?(i.isString(t)&&(r=a.alloc(e=s.length(t)),s.decode(t,r,0),t=r),this.uint32(e).e(m,e,t)):this.e(p,1,0)},a.prototype.string=function(t){var r=u.length(t);return r?this.uint32(r).e(u.write,r,t):this.e(p,1,0)},a.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new f(h,0,0),this.len=0,this},a.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(h,0,0),this.len=0),this},a.prototype.ldelim=function(){var t=this.head,r=this.tail,e=this.len;return this.reset().uint32(e),e&&(this.tail.next=t.next,this.tail=r,this.len+=e),this},a.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),e=0;t;)t.fn(t.val,r,e),e+=t.len,t=t.next;return r},a.n=function(t){n=t,a.create=c(),n.n()}},{15:15}],17:[function(t,r,e){r.exports=o;var n=t(16),i=((o.prototype=Object.create(n.prototype)).constructor=o,t(15));function o(){n.call(this)}function s(t,r,e){t.length<40?i.utf8.write(t,r,e):r.utf8Write?r.utf8Write(t,e):r.write(t,e)}o.n=function(){o.alloc=i.u,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(t,r,e){r.set(t,e)}:function(t,r,e){if(t.copy)t.copy(r,e,0,t.length);else for(var n=0;n<t.length;)r[e++]=t[n++]}},o.prototype.bytes=function(t){var r=(t=i.isString(t)?i.r(t,"base64"):t).length>>>0;return this.uint32(r),r&&this.e(o.writeBytesBuffer,r,t),this},o.prototype.string=function(t){var r=i.Buffer.byteLength(t);return this.uint32(r),r&&this.e(s,r,t),this},o.n()},{15:15,16:16}]},u={},n=function t(e){var n=u[e];return n||r[e][0].call(n=u[e]={exports:{}},t,n,n.exports),n.exports}(8),n.util.global.protobuf=n,"function"==typeof define&&define.amd&&define(["long"],(function(t){return t&&t.isLong&&(n.util.Long=t,n.configure()),n})),"object"==typeof module&&module&&module.exports&&(module.exports=n)}(),_cjsExports=exports("default",module.exports)}),{})}}}));

System.register("chunks:///_virtual/RedDot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMng.ts","./Constant.ts","./CfgMng.ts","./GameCtr.ts"],(function(t){var e,a,r,o,i,n,p,s,c,d,l,u,y,f,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,n=t._decorator,p=t.Node,s=t.Enum,c=t.Component},function(t){d=t.EventMng},function(t){l=t.ERedDotType,u=t.EGameEvent,y=t.EItemType},function(t){f=t.default},function(t){D=t.default}],execute:function(){var h,b,v,R,g,m,T;i._RF.push({},"e1d5f9pSNFHxqfoB9yB8j4W","RedDot",void 0);var E=n.ccclass,k=n.property;i._RF.push({},"59115MEIodHpqbFZRVKEQJb","RedDot",void 0);t("RedDot",(h=E("RedDot"),b=k({type:p}),v=k({type:[s(l)]}),h((m=e((g=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return e=t.call.apply(t,[this].concat(i))||this,r(e,"dot",m,o(e)),r(e,"redDotTypes",T,o(e)),e}a(e,t);var i=e.prototype;return i.start=function(){d.on(u.REDDOT_UPDATE,this.updateState.bind(this),this),this.updateRedState()},i.onDestroy=function(){d.off(u.REDDOT_UPDATE,this.updateState.bind(this),this)},i.updateState=function(t){this.dot&&(t&&-1===this.redDotTypes.indexOf(t)||this.updateRedState())},i.updateRedState=function(){for(var t=!1,a=0;a<this.redDotTypes.length;a++){var r=this.redDotTypes[a];if(t=e.checkRedhotActive(r))break}this.dot.active=t},e.checkRedhotActive=function(t){var e=!1;switch(t){case l.Factory:var a=D.playData.goldNum,r=D.playData.getUnlockPropertyIds();for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var i=D.playData.getGoldPropertyLv(o);if(f.getLvUpGoldPrice(o,i)<=a){e=!0;break}}break;case l.Card:e=!1;for(var n=D.playData.cardSlotNum,p=0;p<n;p++)if(!D.playData.equipCards[p]){e=!0;break}break;case l.Lab:e=D.playData.getEmptyLabAttSlotIndex()>-1;break;case l.Shop:e=!D.playData.isGetFreeGift||!D.playData.isGetShopFreeDiamond||D.playData.isFreeBuyCard;break;case l.Turntable:e=D.playData.getResItemNum(y.TurntableKey)>0;break;case l.OnlineTimeReward:e=D.playData.isHasOnlineTimeRewardGet}return e},e}(c)).prototype,"dot",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(g.prototype,"redDotTypes",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),R=g))||R));i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/RenderTextureSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,u,o,p,a,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){u=e.cclegacy,o=e._decorator,p=e.RenderTexture,a=e.SpriteFrame,c=e.Sprite}],execute:function(){var s,l,d,f,x;u._RF.push({},"99fbfHiIfhDJbV2/Ja+JtWO","RenderTextureSprite",void 0);var h=o.ccclass,T=o.property;u._RF.push({},"50b77zsTcBHs6HxsM8m0icH","RenderTextureSprite",void 0);e("RenderTextureSprite",(s=h("RenderTextureSprite"),l=T({type:p}),s((x=r((f=function(e){function r(){for(var r,t=arguments.length,u=new Array(t),o=0;o<t;o++)u[o]=arguments[o];return r=e.call.apply(e,[this].concat(u))||this,i(r,"renderTexture",x,n(r)),r}return t(r,e),r.prototype.start=function(){var e=new a;e.texture=this.renderTexture,this.spriteFrame=e},r}(c)).prototype,"renderTexture",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/ResConfig.ts",["cc"],(function(o){var t;return{setters:[function(o){t=o.cclegacy}],execute:function(){t._RF.push({},"94ac7AFnslHyJ+WuKdEw29N","ResConfig",void 0),t._RF.push({},"85828Vc9h5JpLWfxFDbR5IM","ResConfig",void 0);o("EResBundleName",function(o){return o.Common="common",o.Start="start",o.Home="home",o.Play="play",o}({})),o("EEditorBundleName",function(o){return o.Editor="editorUI",o.EditorRes="editorRes",o.EditorConfig="editorConfig",o}({})),o("EUILayer",function(o){return o[o.Root=1]="Root",o[o.Normal=2]="Normal",o[o.Top=3]="Top",o}({}));t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/ResLoadHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResConfig.ts","./LoadHelper.ts"],(function(e){var r,n,t,u,a,o;return{setters:[function(e){r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){t=e.cclegacy,u=e.isValid},function(e){a=e.EResBundleName},function(e){o=e.default}],execute:function(){t._RF.push({},"17eb5+haCJN9rw8ntHVynG3","ResLoadHelper",void 0),t._RF.push({},"e1662MBB4RMXo3N4EWPNXww","ResLoadHelper",void 0);e("default",new(function(){function e(){}var t=e.prototype;return t.loadItemIcon=function(){var e=r(n().mark((function e(r,t){var c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.loadSpriteFrame("texture/item_"+r,a.Common);case 2:return c=e.sent,e.abrupt("return",u(t)?c:null);case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),t.loadSkillIcon=function(){var e=r(n().mark((function e(r,t){var c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.loadSpriteFrame("texture/"+r,a.Common);case 2:return c=e.sent,e.abrupt("return",u(t)?c:null);case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),t.loadSkillPrefab=function(){var e=r(n().mark((function e(r,t){var c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.loadPrefab("skill/"+r,a.Play);case 2:return c=e.sent,e.abrupt("return",u(t)?c:null);case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),t.loadEnermyPrefab=function(){var e=r(n().mark((function e(r,t){var c;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.loadPrefab("enermy/"+r,a.Play);case 2:return c=e.sent,e.abrupt("return",u(t)?c:null);case 4:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}(),e}()));t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/ResNumLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./LoadHelper.ts","./UIMng.ts","./UIHelp.ts","./EventMng.ts","./ResConfig.ts","./GameCtr.ts","./AudioMng.ts","./NumUpdateNode.ts"],(function(e){var t,n,o,i,a,r,s,l,u,c,d,p,f,h,m,y,v,I,U,b,g,C,N,w,R,S,_,L,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Node,c=e.Prefab,d=e.AudioClip,p=e.instantiate,f=e.Component,h=e.UITransform,m=e.v3,y=e.view,v=e.tween,I=e.Tween,U=e.NodePool},function(e){b=e.EItemType,g=e.EGameEvent},function(e){C=e.default},function(e){N=e.UIMng},function(e){w=e.default},function(e){R=e.EventMng},function(e){S=e.EResBundleName},function(e){_=e.default},function(e){L=e.AudioMng},function(e){M=e.NumUpdateNode}],execute:function(){var D,E,x,P,H,T,k,A,G,z,O,B;s._RF.push({},"1f4df2oMQBOlprH0MXHMhEo","ResNumLayer",void 0);var F=l.ccclass,X=l.property;s._RF.push({},"b70c5XommJEMagEZ75QHXkm","ResNumLayer",void 0);var K={UIHome:[b.Gold,b.Diamond,b.Crystal],UICardInfo:[b.Diamond],UICardMachine:[b.Diamond],UIResult:[b.Gold,b.Diamond,b.Crystal],UIIdleReward:[b.Gold,b.Diamond,b.Crystal],UISelectSkill:[b.Diamond],UITurntable:[b.Gold,b.Diamond,b.Crystal,b.TurntableKey],UIAddRes:[b.Diamond,b.Gold,b.Crystal],UIGM:[b.Gold,b.Diamond,b.Crystal,b.TurntableKey]},Q=["UIGuide","UIRewardGet"];e("ResNumLayer",(D=F("ResNumLayer"),E=X({type:u}),x=X({type:c}),P=X({type:u}),H=X({type:[d]}),D(((B=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"resCollectNode",A,i(t)),o(t,"numUpdatePrefab",G,i(t)),o(t,"numNodeLayout",z,i(t)),o(t,"audioClips",O,i(t)),t._iconNodePools=[],t._showUINames=[],t._numUpdateNodes={},t}n(t,e),t.init=function(){var e=a(r().mark((function e(){var n,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ins){e.next=8;break}return e.next=3,C.loadPrefab("prefabs/resLayer",S.Common);case 3:n=e.sent,(o=p(n)).parent=N.ins.node,w.setZIndex(o,1e3),t.ins.node.active=!1;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var s=t.prototype;return s.onLoad=function(){t.ins=this,R.on(g.UI_SHOW,this.onUIShow.bind(this),this),R.on(g.UI_HIDE,this.onUIHide.bind(this),this),R.on(g.RES_COLLECT,this.onCollectRes.bind(this),this)},s.onDestroy=function(){R.off(g.UI_SHOW,this.onUIShow.bind(this),this),R.off(g.UI_HIDE,this.onUIHide.bind(this),this),R.off(g.RES_COLLECT,this.onCollectRes.bind(this),this)},s.onUIShow=function(e){this.checkUIShow(e)},s.onUIHide=function(e){var t=N.ins.getTopUIName();this.checkUIShow(t)},s.checkUIShow=function(e){if(void 0===e&&(e=""),!(Q.indexOf(e)>=0)){var t=K[e];if(t){this.node.active=!0,this.numNodeLayout.children.forEach((function(e){e.active=!1}));for(var n=0;n<t.length;n++){var o=t[n],i=this._numUpdateNodes[o];i||((i=p(this.numUpdatePrefab).getComponent(M)).node.parent=this.numNodeLayout,i.init(o),this._numUpdateNodes[o]=i),i.node.active=!0}}else this.node.active=!1}},s.onCollectRes=function(e){var t=[];e.forEach((function(e){if(!(e.num<=0)){var n=t.findIndex((function(t){return t.id===e.id}));n<0?t.push(e):t[n].num+=e.num}}));for(var n=0;n<t.length;n++){var o=t[n];this.playCollectAct(o.id,o.num)}},s.playCollectAct=function(){var e=a(r().mark((function e(t,n){var o,i,a,s,l,u,c,d,f,b,g,C,N,R=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this._numUpdateNodes[t]){e.next=3;break}return e.abrupt("return");case 3:i=_.playData.getResItemNum(t),a=i-n,s=o.iconSprite.node,(l=o.numLab).string=a.toLocaleString(),u=n<20?n:Math.min(50,Math.max(20,Math.floor(n/1e3))),c=Math.ceil(n/u),d=this.getComponent(h),f=d.convertToNodeSpaceAR(m(.5*y.getVisibleSize().width,.5*y.getVisibleSize().height,0)),b=d.convertToNodeSpaceAR(s.worldPosition),g=s.scale.clone(),C=r().mark((function e(){var n,o,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.onDelayPromise(.03,R);case 2:(o=null==(n=R._iconNodePools[t])?void 0:n.get())||(o=p(s)),(d=N%2==0)&&L.playAudioClip(R.audioClips[0]),o.parent=R.resCollectNode,o.setSiblingIndex(0),o.position=f.clone().add3f(400*(Math.random()-.5),400*(Math.random()-.5),0),o.scale=m(0,0,0),v(o).to(.05,{scale:m(1.2,1.2,1.2)}).delay(.05*u).to(.5,{position:b,scale:m(1,1,1).multiplyScalar(.7)},{easing:"sineOut"}).call((function(){var e;d&&L.playAudioClip(R.audioClips[1]),I.stopAllByTarget(s),v(s).to(.05,{scale:g.clone().multiplyScalar(1.1)}).to(.05,{scale:g.clone()}).start(),a+=c,l.string=Math.min(a,i).toLocaleString(),R._iconNodePools[t]||(R._iconNodePools[t]=new U),null==(e=R._iconNodePools[t])||e.put(o)})).start();case 11:case"end":return e.stop()}}),e)})),N=0;case 16:if(!(N<u)){e.next=21;break}return e.delegateYield(C(),"t0",18);case 18:N++,e.next=16;break;case 21:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t}(f)).ins=null,A=t((k=B).prototype,"resCollectNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(k.prototype,"numUpdatePrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(k.prototype,"numNodeLayout",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(k.prototype,"audioClips",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=k))||T));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/ResultItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,u,a,c,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,u=e._decorator,a=e.Label,c=e.Sprite,l=e.SpriteFrame,s=e.Component}],execute:function(){var p,m,f,y,b,h,g,F,R;o._RF.push({},"0464eooD5ZEZL4BI+uA9jyj","ResultItem",void 0);var v=u.ccclass,L=u.property;o._RF.push({},"16036Pot2ZGYYH1LpMce5YT","ResultItem",void 0);e("ResultItem",(p=v("ResultItem"),m=L({type:a}),f=L({type:c}),y=L({type:[l]}),p((g=t((h=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return t=e.call.apply(e,[this].concat(o))||this,r(t,"numLab",g,n(t)),r(t,"icon",F,n(t)),r(t,"iconFrames",R,n(t)),t}i(t,e);var o=t.prototype;return o.start=function(){},o.init=function(e){this.numLab.string=e.num.toString(),this.icon.spriteFrame=this.iconFrames[e.id]},t}(s)).prototype,"numLab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(h.prototype,"icon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(h.prototype,"iconFrames",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=h))||b));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/RotateToggle.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,n,a,i,r,l,c,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,l=t.Node,c=t.Toggle,s=t.Component}],execute:function(){var u,g,p,h,R;i._RF.push({},"6618eR++J5HBb3anioiUQGn","RotateToggle",void 0);var d=r.ccclass,f=r.property;i._RF.push({},"3845cmxUwFOTpcOmik1SRvw","RotateToggle",void 0);t("RotateToggle",(u=d("RotateToggle"),g=f(l),u((R=e((h=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,n(e,"rotateNode",R,a(e)),e}o(e,t);var i=e.prototype;return i.onLoad=function(){this.node.on("toggle",this.autoChangeRotate,this),this.autoChangeRotate()},i.autoChangeRotate=function(){var t=this.node.getComponent(c);this.rotateNode.setRotationFromEuler(0,0,t.isChecked?0:90)},e}(s)).prototype,"rotateNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h))||p));i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/Satellite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FightNode.ts","./ComFun.ts","./EnermyBase.ts","./EffectBase.ts","./TurrentPropertyCtr.ts","./Constant.ts"],(function(t){var e,n,i,r,o,s,a,c,u,l,f,h,p,m,d,b,_,g,y,v,E,N,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){c=t.cclegacy,u=t._decorator,l=t.v2,f=t.Node,h=t.Prefab,p=t.Collider2D,m=t.Contact2DType,d=t.v3,b=t.Component,_=t.instantiate},function(t){g=t.FightNode},function(t){y=t.default},function(t){v=t.EnermyBase},function(t){E=t.EffectBase},function(t){N=t.default},function(t){D=t.ETurretPropertyId}],execute:function(){var C,P,T,R,B,S,k;c._RF.push({},"671c8ei8o5M9rM9kgBT/Vid","Satellite",void 0);var w=u.ccclass,x=u.property;c._RF.push({},"fe7abxSkslHe4CB0bvJevW2","Satellite",void 0);var A=l();t("Satellite",(C=w("Satellite"),P=x({type:f}),T=x({type:h}),C((S=e((B=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,i(e,"satelliteNode",S,r(e)),i(e,"bombEffectPrefab",k,r(e)),e._centerDisNum=0,e._centerDisEndNum=0,e._curRotateAngle=0,e._bombEffect=null,e._dmgPer=0,e._stunTime=0,e}n(e,t);var c=e.prototype;return c.start=function(){var t=this.satelliteNode.getComponent(p);t&&t.on(m.BEGIN_CONTACT,this.onBeginContact,this),this.init()},c.onBeginContact=function(t,e){console.log("碰撞卫星",e.group),this.onCollision(e.getComponent(v))},c.init=function(){this.node.position=d(0,0,0),this.satelliteNode.active=!0,this._centerDisNum=0,this._centerDisEndNum=g.ins.fortreeRole.attackRange},c.onCollision=function(){var t=s(a().mark((function t(e){var n=this;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&!g.ins.fortreeRole.isDead){t.next=2;break}return t.abrupt("return");case 2:return e.onBeHit(this._dmgPer*N.getPropertyValue(D.Atk)),e.isDead||e.onStun(this._stunTime),this.satelliteNode.active=!1,t.next=7,this.showBombEffect();case 7:this.scheduleOnce((function(){n.init()}),this.rebirthTime/Math.max(1,g.ins.curPlaySpeed));case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),c.update=function(t){if(this.satelliteNode.active&&!g.ins.fortreeRole.isDead){this._centerDisNum!==this._centerDisEndNum&&(this._centerDisNum+=60*t*g.ins.curPlaySpeed,this._centerDisNum>=this._centerDisEndNum&&(this._centerDisNum=this._centerDisEndNum));var e=this._curRotateAngle+60*t*g.ins.curPlaySpeed;this._curRotateAngle=e>360?e-360:e,A.set(this._centerDisNum,0).rotate(y.angleToRadian(this._curRotateAngle)),this.node.position=d(A.x,A.y,0)}},c.showBombEffect=function(){var t=s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._bombEffect||(this._bombEffect=_(this.bombEffectPrefab).getComponent(E),this._bombEffect.node.parent=this.node),this._bombEffect.node.active=!0,t.next=4,this._bombEffect.onShow();case 4:this._bombEffect.node.active=!1;case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o(e,[{key:"dmgPer",set:function(t){this._dmgPer=t}},{key:"stunTime",set:function(t){this._stunTime=t}},{key:"rebirthTime",get:function(){return 3}}]),e}(b)).prototype,"satelliteNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(B.prototype,"bombEffectPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=B))||R));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/ScaleFullBg.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,l,i,n,o,r,u,c,a,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,l=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,u=e.UITransform,c=e.view,a=e.Vec3,s=e.Component}],execute:function(){var p,f,h,g,d,v,y;o._RF.push({},"66755LOMtxFxrcig7cGPeUx","ScaleFullBg",void 0);var b=r.ccclass,F=r.property;o._RF.push({},"af5ffQJrElC76KjAU4/XHxb","ScaleFullBg",void 0);e("ScaleFullBg",(p=b("ScaleFullBg"),f=F({tooltip:"x方向适配"}),h=F({tooltip:"y方向适配"}),p((v=t((d=function(e){function t(){for(var t,l=arguments.length,o=new Array(l),r=0;r<l;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"fullX",v,n(t)),i(t,"fullY",y,n(t)),t}return l(t,e),t.prototype.start=function(){var e,t=null==(e=this.getComponent(u))?void 0:e.contentSize,l=c.getVisibleSize(),i=(null==l?void 0:l.width)/t.width,n=(null==l?void 0:l.height)/t.height,o=1;this.fullX&&this.fullY?o=Math.min(i,n):this.fullX?o=i:this.fullY&&(o=n),this.node.scale=new a(o,o,o),console.log(this.node.scale,c.getVisibleSize())},t}(s)).prototype,"fullX",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=t(d.prototype,"fullY",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=d))||g));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/SdkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./GameCtr.ts","./UIMng.ts","./UIRateApp.ts","./ComFun.ts","./WaitUI.ts","./TipsCtr.ts","./EventMng.ts"],(function(e){var t,n,a,r,o,s,i,c,u,l,h,g,d,p,f,m,v;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.native,s=e.director},function(e){i=e.EGamePlatform,c=e.EStageEventName,u=e.ETJEventName,l=e.EGameEvent},function(e){h=e.default},function(e){g=e.UIMng},function(e){d=e.UIRateApp},function(e){p=e.default},function(e){f=e.WaitUI},function(e){m=e.TipsCtr},function(e){v=e.EventMng}],execute:function(){r._RF.push({},"4fb05SQ6QBE8bSN+Ihv5hB5","SdkManager",void 0),r._RF.push({},"c59af7lyyVEPIH/6uIhUOmT","SdkManager",void 0);var S=e("RecordStep",function(e){return e.start="start",e.pause="pause",e.resume="resume",e.stop="stop",e.share="share",e}({})),_=e("EVideoRecordState",function(e){return e[e.None=0]="None",e[e.Recording=1]="Recording",e[e.CanShare=2]="CanShare",e[e.Sharing=3]="Sharing",e}({}));e("default",new(function(){function e(){this._code="",this._anonymousCode="",this._query=null,this.channelId="",this._userId="",this._gameRecorderManager=null,this._videoPath="",this._stopEndFun=null,this._videoShareState=_.None,this._startRecorderTime=0,this._recorderTime=0,this._initAndroidCb=null,this._videoCallBack=null,this._purchaseCallBack=null}var r=e.prototype;return r.init=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=h.platform,e.next=e.t0===i.TT?3:e.t0===i.WeChat||e.t0===i.KS?5:e.t0===i.QQ?7:e.t0===i.OPPO?9:e.t0===i.VIVO?11:e.t0===i.Android?13:e.t0===i.IOS?16:e.t0===i.UC?19:21;break;case 3:return this.initTT(),e.abrupt("break",21);case 5:return this.initWX(),e.abrupt("break",21);case 7:return this.initQQ(),e.abrupt("break",21);case 9:return this.initOPPO(),e.abrupt("break",21);case 11:return this.initVIVO(),e.abrupt("break",21);case 13:return e.next=15,this.initAndroid();case 15:return e.abrupt("break",21);case 16:return e.next=18,this.initIOS();case 18:return e.abrupt("break",21);case 19:return this.initUC(),e.abrupt("break",21);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.login=function(){var e=this;return new Promise((function(t,n){switch(h.platform){case i.TT:e.loginTT().then((function(){return t()})).catch((function(){return t()}));break;case i.WeChat:e.loginWX().then((function(){return t()})).catch((function(){return t()}));break;case i.OPPO:e.loginOPPO().then((function(){return t()})).catch((function(){return t()}));break;case i.VIVO:e.loginVIVO().then((function(){return t()})).catch((function(){return t()}))}}))},r.sendEvent=function(e,t){switch(h.platform){case i.TT:tt.reportAnalytics(e,t),tt.uma&&tt.uma.trackEvent&&tt.uma.trackEvent(e,t);break;case i.WeChat:case i.KS:wx.uma&&wx.uma.trackEvent(e,t),wx.reportEvent&&wx.reportEvent(e,t);break;case i.QQ:qq.uma&&qq.uma.trackEvent&&qq.uma.trackEvent(e,t);break;case i.OPPO:case i.VIVO:break;case i.Android:this.sendEventAndroid(e,t)}},r.sendStageEventBegin=function(e){switch(this.sendEvent(c.StageBegin,{id:e}),h.platform){case i.WeChat:case i.KS:wx.uma&&wx.uma.stage.onStart({stageId:e+"",stageName:e+""});break;case i.TT:tt.uma&&tt.uma.stage&&tt.uma.stage.onStart({stageId:e+"",stageName:e+""})}},r.sendStageEventEnd=function(e,t,n,a){switch(void 0===t&&(t=!1),void 0===a&&(a=0),this.sendEvent(t?c.StagePass:c.StageFail,{id:e,num:n,time:a}),h.platform){case i.WeChat:case i.KS:wx.uma&&wx.uma.stage.onEnd({stageId:e+"",stageName:e+"",event:t?"complete":"fail",_um_sdu:a});break;case i.TT:tt.uma&&tt.uma.stage&&tt.uma.stage.onEnd({stageId:e+"",stageName:e+"",event:t?"complete":"fail",_um_sdu:a})}},r.sendStageEventRun=function(e,t,n){switch(void 0===t&&(t="tools"),this.sendEvent(c.StageRun,{id:e,event:t}),h.platform){case i.WeChat:case i.KS:wx.uma&&wx.uma.stage.onRunning({stageId:e+"",stageName:e+"",event:t,params:n});break;case i.TT:tt.uma&&tt.uma.stage&&tt.uma.stage.onRunning({stageId:e+"",stageName:e+"",event:t,params:n})}},r.sendPlayerInitLv=function(e){switch(h.platform){case i.WeChat:case i.KS:wx.uma&&wx.uma.level.onInitLevel({levelId:e+"",levelName:"等级"+e});break;case i.TT:tt.uma&&tt.uma.level&&tt.uma.level.onInitLevel({levelId:e+"",levelName:"等级"+e})}},r.sendPlayerUpLv=function(e){switch(this.sendEvent(u.LvUp,{lv:e}),h.platform){case i.WeChat:case i.KS:wx.uma&&wx.uma.level.onSetLevel({levelId:e+"",levelName:"等级"+e});break;case i.TT:tt.uma&&tt.uma.level&&tt.uma.level.onSetLevel({levelId:e+"",levelName:"等级"+e})}},r.sendNewPlayerEvent=function(e){this.sendEvent(u.NewPlayer,{step:e})},r.initTT=function(){var e=this;console.log("tt init"),tt.setKeepScreenOn({keepScreenOn:!0,success:function(e){return console.log("setKeepScreenOn success ",e)},fail:function(e){return console.log("setKeepScreenOn fail ",e)}}),tt.showShareMenu&&tt.showShareMenu({success:function(){return console.log("已成功显示转发按钮")},fail:function(e){return console.log("showShareMenu 调用失败",e.errMsg)},complete:function(){return console.log("showShareMenu 调用完成")}}),tt.onShareAppMessage((function(){var t=e.getSelfQuery(),n=h.playCf.topic||"热门游戏",a=h.playCf.templateId||"";return a&&a.length>0?{templateId:h.playCf.templateId,query:t,extra:{videoTopics:[n]},success:function(){return console.log("分享成功")},fail:function(e){return console.log("分享失败",e)}}:{title:h.playCf.video_title||"听说只有1%的人能通关",imageUrl:h.playCf.shareUrl||"",query:t,extra:{videoTopics:[n]},success:function(){return console.log("分享成功")},fail:function(e){return console.log("分享失败",e)}}})),tt.onShow((function(e){console.log("启动参数如下：",e),e&&e.launch_from&&e.location&&"homepage"==e.launch_from&&"sidebar_card"==e.location&&v.emit(l.TT_SIDEBAR_ENTER)})),this.loginTT().then((function(){return console.log("登录成功")}))},r.loginTT=function(){var e=this;return console.log("tt login"),new Promise((function(t,n){var a={force:!1,success:function(n){console.log(n.code,n.anonymousCode),e._code=n.code,e._anonymousCode=n.anonymousCode,t(!0)},fail:function(e){console.log("login =======",e),n("登录失败!")}};tt.canIUse("login")?tt.login(a):t(!0)}))},r.getSelfQuery=function(){var e="channelId="+this.channelId;return"1".length>0&&(e+="&charId=1"),e},r.sendLaunchData=function(){if(this.sdk){var e=this.sdk.getLaunchOptionsSync();e&&e.query&&e.query.channelId&&(this.channelId=e.query.channelId||""),this._query=e.query}},r.loadOk=function(){this.sendLaunchData()},r.getCode=function(){return this._code},r.getAnonymousCode=function(){return this._anonymousCode},r.startRecord=function(){var e=this,t=function(){e._videoShareState=_.Recording,e.gameRecorder(S.start)};this._videoShareState==_.Recording?this.gameRecorder(S.stop,(function(){return t()})):t()},r.stopRecord=function(){this._videoShareState=_.CanShare,this.gameRecorder(S.stop)},r.onShareVideo=function(e){var t=this;if(h.platform!=i.UC){var n=function(){t._videoShareState=_.Sharing,t.gameRecorder(S.share,(function(n){void 0===n&&(n=!1),t._videoShareState=_.CanShare,e&&e(n)}))};this._videoShareState==_.Recording?this.gameRecorder(S.stop,(function(){return n()})):n()}else this.shareAppMessage()},r.pauseRecord=function(){this._videoShareState==_.Recording&&this.gameRecorder(S.pause)},r.resumeRecord=function(){this._videoShareState==_.Recording&&this.gameRecorder(S.resume)},r.gameRecorder=function(e,t){console.log("gameRecorder",e),h.platform==i.TT?this.onGameRecorderTT(e,t):h.platform==i.KS&&this.onGameRecorderKS(e,t)},r.onGameRecorderTT=function(e,t){var n=this;if(tt.canIUse("getGameRecorderManager"))switch(this._stopEndFun=null,e){case S.start:this._gameRecorderManager||(this._gameRecorderManager=tt.getGameRecorderManager(),this._gameRecorderManager.onStart((function(){return console.log("录屏开始回调")})),this._gameRecorderManager.onPause((function(){return console.log("录屏暂停回调")})),this._gameRecorderManager.onResume((function(){return console.log("录屏恢复回调")})),this._gameRecorderManager.onStop((function(e){console.log("录屏停止回调",e.videoPath),n._videoPath=e.videoPath||""}))),this._gameRecorderManager&&this._gameRecorderManager.start({duration:300}),this._videoPath="",this._startRecorderTime=p.getLocalTime(1),this._recorderTime=0;break;case S.pause:this._gameRecorderManager&&this._gameRecorderManager.pause();break;case S.resume:this._gameRecorderManager&&this._gameRecorderManager.resume();break;case S.stop:this._stopEndFun=t||null,this._gameRecorderManager&&this._gameRecorderManager.stop(),this._stopEndFun&&this._stopEndFun(),this._stopEndFun=null,this._recorderTime=p.getLocalTime(1)-this._startRecorderTime;break;case S.share:if(this._videoPath&&this._videoPath.length>0&&this._recorderTime>=3){console.log("gameRecorder","开始视频分享");var a=this.getSelfQuery(),r=h.playCf.topic||"热门游戏",o=h.playCf.shareTitle||"精彩视频",s=h.playCf.ttVideo_desc||"精彩视频";tt.shareAppMessage({channel:"video",title:o,desc:s,imageUrl:"",templateId:"",query:a,extra:{videoPath:this._videoPath,videoTopics:[r],hashtag_list:[r],video_title:s,withVideoId:!0},success:function(){console.log("分享视频成功"),t&&t(!0)},fail:function(e){console.log("分享视频失败",e),t&&t(!1),e&&"shareAppMessage:fail cancel"==e.errMsg||m.showTips("录屏失败：录屏时长低于3秒")}})}else console.log("gameRecorder","没有录屏文件"),t&&t(!1),m.showTips("录屏失败：录屏时长低于3秒")}},r.onGameRecorderKS=function(e,t){var n=this;switch(this._stopEndFun=null,e){case S.start:if(!this._gameRecorderManager){var a=kwaigame.createMediaRecorder();if(null===a)return void console.log("当前版本 App 不支持录屏");this._gameRecorderManager=a,this._gameRecorderManager.onStart((function(){console.log("录屏开始回调"),n._videoPath=""})),this._gameRecorderManager.onPause((function(){return console.log("录屏暂停回调")})),this._gameRecorderManager.onResume((function(){return console.log("录屏恢复回调")})),this._gameRecorderManager.onStop((function(e){console.log("录屏停止回调",e.videoID),n._videoPath=e.videoID||"",n._stopEndFun&&n._stopEndFun(),n._stopEndFun=null})),this._gameRecorderManager.onError((function(e){console.log("发生录屏错误 "+JSON.stringify(e))}))}this._gameRecorderManager.start({duration:300});break;case S.pause:this._gameRecorderManager&&this._gameRecorderManager.pause();break;case S.resume:this._gameRecorderManager&&this._gameRecorderManager.resume();break;case S.stop:this._stopEndFun=t||null,this._gameRecorderManager&&this._gameRecorderManager.stop();break;case S.share:if(this._gameRecorderManager){console.log("gameRecorder","开始视频分享"),this.getSelfQuery();var r=h.playCf.topic||"";this._gameRecorderManager.publishVideo({mouldId:r,callback:function(e){if(null!=e)return console.log("分享录屏失败: "+JSON.stringify(e)),void(t&&t(!1));console.log("分享录屏成功"),t&&t(!0)}})}else console.log("gameRecorder","没有录屏文件"),t&&t(!1)}},r.initWX=function(){var e=this;console.log("wx init"),wx.setKeepScreenOn&&wx.setKeepScreenOn({keepScreenOn:!0,success:function(e){return console.log("setKeepScreenOn success ",e)},fail:function(e){return console.log("setKeepScreenOn fail ",e)}}),wx.showShareMenu&&wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]});var t=function(){var t=e.getSelfQuery();return{title:h.playCf.shareTitle||"听说只有1%的人能通关",imageUrlId:h.playCf.imageUrlId||"",imageUrl:h.playCf.shareUrl||"",query:t}};wx.uma&&wx.uma.onShareAppMessage?wx.uma.onShareAppMessage(t):wx.onShareAppMessage&&wx.onShareAppMessage(t),wx.onShareTimeline&&wx.onShareTimeline(t)},r.loginWX=function(){var e=this;return console.log("wx login"),new Promise((function(t,n){wx.login({success:function(n){console.log(n.code),e._code=n.code,t(!0)},fail:function(e){console.log("login =======",e),n("登录失败!")}})}))},r.navigateToApp=function(){var e=n(a().mark((function e(t){var n=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=""),""!=t){e.next=3;break}return e.abrupt("return");case 3:if(console.log("navigateToMiniProgram",t),h.platform!=i.WeChat){e.next=9;break}return this.sendEvent(u.JumpWxApp,{toappid:t,step:"start"}),e.abrupt("return",new Promise((function(e){wx.navigateToMiniProgram({appId:t,success:function(a){console.log("navigateToMiniProgram success",a),n.sendEvent(u.JumpWxApp,{toappid:t,step:"success"}),e(!0)},fail:function(a){console.log("navigateToMiniProgram fail",a),n.sendEvent(u.JumpWxApp,{toappid:t,step:"fail"}),e(!1)}})})));case 9:if(h.platform!=i.IOS){e.next=12;break}return o.reflection.callStaticMethod("AppDelegate","showAppStore:",t),e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.initQQ=function(){var e=this;console.log("qq init"),qq.setKeepScreenOn({keepScreenOn:!0}),qq.showShareMenu({withShareTicket:!0,showShareItems:["qq","qzone","wechatFriends","wechatMoment"]});var t=function(){var t=e.getSelfQuery();return{title:h.playCf.shareTitle||"听说只有1%的人能通关",imageUrl:h.playCf.shareUrl||"",query:t}};qq.uma&&qq.uma.onShareAppMessage?qq.uma.onShareAppMessage(t):qq.onShareAppMessage&&qq.onShareAppMessage(t)},r.initOPPO=function(){console.log("OPPO init"),qg.setKeepScreenOn({keepScreenOn:!0})},r.loginOPPO=function(){var e=this;return console.log("OPPO login"),new Promise((function(t,n){qg.login({success:function(n){console.log(n.token),e._code=n.token,t(!0)},fail:function(e){console.log("login =======",e),n("登录失败!")}})}))},r.initVIVO=function(){console.log("VIVO init"),qg.setKeepScreenOn({keepScreenOn:!0})},r.loginVIVO=function(){var e=this;return console.log("VIVO login"),new Promise((function(t,n){try{qg.getSystemInfoSync().platformVersionCode>=1053?qg.login().then((function(a){a.data.token?(console.log("res",a),e._code=a.data.token,t(!0)):n(new Error(a))}),(function(e){console.log("登录失败",e),n(new Error(e))})):qg.authorize({type:"code",success:function(n){e._code=n.code,t(!0)},fail:function(e,t){console.log("登录失败",t),n(new Error("handling fail, fail code:"+t))}})}catch(e){n(new Error(e))}}))},r.initUC=function(){},r.initAndroid=function(){var e=n(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.on("JSCALLFUN",this.javaCallBack.bind(this),this),e.abrupt("return",new Promise((function(e){t._initAndroidCb=e})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.initIOS=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.on("JSCALLFUN",this.javaCallBack.bind(this),this);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.javaCallBack=function(e,t){switch(console.log("javaCallBack",e,t),e){case"video":this._videoCallBack&&this._videoCallBack(t);break;case"banner":break;case"purchase":console.log("purchase",t),this._purchaseCallBack&&this._purchaseCallBack(t&&"success"==t),this._purchaseCallBack=null;break;case"init":this._initAndroidCb&&this._initAndroidCb("success"==t)}},r.onCallAndroidFun=function(e,t){for(var n,a=arguments.length,r=new Array(a>2?a-2:0),s=2;s<a;s++)r[s-2]=arguments[s];return(n=o.reflection).callStaticMethod.apply(n,["com/cocos/game/AppActivity",e,t].concat(r))},r.onVibrate=function(e){if(void 0===e&&(e=!1),h.playData.isCanVibrate)switch(h.platform){case i.TT:e?tt.vibrateLong({}):tt.vibrateShort({});break;case i.OPPO:case i.VIVO:e?qg.vibrateLong({}):qg.vibrateShort({});break;case i.WeChat:case i.KS:e?null==wx.vibrateLong||wx.vibrateLong({}):null==wx.vibrateShort||wx.vibrateShort({});break;case i.QQ:e?null==qq.vibrateLong||qq.vibrateLong({}):null==qq.vibrateShort||qq.vibrateShort({});break;case i.Android:this.onCallAndroidFun(e?"onVibrateLong":"onVibrateShort","()V");break;case i.IOS:o.reflection.callStaticMethod("AppDelegate",e?"onVibrateLong":"onVibrateShort")}},r.sendEventAndroid=function(e,t){var n="",a="";if(t instanceof Object)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){n=r,a=t[r]+"";break}switch(e){case c.StageBegin:case c.StageFail:case c.StagePass:this.onCallAndroidFun("onEventStage","(Ljava/lang/String;Ljava/lang/String;)V",e,a);break;default:this.onCallAndroidFun("onEvent","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,n,a)}},r.shareAppMessage=function(){h.platform==i.UC&&uc.shareAppMessage({query:"",target:"wechat",success:function(e){return console.log("shareAppMessage share success",JSON.stringify(e))},fail:function(e){return console.log("shareAppMessage share fail",JSON.stringify(e))}})},r.onRateApp=function(){h.platform==i.IOS&&h.playData.isNeedShowRateUI&&g.ins.openUI(d,null,(function(e){if(e)switch(h.playData.rateAppTime=-1,h.platform){case i.Android:break;case i.IOS:o.reflection.callStaticMethod("AppDelegate","onRateApp")}else h.playData.rateAppTime=p.getLocalTime(0)}))},r.onPurchase=function(){var e=n(a().mark((function e(t){var n,r=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=h.platform,e.next=e.t0===i.Android?3:e.t0===i.IOS?4:6;break;case 3:return e.abrupt("break",6);case 4:return o.reflection.callStaticMethod("AppDelegate","onPurchase:",t),e.abrupt("break",6);case 6:return f.show("请求购买中"),e.next=9,new Promise((function(e){r._purchaseCallBack=e}));case 9:return n=e.sent,f.hide(),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.onRestart=function(){switch(h.platform){case i.TT:try{tt.restartMiniProgramSync()}catch(e){console.log("restartMiniProgramSync调用失败",e)}break;case i.WeChat:case i.KS:wx.restartMiniProgram&&wx.restartMiniProgram({});break;case i.QQ:break;case i.Android:case i.IOS:break;case i.UC:uc.exit()}},r.sendRankScore=function(e){switch(h.platform){case i.TT:tt.canIUse("setImRankData")&&tt.setImRankData({dataType:0,value:e+"",priority:0,success:function(e){return console.log("setImRankData success res: "+e)},fail:function(e){return console.log("setImRankData fail res: "+e.errMsg)}})}},r.isCanUseRank=function(){switch(h.platform){case i.TT:return""!=this.getCode()&&tt.canIUse("getImRankList")}return!1},t(e,[{key:"userId",get:function(){return this._userId||""}},{key:"sdk",get:function(){switch(h.platform){case i.TT:return tt;case i.WeChat:return wx;case i.QQ:return qq;case i.OPPO:case i.VIVO:return qg}return null}},{key:"videoShareState",get:function(){return this._videoShareState}},{key:"isCanRecord",get:function(){return h.platform!=i.TT||tt.canIUse("getGameRecorderManager")?[i.TT,i.KS].indexOf(h.platform)>-1:(console.log("不支持录屏"),!1)}},{key:"videoCallBack",set:function(e){this._videoCallBack=e}}]),e}()));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/SelectBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SelectBoxItemBase.ts","./UIHelp.ts"],(function(e){var t,n,o,i,r,l,c,s,a,u,h,p,m,I,b,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,c=e._decorator,s=e.Prefab,a=e.Node,u=e.ScrollView,h=e.Button,p=e.instantiate,m=e.Vec3,I=e.Component},function(e){b=e.SelectBoxItemBase},function(e){x=e.default}],execute:function(){var f,d,S,B,v,y,_,g,D,L,P;l._RF.push({},"433faDvET5GVLD5WLxO4Lnt","SelectBox",void 0);var w=c.ccclass,N=c.property;l._RF.push({},"433faDvET5GVLD5WLxO4Lnt","SelectBox",void 0);e("SelectBox",(f=w("SelectBox"),d=N({type:s}),S=N({type:a}),B=N({type:u}),v=N({type:h}),f((g=t((_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"boxItemPrefab",g,i(t)),o(t,"boxItemNode",D,i(t)),o(t,"boxItemScroll",L,i(t)),o(t,"selectBtn",P,i(t)),t._boxItemDatas=[],t._selectItemIndex=0,t._onSelectItem=null,t}n(t,e);var l=t.prototype;return l.start=function(){x.onRegisterBtnEvent(this.selectBtn,this.onShowSelectList.bind(this),this)},l.getBoxItemNode=function(){return p(this.boxItemNode||this.boxItemPrefab)},l.init=function(e){this._boxItemDatas=e;for(var t=0;t<e.length;t++){var n=e[t],o=this.getBoxItemNode();o.parent=this.boxItemScroll.content,o.active=!0,o.getComponent(b).init(n),x.onRegisterBtnEvent(o,this.onSelectProperty.bind(this,t),this)}this.onSelectProperty(this._selectItemIndex)},l.onSelectProperty=function(e){this.boxItemScroll.node.active=!1,this._selectItemIndex=e;var t=this.selectBtn.node.children[0];t||((t=this.getBoxItemNode()).parent=this.selectBtn.node,t.active=!0,t.position=m.ZERO),t.getComponent(b).init(this._boxItemDatas[this._selectItemIndex]),this._onSelectItem&&this._onSelectItem(this._boxItemDatas[this._selectItemIndex])},l.onShowSelectList=function(){this.boxItemScroll.node.active=!this.boxItemScroll.node.active},r(t,[{key:"onSelectItem",set:function(e){this._onSelectItem=e}}]),t}(I)).prototype,"boxItemPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(_.prototype,"boxItemNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(_.prototype,"boxItemScroll",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(_.prototype,"selectBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=_))||y));l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/SelectBoxItemBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o,n,c;return{setters:[function(e){t=e.inheritsLoose},function(e){o=e.cclegacy,n=e._decorator,c=e.Component}],execute:function(){var a;o._RF.push({},"6b886Dv5oFFv58NJh3XGy7F","SelectBoxItemBase",void 0);var r=n.ccclass;n.property;o._RF.push({},"4d3e6sqXdZLX5Faybl4JkhN","SelectBoxItemBase",void 0);e("SelectBoxItemBase",r("SelectBoxItemBase")(a=function(e){function o(){for(var t,o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))||this)._boxItemData=null,t}t(o,e);var n=o.prototype;return n.init=function(e){this._boxItemData=e,this.updateView()},n.updateView=function(){},o}(c))||a);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/SkillBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CfgMng.ts","./AudioMng.ts","./ResConfig.ts"],(function(l){var i,n,t,e,s,a,o,u;return{setters:[function(l){i=l.inheritsLoose,n=l.createClass},function(l){t=l.cclegacy,e=l._decorator,s=l.Component},function(l){a=l.default},function(l){o=l.AudioMng},function(l){u=l.EResBundleName}],execute:function(){var r,c;t._RF.push({},"4304b49CRBGPpdg7b+iUx6b","SkillBase",void 0);var k=e.ccclass;e.property;t._RF.push({},"57b36+3XcFOmbkHGrjKVhNy","SkillBase",void 0);l("SkillBase",k("SkillBase")(((c=function(l){function t(){for(var i,n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return(i=l.call.apply(l,[this].concat(t))||this)._skillData=null,i._skillValues=[],i}i(t,l);var e=t.prototype;return e.init=function(l){this._skillData=l,this._skillValues=a.getSkillLvData(l.skillId)[l.lv-1]||[],this.onSkillEnable()},e.onSkillEnable=function(){},e.onSkillDisable=function(){},e.onActive=function(){return!0},e.playSound=function(){var l=this.skillData.skillId;t.SKILL_AUDIO_IDS.includes(l)&&o.playAudio("skill_"+l,u.Play)},n(t,[{key:"skillData",get:function(){return this._skillData}},{key:"skillValues",get:function(){return this._skillValues}}]),t}(s)).SKILL_AUDIO_IDS=[206,208,209],r=c))||r);t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/SkillCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./CfgMng.ts","./ResLoadHelper.ts","./AdCtr.ts","./FightSkillCtr.ts"],(function(t){var e,i,r,n,a,l,o,u,s,c,p,b,d,f,h,g,y,k,C,S,m,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,a=t.createClass,l=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){u=t.cclegacy,s=t._decorator,c=t.Button,p=t.Sprite,b=t.Label,d=t.RichText,f=t.Node,h=t.SpriteFrame,g=t.isValid,y=t.Component},function(t){k=t.default},function(t){C=t.default},function(t){S=t.default},function(t){m=t.AdCtr},function(t){v=t.FightSkillCtr}],execute:function(){var L,_,F,w,z,D,I,R,x,N,A,B,H,P,T,V,q,M,j,E,G;u._RF.push({},"ca044uy/7FCI53TzFuiLLSp","SkillCard",void 0);var U=s.ccclass,J=s.property;u._RF.push({},"7593f998SVPHq3f6biMu9Ix","SkillCard",void 0);t("SkillCard",(L=U("SkillCard"),_=J({type:c}),F=J({type:p}),w=J({type:b}),z=J({type:b}),D=J({type:d}),I=J({type:f}),R=J({type:p}),x=J({type:[h]}),N=J({type:f}),L((H=e((B=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,r(e,"cardBtn",H,n(e)),r(e,"iconSprite",P,n(e)),r(e,"nameLab",T,n(e)),r(e,"lvLab",V,n(e)),r(e,"desLab",q,n(e)),r(e,"bestNode",M,n(e)),r(e,"bgSprite",j,n(e)),r(e,"bgSpriteFrames",E,n(e)),r(e,"adNode",G,n(e)),e._skillCardData=null,e._clickCardCb=null,e}i(e,t);var u=e.prototype;return u.start=function(){k.onRegisterBtnEvent(this.cardBtn,this.onClickCard,this)},u.init=function(t,e){var i=this;this._skillCardData=t,this._clickCardCb=e;var r=t.skillId,n=t.lv,a=C.CfgSkill.getItem(r);if(a){this.nameLab.string=a.name,this.lvLab.string="Lv"+n,this.bgSprite.spriteFrame=this.bgSpriteFrames[a.quality-1],this.bestNode.active=a.quality>2,this.adNode.active=!!t.isAd;var l=v.ins.getSkillPropertyValue(r,n);if(l){for(var o=a.des,u=0;u<l.length;u++){var s=l[u];o=o.replace("<v"+(u+1)+">",s.toString())}this.desLab.string=o}else this.desLab.string="";S.loadSkillIcon(r,this.iconSprite).then((function(t){t&&g(i)&&(i.iconSprite.spriteFrame=t)}))}},u.onClickCard=function(){var t=l(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._skillCardData.isAd){t.next=6;break}return t.next=3,m.ins.showVideo("广告技能");case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:this._clickCardCb&&this._clickCardCb(this);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a(e,[{key:"skillId",get:function(){return this._skillCardData.skillId}},{key:"skillData",get:function(){return this._skillCardData}},{key:"isAd",set:function(t){}}]),e}(y)).prototype,"cardBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(B.prototype,"iconSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(B.prototype,"nameLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(B.prototype,"lvLab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(B.prototype,"desLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(B.prototype,"bestNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(B.prototype,"bgSprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(B.prototype,"bgSpriteFrames",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(B.prototype,"adNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=B))||A));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/SkillCoinGift.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillBase.ts","./TurrentPropertyCtr.ts","./Constant.ts"],(function(t){var n,e,i,r,o,s,c,u;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){r=t.cclegacy,o=t._decorator},function(t){s=t.SkillBase},function(t){c=t.default},function(t){u=t.EItemType}],execute:function(){var l;r._RF.push({},"a5ce29YgkFB96xhZ3Rc5364","SkillCoinGift",void 0);var a=o.ccclass;o.property;r._RF.push({},"cfbe6pSs89JEK5E8AUbJTMq","SkillCoinGift",void 0);t("SkillCoinGift",a("SkillCoinGift")(l=function(t){function r(){return t.apply(this,arguments)||this}return n(r,t),r.prototype.onSkillEnable=function(){var t=e(i().mark((function t(){var n;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.skillValues[0]||1e3,c.getItems([{id:u.Coin,num:n}]);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r}(s))||l);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/SkillCoinTimeAdd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TurrentPropertyCtr.ts","./Constant.ts","./SkillTimeBase.ts"],(function(t){var i,e,n,o,r,s,c,l;return{setters:[function(t){i=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy,r=t._decorator},function(t){s=t.default},function(t){c=t.EItemType},function(t){l=t.SkillTimeBase}],execute:function(){var u;o._RF.push({},"e30b6WQTXVJab9D3USKk3vr","SkillCoinTimeAdd",void 0);var a=r.ccclass;r.property;o._RF.push({},"6a532EC7F5MxI7/Ywjz8LBT","SkillCoinTimeAdd",void 0);t("SkillCoinTimeAdd",a("SkillCoinTimeAdd")(u=function(t){function o(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this)._sAddTimeCoin=0,i}i(o,t);var r=o.prototype;return r.onSkillEnable=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._sAddTimeCoin=this.skillValues[0]||0,this.isAutoActive=!0,this.coolTime=1;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onActive=function(){return s.getItems([{id:c.Coin,num:this._sAddTimeCoin}]),t.prototype.onActive.call(this)},o}(l))||u);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/SkillCoolTimeCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoadHelper.ts","./FightNode.ts","./EventMng.ts","./Constant.ts"],(function(i){var e,o,t,l,n,r,a,c,s,u,p,f;return{setters:[function(i){e=i.applyDecoratedDescriptor,o=i.inheritsLoose,t=i.initializerDefineProperty,l=i.assertThisInitialized},function(i){n=i.cclegacy,r=i._decorator,a=i.Sprite,c=i.Component},function(i){s=i.default},function(i){u=i.FightNode},function(i){p=i.EventMng},function(i){f=i.EGameEvent}],execute:function(){var m,h,T,d,k,C,_;n._RF.push({},"f9e3200ZrNHH5ovEpW9rizg","SkillCoolTimeCard",void 0);var g=r.ccclass,S=r.property;n._RF.push({},"4afe4xrmbVLFImMKrK2SrFk","SkillCoolTimeCard",void 0);i("SkillCoolTimeCard",(m=g("SkillCoolTimeCard"),h=S({type:a}),T=S({type:a}),m((C=e((k=function(i){function e(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return e=i.call.apply(i,[this].concat(n))||this,t(e,"skillIcon",C,l(e)),t(e,"coolTimeBlackSprite",_,l(e)),e._skillId=0,e._coolTime=0,e._beginCoolTime=0,e}o(e,i);var n=e.prototype;return n.onLoad=function(){p.on(f.PLAY_SKILL_COOLTIME,this.updateCoolTime,this)},n.onDestroy=function(){p.off(f.PLAY_SKILL_COOLTIME,this.updateCoolTime,this)},n.init=function(i){var e=this;this._skillId=i,s.loadSkillIcon(i,this.skillIcon).then((function(i){i&&(e.skillIcon.spriteFrame=i)})),this.coolTimeBlackSprite.fillRange=0},n.updateCoolTime=function(i,e){this._skillId===i&&(this._coolTime=e,this._beginCoolTime=u.ins.runTime,this.coolTimeBlackSprite.fillRange=1)},n.update=function(i){if(!(u.ins.isPause||this._coolTime<=0||this.coolTimeBlackSprite.fillRange<=0)){var e=1-(u.ins.runTime-this._beginCoolTime)/this._coolTime;this.coolTimeBlackSprite.fillRange=Math.max(e,0)}},e}(c)).prototype,"skillIcon",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(k.prototype,"coolTimeBlackSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=k))||d));n._RF.pop(),n._RF.pop()}}}));

System.register("chunks:///_virtual/SkillFireBoom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FightNode.ts","./SkillTimeBase.ts"],(function(e){var t,o,i,r,n,l,s;return{setters:[function(e){t=e.inheritsLoose,o=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy,n=e._decorator},function(e){l=e.FightNode},function(e){s=e.SkillTimeBase}],execute:function(){var c;r._RF.push({},"205e5iTe+tHq79PdO3wgRS9","SkillFireBoom",void 0);var a=n.ccclass;n.property;r._RF.push({},"143faNZIl5IfKTlvWQIRNdP","SkillFireBoom",void 0);e("SkillFireBoom",a("SkillFireBoom")(c=function(e){function r(){for(var t,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this)._dmgPer=0,t}t(r,e);var n=r.prototype;return n.onSkillEnable=function(){var e=o(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._dmgPer=.01*(this.skillValues[0]||100),this.coolTime=this.skillValues[1]||10,this.isAutoActive=!0;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.onActive=function(){return this.playSound(),l.ins.fortreeRole.onBoomKnockBack(this._dmgPer),e.prototype.onActive.call(this)},r}(s))||c);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/SkillLaser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoadHelper.ts","./TurrentPropertyCtr.ts","./Constant.ts","./FightSkillCtr.ts","./DmgColliderBase.ts","./SkillTimeBase.ts","./ComFun.ts","./FightNode.ts"],(function(t){var e,n,r,s,i,a,o,l,u,c,h,f,p,d,g,m,k;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){i=t.cclegacy,a=t._decorator,o=t.instantiate,l=t.Vec2,u=t.v2},function(t){c=t.default},function(t){h=t.default},function(t){f=t.ETurretPropertyId},function(t){p=t.FightSkillCtr},function(t){d=t.DmgColliderBase},function(t){g=t.SkillTimeBase},function(t){m=t.default},function(t){k=t.FightNode}],execute:function(){var v;i._RF.push({},"715ddVY2UtBn56wZhoUHON5","SkillLaser",void 0);var _=a.ccclass;a.property;i._RF.push({},"49438/hyMhDvLOaYhtfa85j","SkillLaser",void 0);t("SkillLaser",_("SkillLaser")(v=function(t){function i(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this)._laserCbs=[],e._laserNum=0,e._dmgPer=0,e._laserPrefab=null,e}e(i,t);var a=i.prototype;return a.onSkillEnable=function(){var e=r(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.onSkillEnable.call(this),this._laserNum=this.skillValues[0]||1,this._dmgPer=.01*(this.skillValues[1]||100),this.coolTime=this.skillValues[2]||10,this.isAutoActive=!0;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a.onActive=function(){return!!this.onEmitLasers()&&t.prototype.onActive.call(this)},a.onEmitLasers=function(){var t=this,e=k.ins.getAttackTarget(1,1e4)[0];return e?(this.onEmitTarget(e.node),!0):(k.ins.setScheduleTimeFun((function(){t.onActive()}),1),!1)},a.onEmitTarget=function(){var t=r(s().mark((function t(e){var n,r,i,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=m.radianToAngle(l.angle(u(0,-1),u(e.position.x,e.position.y))),this._laserPrefab){t.next=5;break}return t.next=4,c.loadSkillPrefab("laser",this);case 4:this._laserPrefab=t.sent;case 5:for(this.playSound(),r=360/this._laserNum,i=0;i<this._laserNum;i++)(a=this._laserCbs[i])||((a=o(this._laserPrefab).getComponent(d)).node.parent=p.ins.skillLayer,this._laserCbs.push(a)),a.damage=this.damage,a.node.angle=n+i*r,a.onShow();case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n(i,[{key:"damage",get:function(){return this._dmgPer*h.getPropertyValue(f.Atk)}}]),i}(g))||v);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/SkillMine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillBase.ts","./ResLoadHelper.ts","./Mine.ts","./UIHelp.ts"],(function(e){var n,t,r,i,s,a,c,o,l,u;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){i=e.cclegacy,s=e._decorator,a=e.instantiate},function(e){c=e.SkillBase},function(e){o=e.default},function(e){l=e.Mine},function(e){u=e.default}],execute:function(){var p;i._RF.push({},"bc492eyhDFGk7WHiZ+LYpk0","SkillMine",void 0);var f=s.ccclass;s.property;i._RF.push({},"87604EVJIdEiZfoJohtwe+T","SkillMine",void 0);e("SkillMine",f("SkillMine")(p=function(e){function i(){for(var n,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(n=e.call.apply(e,[this].concat(r))||this)._mines=[],n}n(i,e);var s=i.prototype;return s.onSkillEnable=function(){var e=t(r().mark((function e(){var n,t,i,s,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.skillValues[0],t=.01*(this.skillValues[1]||100),i=this.skillValues[2]||0,s=0;case 4:if(!(s<n)){e.next=16;break}if(a=this._mines[s]){e.next=11;break}return e.next=9,this.createMine();case 9:a=e.sent,this._mines[s]=a;case 11:a.dmgPer=t,a.dmgRange=i;case 13:s++,e.next=4;break;case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.createMine=function(){var e=t(r().mark((function e(){var n,t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.loadSkillPrefab("mine",this);case 2:return n=e.sent,(t=a(n)).parent=this.node,u.setZIndex(t,-1),e.abrupt("return",t.getComponent(l));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i}(c))||p);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/SkillReviveWing.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillBase.ts","./FightNode.ts","./UIHelp.ts"],(function(e){var i,t,n,r,o,s,l,v;return{setters:[function(e){i=e.inheritsLoose,t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator},function(e){s=e.SkillBase},function(e){l=e.FightNode},function(e){v=e.default}],execute:function(){var u;r._RF.push({},"f27cd7uIdBPyJYQSgEoXikh","SkillReviveWing",void 0);var c=o.ccclass;o.property;r._RF.push({},"bbb27LlqzBCy5HaewH233O7","SkillReviveWing",void 0);e("SkillReviveWing",c("SkillReviveWing")(u=function(e){function r(){for(var i,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(i=e.call.apply(e,[this].concat(n))||this)._reviveLifePer=0,i._maxReviveNum=0,i._reviveNum=0,i}i(r,e);var o=r.prototype;return o.onSkillEnable=function(){var e=t(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._reviveLifePer=.01*(this.skillValues[0]||0),this._maxReviveNum=this.skillValues[1]||1;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.onActive=function(){var i=this;return!(this._reviveNum>=this._maxReviveNum)&&(this._reviveNum++,v.onDelayPromise(1,this).then((function(){l.ins.fortreeRole.onRevive(i._reviveLifePer),l.ins.fortreeRole.onBoomKnockBack(),i.playSound()})),e.prototype.onActive.call(this))},r}(s))||u);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/SkillRichAddProperty.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillBase.ts","./GameCtr.ts","./TurrentPropertyCtr.ts","./Constant.ts"],(function(t){var r,e,n,i,o,l,s,a,c;return{setters:[function(t){r=t.inheritsLoose,e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy,o=t._decorator},function(t){l=t.SkillBase},function(t){s=t.default},function(t){a=t.default},function(t){c=t.ETurretPropertyId}],execute:function(){var u;i._RF.push({},"68c8djJnqBMTKgTmc+DfsOf","SkillRichAddProperty",void 0);var d=o.ccclass;o.property;i._RF.push({},"ff9b29Al7tOyo6RRGdfkjmF","SkillRichAddProperty",void 0);var p={210:c.AtkAddPer,211:c.AtkSpeedAddPer,212:c.LifeAddPer};t("SkillRichAddProperty",d("SkillRichAddProperty")(u=function(t){function i(){return t.apply(this,arguments)||this}return r(i,t),i.prototype.onSkillEnable=function(){var t=e(n().mark((function t(){var r,e,i,o,l;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.skillValues[0]||100,e=this.skillValues[1]||1,i=s.playData.diamondNum,o=Math.min(r,Math.floor(i/e)),(l=p[this.skillData.skillId])&&a.setSkillProperty(l,o);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i}(l))||u);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/SkillSatellite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkillBase.ts","./Satellite.ts","./ResLoadHelper.ts","./FightSkillCtr.ts"],(function(t){var e,n,r,i,l,a,s,c,u,o;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,l=t._decorator,a=t.instantiate},function(t){s=t.SkillBase},function(t){c=t.Satellite},function(t){u=t.default},function(t){o=t.FightSkillCtr}],execute:function(){var p;i._RF.push({},"5efc8/tvN9CiIdhu0IZYxb+","SkillSatellite",void 0);var f=l.ccclass;l.property;i._RF.push({},"ded5dHzfjRDYbCluHXtQtD6","SkillSatellite",void 0);t("SkillSatellite",f("SkillSatellite")(p=function(t){function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this)._satellites=[],e}e(i,t);var l=i.prototype;return l.onSkillEnable=function(){var t=n(r().mark((function t(){var e,n,i,l,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.skillValues[0],n=.01*(this.skillValues[1]||100),i=this.skillValues[2]||0,l=0;case 4:if(!(l<e)){t.next=16;break}if(a=this._satellites[l]){t.next=11;break}return t.next=9,this.createSatellite();case 9:a=t.sent,this._satellites[l]=a;case 11:a.dmgPer=n,a.stunTime=i;case 13:l++,t.next=4;break;case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.createSatellite=function(){var t=n(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u.loadSkillPrefab("satellite",this);case 2:return e=t.sent,(n=a(e)).parent=o.ins.skillLayer,t.abrupt("return",n.getComponent(c));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i}(s))||p);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/SkillShiled.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FightNode.ts","./EventMng.ts","./Constant.ts","./ResLoadHelper.ts","./SkillTimeBase.ts"],(function(e){var i,t,s,n,l,o,r,h,a,u,c,d,f;return{setters:[function(e){i=e.inheritsLoose,t=e.createClass,s=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){l=e.cclegacy,o=e._decorator,r=e.instantiate},function(e){h=e.EPlayStep,a=e.FightNode},function(e){u=e.EventMng},function(e){c=e.EGameEvent},function(e){d=e.default},function(e){f=e.SkillTimeBase}],execute:function(){var p;l._RF.push({},"e5334Oa8YNHb5apbLjOeJdv","SkillShiled",void 0);var S=o.ccclass;o.property;l._RF.push({},"e8015vJrllGbp8NRxLiDzdB","SkillShiled",void 0);e("SkillShiled",S("SkillShiled")(p=function(e){function l(){for(var i,t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return(i=e.call.apply(e,[this].concat(s))||this)._shieldLifeNum=0,i._shieldNode=null,i}i(l,e);var o=l.prototype;return o.start=function(){u.on(c.PLAY_STEP_EVENT,this.cutHp,this)},o.onDestroy=function(){u.off(c.PLAY_STEP_EVENT,this.cutHp,this)},o.onSkillEnable=function(){this.isAutoActive=!0,this.coolTime=this.skillValues[1]||10,this.initShield()},o.cutHp=function(e,i){e===h.CutHp&&(this._shieldLifeNum<=0?a.ins.fortreeRole.isHasShield=!1:(this._shieldLifeNum-=i,this._shieldLifeNum<=0&&(this._shieldLifeNum=0,this.showShield(!1),a.ins.fortreeRole.isHasShield=!1,this.beginCoolTime())))},o.onActive=function(){return this.initShield(),!1},o.initShield=function(){return 0!==this.shieldTotalLife&&!a.ins.fortreeRole.isDead&&(this.playSound(),this.showShield(!0),this._shieldLifeNum=this.shieldTotalLife,this.unscheduleAllCallbacks(),a.ins.fortreeRole.isHasShield=!0,!0)},o.showShield=function(){var e=s(n().mark((function e(i){var t;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i=!1),!i){e.next=8;break}return e.next=4,d.loadSkillPrefab("shield",this);case 4:t=e.sent,this._shieldNode||(this._shieldNode=r(t),this._shieldNode.parent=this.node),e.next=10;break;case 8:if(this._shieldNode){e.next=10;break}return e.abrupt("return");case 10:this._shieldNode.active=i;case 11:case"end":return e.stop()}}),e,this)})));return function(i){return e.apply(this,arguments)}}(),t(l,[{key:"shieldTotalLife",get:function(){return a.ins.fortreeRole.totalLife*(this.skillValues[0]||0)*.01}}]),l}(f))||p);l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/SkillThunder.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoadHelper.ts","./TurrentPropertyCtr.ts","./Constant.ts","./FightNode.ts","./EffectBase.ts","./FightSkillCtr.ts","./SkillTimeBase.ts"],(function(t){var e,n,r,i,o,s,c,u,a,l,h,f,d,p;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,o=t._decorator,s=t.isValid,c=t.instantiate},function(t){u=t.default},function(t){a=t.default},function(t){l=t.ETurretPropertyId},function(t){h=t.FightNode},function(t){f=t.EffectBase},function(t){d=t.FightSkillCtr},function(t){p=t.SkillTimeBase}],execute:function(){var k;i._RF.push({},"69768t6V0hJx4gIqpTL674c","SkillThunder",void 0);var v=o.ccclass;o.property;i._RF.push({},"c963dKHRXBPYJrenrHFBmRw","SkillThunder",void 0);t("SkillThunder",v("SkillThunder")(k=function(t){function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this)._thunderEffect=null,e._dmgPer=0,e}e(i,t);var o=i.prototype;return o.onSkillEnable=function(){var t=n(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._dmgPer=.01*(this.skillValues[0]||100),this.coolTime=this.skillValues[1]||10,this.isAutoActive=!0;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onActive=function(){var e=this,n=h.ins.getAttackTarget(1,1e4)[0];return n?(this.onAct(n),t.prototype.onActive.call(this)):(h.ins.setScheduleTimeFun((function(){e.onActive()}),1),!1)},o.onAct=function(){var t=n(r().mark((function t(e){var n,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._thunderEffect){t.next=7;break}return t.next=3,u.loadSkillPrefab("thunder",this);case 3:n=t.sent,(i=c(n)).parent=d.ins.skillLayer,this._thunderEffect=i.getComponent(f);case 7:if(e&&s(e.node)&&!e.isDead){t.next=10;break}return this._thunderEffect.node.active=!1,t.abrupt("return");case 10:return this._thunderEffect.node.active=!0,this._thunderEffect.node.worldPosition=e.node.worldPosition,e.onBeHit(this._dmgPer*a.getPropertyValue(l.Atk)),this.playSound(),t.next=16,this._thunderEffect.onShow();case 16:this._thunderEffect.node.active=!1;case 17:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i}(p))||k);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/SkillTimeBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FightNode.ts","./SkillBase.ts","./EventMng.ts","./Constant.ts"],(function(i){var e,t,o,n,s,l,c,u;return{setters:[function(i){e=i.inheritsLoose,t=i.createClass},function(i){o=i.cclegacy,n=i._decorator},function(i){s=i.FightNode},function(i){l=i.SkillBase},function(i){c=i.EventMng},function(i){u=i.EGameEvent}],execute:function(){var a;o._RF.push({},"f3caeTQ5vNJ3bc7WbdZ8ASJ","SkillTimeBase",void 0);var r=n.ccclass;n.property;o._RF.push({},"acb5eFdY6lN9bgxDu/6XHFd","SkillTimeBase",void 0);i("SkillTimeBase",r("SkillTimeBase")(a=function(i){function o(){for(var e,t=arguments.length,o=new Array(t),n=0;n<t;n++)o[n]=arguments[n];return(e=i.call.apply(i,[this].concat(o))||this)._isAutoActive=!1,e._coolTime=0,e._inCoolTime=!1,e}e(o,i);var n=o.prototype;return n.onActive=function(){return this.beginCoolTime(),!0},n.beginCoolTime=function(){this._inCoolTime||(this._inCoolTime=!0,s.ins.setScheduleTimeFun(this.onCoolTimeEnd.bind(this),this._coolTime),c.emit(u.PLAY_SKILL_COOLTIME,this.skillData.skillId,this._coolTime))},n.onCoolTimeEnd=function(){this._inCoolTime=!1,this._isAutoActive&&this.onActive()},t(o,[{key:"coolTime",set:function(i){this._coolTime=i}},{key:"isAutoActive",set:function(i){this._isAutoActive=i}}]),o}(l))||a);o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/SkillYinYang.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResLoadHelper.ts","./Bullet.ts","./TurrentPropertyCtr.ts","./Constant.ts","./EffectBase.ts","./FightSkillCtr.ts","./SkillTimeBase.ts"],(function(t){var n,e,r,i,a,s,c,o,u,l,f,p,h;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){i=t.cclegacy,a=t._decorator,s=t.instantiate},function(t){c=t.default},function(t){o=t.Bullet},function(t){u=t.default},function(t){l=t.ETurretPropertyId},function(t){f=t.EffectBase},function(t){p=t.FightSkillCtr},function(t){h=t.SkillTimeBase}],execute:function(){var g;i._RF.push({},"57defxrH1ZILr1DfMq3LRrB","SkillYinYang",void 0);var y=a.ccclass;a.property;i._RF.push({},"1bd55ws5fxHE7zf1DgK2mdp","SkillYinYang",void 0);t("SkillYinYang",y("SkillYinYang")(g=function(t){function i(){for(var n,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(n=t.call.apply(t,[this].concat(r))||this)._yinYangEffect=null,n._dmgPer=0,n}n(i,t);var a=i.prototype;return a.onSkillEnable=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._dmgPer=.01*(this.skillValues[0]||100),this.coolTime=this.skillValues[1]||10,this.isAutoActive=!0;case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.createYinyang=function(){var t=e(r().mark((function t(){var n,e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.loadSkillPrefab("yinyang",this);case 2:return n=t.sent,(e=s(n)).parent=p.ins.skillLayer,t.abrupt("return",e.getComponent(f));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onActive=function(){return this.onAct(),t.prototype.onActive.call(this)},a.onAct=function(){var t=e(r().mark((function t(){var n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._yinYangEffect){t.next=4;break}return t.next=3,this.createYinyang();case 3:this._yinYangEffect=t.sent;case 4:return this._yinYangEffect.node.active=!0,n=this._dmgPer*u.getPropertyValue(l.Atk),this._yinYangEffect.getComponentsInChildren(o).forEach((function(t){t.damage=n})),this.playSound(),t.next=10,this._yinYangEffect.onShow();case 10:this._yinYangEffect.node.active=!1;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i}(h))||g);i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/SlotLock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./GameCtr.ts","./Constant.ts","./EventMng.ts","./AudioMng.ts","./UIMng.ts","./UICardMachine.ts","./CfgMng.ts"],(function(t){var n,o,e,i,l,c,r,a,u,s,p,d,f,h,k,y,g,C,b,m,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized,l=t.createClass},function(t){c=t.cclegacy,r=t._decorator,a=t.Node,u=t.Button,s=t.Label,p=t.AudioClip,d=t.Component},function(t){f=t.default},function(t){h=t.default},function(t){k=t.EItemType,y=t.EGameEvent},function(t){g=t.EventMng},function(t){C=t.AudioMng},function(t){b=t.UIMng},function(t){m=t.UICardMachine},function(t){v=t.default}],execute:function(){var L,I,M,N,S,_,A,D,R,U,B;c._RF.push({},"aadafCrjWpDFacqRyjoFfLA","SlotLock",void 0);var P=r.ccclass,F=r.property;c._RF.push({},"aadafCrjWpDFacqRyjoFfLA","SlotLock",void 0);t("SlotLock",(L=P("SlotLock"),I=F({type:a}),M=F({type:u}),N=F({type:s}),S=F({type:p}),L((D=n((A=function(t){function n(){for(var n,o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=t.call.apply(t,[this].concat(l))||this,e(n,"lockNode",D,i(n)),e(n,"unlockBtn",R,i(n)),e(n,"unlockPriceNumLab",U,i(n)),e(n,"unlockAudioClip",B,i(n)),n._slotIndex=-1,n}o(n,t);var c=n.prototype;return c.start=function(){f.onRegisterBtnEvent(this.unlockBtn,this.onUnlockBtnClick,this),f.onRegisterBtnEvent(this.node,this.onShowCardMatchie,this)},c.init=function(t){var n=h.playData.cardSlotNum>t;this._slotIndex=t,this.lockNode.active=!n,n||(this.unlockPriceNumLab.string=this.unlockPrice.toString())},c.onUnlockBtnClick=function(){h.playData.addResItemNum(k.Diamond,-this.unlockPrice)&&(h.playData.cardSlotNum=this._slotIndex+1,this.lockNode.active=!1,g.emit(y.CARD_SLOT_NUM),C.playAudioClip(this.unlockAudioClip))},c.onShowCardMatchie=function(){this.lockNode.active||b.ins.openUI(m)},l(n,[{key:"unlockPrice",get:function(){return v.globalConfig.CardUnlockSlotPrice[this._slotIndex]}}]),n}(d)).prototype,"lockNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(A.prototype,"unlockBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(A.prototype,"unlockPriceNumLab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(A.prototype,"unlockAudioClip",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=A))||_));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/SpineAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts"],(function(e){var n,t,i,o,l,s,r,a,c,p,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,l=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e._decorator,c=e.sp,p=e.Component},function(e){u=e.default}],execute:function(){var k,h,f,A,g;r._RF.push({},"ae20dQpkJNGoYj671OX8Y/V","SpineAni",void 0);var d=a.ccclass,S=a.property;r._RF.push({},"dd3b8Q4aS5MlbsEwY9YjwHe","SpineAni",void 0);e("SpineAni",(k=d("SpineAni"),h=S({type:c.Skeleton}),k((g=n((A=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),s=0;s<t;s++)l[s]=arguments[s];return n=e.call.apply(e,[this].concat(l))||this,i(n,"skel",g,o(n)),n._playEndCb=null,n._curAniName="",n}t(n,e);var r=n.prototype;return r.onLoad=function(){var e;console.log("[SpineAni] onLoad called, node:",null==(e=this.node)?void 0:e.name),this.skel||(this.skel=this.getComponent(c.Skeleton),console.log("[SpineAni] got skel from getComponent:",this.skel))},r.changeSkin=function(e){this.skel.setSkin(e)},r.playAni=function(){var e=l(s().mark((function e(n,t){var i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!0),console.log("[SpineAni] playAni called, aniName:",n,"skel:",this.skel),this.skel){e.next=9;break}if(console.log("[SpineAni] skel is null, trying to get it now"),this.skel=this.getComponent(c.Skeleton),console.log("[SpineAni] skel after getComponent:",this.skel),this.skel){e.next=9;break}return console.log("[SpineAni] still no skel, returning"),e.abrupt("return");case 9:console.log("[SpineAni] calling setAnimation"),console.log("[SpineAni] skel.skeletonData:",this.skel.skeletonData),console.log("[SpineAni] skel.skeletonData?.name:",null==(i=this.skel.skeletonData)?void 0:i.name);try{this.skel.setAnimation(0,n,t),console.log("[SpineAni] setAnimation success for:",n)}catch(e){console.error("[SpineAni] setAnimation ERROR:",e)}if(t){e.next=18;break}if(!(o=this.skel.findAnimation(n))){e.next=18;break}return e.next=18,u.onDelayPromise(o.duration,this);case 18:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}(),r.stopAll=function(){var e;this.unscheduleAllCallbacks(),null==(e=this.skel)||e.clearTracks()},n}(p)).prototype,"skel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=A))||f));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/StagePoint.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./StageRewardItem.ts","./Constant.ts","./GameCtr.ts"],(function(t){var e,a,i,n,s,r,o,l,c,d,u,g,h,p,f,I,b,m,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,o=t._decorator,l=t.Node,c=t.Label,d=t.Prefab,u=t.Button,g=t.instantiate,h=t.Component},function(t){p=t.default},function(t){f=t.EStageRewardItemState,I=t.StageRewardItem},function(t){b=t.StagePointRewards,m=t.EItemType},function(t){w=t.default}],execute:function(){var _,R,y,S,v,k,P,C,N,L,z,G,B,D,H;r._RF.push({},"1a957I8G8tOOaIbZsgoAeHC","StagePoint",void 0);var E=o.ccclass,F=o.property;r._RF.push({},"1a957I8G8tOOaIbZsgoAeHC","StagePoint",void 0);var O=function(t){return t[t.Lock=0]="Lock",t[t.Current=1]="Current",t[t.Pass=2]="Pass",t}(O||{});t("StagePoint",(_=E("StagePoint"),R=F({type:l}),y=F({type:c}),S=F({type:l}),v=F({type:l}),k=F({type:d}),P=F({type:u}),_((L=e((N=function(t){function e(){for(var e,a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,i(e,"passStateNode",L,n(e)),i(e,"stageIdLab",z,n(e)),i(e,"lockNode",G,n(e)),i(e,"selectNode",B,n(e)),i(e,"stageRewardItemPrefab",D,n(e)),i(e,"stageSelectBtn",H,n(e)),e._state=O.Lock,e._worldId=0,e._stageId=0,e._clickCb=null,e._stageRewardItem=null,e}a(e,t);var r=e.prototype;return r.start=function(){p.onRegisterBtnEvent(this.stageSelectBtn,this.onPointClick,this)},r.init=function(t,e,a,i){switch(this._clickCb=i,this._worldId=t,this._stageId=e,this.stageIdLab.string=""+e,this.stageIdLab.node.active=!0,this.lockNode.active=!1,this.passStateNode.active=!1,this._state=a,a){case O.Current:break;case O.Pass:this.passStateNode.active=!0;break;case O.Lock:this.lockNode.active=!0,this.stageIdLab.node.active=!1}this.updateRewardState(100*this._worldId+this._stageId)},r.onPointClick=function(){this._clickCb&&this._clickCb(this)},r.updateRewardState=function(t){var e,a=b[this._stageId-1];if(a&&0!==a.length)if(w.playData.isGetStageReward(t))this._stageRewardItem&&(this._stageRewardItem.itemState=f.HasGet);else{var i=((e={})[m.Gold]=this._worldId,e[m.Diamond]=1+.5*(this._worldId-1),e),n=[];a.forEach((function(t){var e=t.num;i[t.id]&&(e=Math.floor(t.num*i[t.id])),n.push({id:t.id,num:e})})),this._stageRewardItem||(this._stageRewardItem=g(this.stageRewardItemPrefab).getComponent(I),this._stageRewardItem.node.parent=this.node,p.setNodePosY(this._stageRewardItem.node,30));var s=this._state===O.Pass?f.CanGet:f.None;this._stageRewardItem.init(t,n),this._stageRewardItem.itemState=s}else this._stageRewardItem&&(this._stageRewardItem.node.active=!1)},s(e,[{key:"stageId",get:function(){return this._stageId}},{key:"isSelect",set:function(t){this.selectNode.active=t}}]),e}(h)).prototype,"passStateNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(N.prototype,"stageIdLab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(N.prototype,"lockNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(N.prototype,"selectNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(N.prototype,"stageRewardItemPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(N.prototype,"stageSelectBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=N))||C));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/StageRewardItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./Constant.ts","./GameCtr.ts","./TipsCtr.ts"],(function(t){var e,a,n,i,r,o,s,c,p,u,l,d,g,h,f,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass},function(t){o=t.cclegacy,s=t._decorator,c=t.Sprite,p=t.SpriteFrame,u=t.Button,l=t.Node,d=t.Component},function(t){g=t.default},function(t){h=t.EItemType},function(t){f=t.default},function(t){y=t.TipsCtr}],execute:function(){var S,m,w,I,R,v,_,b,C,G,B;o._RF.push({},"3820748QJ1JTqDSS742mBOP","StageRewardItem",void 0);var N=s.ccclass,F=s.property;o._RF.push({},"3820748QJ1JTqDSS742mBOP","StageRewardItem",void 0);var D=t("EStageRewardItemState",function(t){return t[t.None=0]="None",t[t.CanGet=1]="CanGet",t[t.HasGet=2]="HasGet",t}({}));t("StageRewardItem",(S=N("StageRewardItem"),m=F({type:c}),w=F({type:[p]}),I=F({type:u}),R=F({type:l}),S((b=e((_=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,n(e,"typeIcon",b,i(e)),n(e,"typeIconSpriteFrames",C,i(e)),n(e,"getBtn",G,i(e)),n(e,"getStateNode",B,i(e)),e._state=D.None,e._stageRewardId=0,e._stageRewards=[],e}a(e,t);var o=e.prototype;return o.start=function(){g.onRegisterBtnEvent(this.getBtn,this.onGetBtnClick,this)},o.init=function(t,e){this._stageRewardId=t,this._stageRewards=e;var a=0;e.forEach((function(t){t.id===h.Diamond&&(a=1)})),this.typeIcon.spriteFrame=this.typeIconSpriteFrames[a]},o.onGetBtnClick=function(){this._state!==D.None?this._state===D.CanGet&&(f.playData.getRewards(this._stageRewards,!0),f.playData.setStageRewardState(this._stageRewardId),this.itemState=D.HasGet):y.showTips("通关关卡才能领取奖励!")},r(e,[{key:"itemState",set:function(t){switch(this._state=t,this.node.active=!0,this.typeIcon.node.active=!1,this.getStateNode.active=!1,t){case D.None:this.typeIcon.node.active=!0;break;case D.CanGet:this.getStateNode.active=!0;break;case D.HasGet:this.node.active=!1}}}]),e}(d)).prototype,"typeIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(_.prototype,"typeIconSpriteFrames",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=e(_.prototype,"getBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(_.prototype,"getStateNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=_))||v));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/StageWavePoint.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,n,r,a,o,s,c,l,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,s=e._decorator,c=e.Label,l=e.Sprite,p=e.Node,u=e.Component}],execute:function(){var b,g,v,f,y,h,S,d,m;o._RF.push({},"aebf4L00e9MGKQkr28QXTG8","StageWavePoint",void 0);var L=s.ccclass,w=s.property;o._RF.push({},"aebf4L00e9MGKQkr28QXTG8","StageWavePoint",void 0);e("StageWavePoint",(b=L("StageWavePoint"),g=w({type:c}),v=w({type:l}),f=w({type:p}),b((S=t((h=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"waveNumLab",S,r(t)),n(t,"bgSprite",d,r(t)),n(t,"bossIcon",m,r(t)),t}return i(t,e),t.prototype.init=function(e,t){void 0===t&&(t=!1),t?(this.bossIcon.active=!0,this.bgSprite.node.active=!1):(this.bossIcon.active=!1,this.bgSprite.node.active=!0,this.waveNumLab.string=e.toString())},a(t,[{key:"passState",set:function(e){this.bgSprite.node.active&&(this.bgSprite.grayscale=!e)}}]),t}(u)).prototype,"waveNumLab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(h.prototype,"bgSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(h.prototype,"bossIcon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/StageWaveUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FightNode.ts","./StageWavePoint.ts","./UIHelp.ts","./EventMng.ts","./Constant.ts"],(function(t){var e,n,a,i,o,r,s,u,c,p,h,v,l,f,P,g,d,w,m,y,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.Label,p=t.Node,h=t.Prefab,v=t.Tween,l=t.Component,f=t.instantiate,P=t.tween,g=t.v3},function(t){d=t.FightNode},function(t){w=t.StageWavePoint},function(t){m=t.default},function(t){y=t.EventMng},function(t){_=t.EGameEvent}],execute:function(){var S,b,W,A,T,E,N,C,I;s._RF.push({},"35dc9E0o6lO17L6Um375UTf","StageWaveUI",void 0);var U=u.ccclass,L=u.property;s._RF.push({},"cc52fWPGw1Aj6ybt+gBeBjU","StageWaveUI",void 0);t("StageWaveUI",(S=U("StageWaveUI"),b=L({type:c}),W=L({type:p}),A=L({type:h}),S((N=e((E=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,a(e,"stageIdLab",N,i(e)),a(e,"wavePointParent",C,i(e)),a(e,"wavePointPrefab",I,i(e)),e._stageWavePoints=[],e._stepTime=0,e._waveNum=0,e}n(e,t);var s=e.prototype;return s.start=function(){y.on(_.PLAY_SPEED_CHANGE,this.onChangeSpeed,this)},s.onDestroy=function(){y.off(_.PLAY_SPEED_CHANGE,this.onChangeSpeed,this)},s.init=function(){var t=o(r().mark((function t(){var e,n,a,i,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=d.ins.stageWaveCfs){for(n=0;n<e.length;n++)a=n+1,(i=f(this.wavePointPrefab)).parent=this.wavePointParent,m.setNodePosX(i,100*a),(o=i.getComponent(w)).init(a,e.length<=a),o.passState=!1,this._stageWavePoints.push(o);this.moveStageWaveAct(0,0)}case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.moveStageWaveAct=function(t,e){this.updatePointState(),this._stepTime=t,this._waveNum=e,this.updateAct()},s.updateAct=function(){var t=o(r().mark((function t(){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=100*this._waveNum,v.stopAllByTarget(this.wavePointParent),n=this._stepTime*(e+this.wavePointParent.position.x)/100/Math.max(1,d.ins.curPlaySpeed),t.next=5,m.onTweenPromise(P(this.wavePointParent).to(n,{position:g(-e,0,0)}));case 5:this.updatePointState(),this._stepTime=0;case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.updatePointState=function(){for(var t=0;t<this._stageWavePoints.length;t++)this._stageWavePoints[t].passState=this._waveNum>t},s.onChangeSpeed=function(){0!==d.ins.curPlaySpeed?this._stepTime&&this.updateAct():v.stopAllByTarget(this.wavePointParent)},e}(l)).prototype,"stageIdLab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(E.prototype,"wavePointParent",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(E.prototype,"wavePointPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=E))||T));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/StorePage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PageBase.ts","./UIHelp.ts","./GameCtr.ts","./Constant.ts","./ComFun.ts","./TipsCtr.ts","./AdCtr.ts","./CfgMng.ts","./SdkManager.ts","./UIMng.ts","./UIHelpInfo.ts"],(function(t){var e,n,i,a,r,o,s,l,u,d,p,m,c,f,y,b,h,g,D,B,C,v,w,L,k;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.createClass,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){l=t.cclegacy,u=t._decorator,d=t.Label,p=t.Button,m=t.Node,c=t.Sprite},function(t){f=t.PageBase},function(t){y=t.default},function(t){b=t.default},function(t){h=t.EItemType,g=t.ETJEventName},function(t){D=t.default},function(t){B=t.TipsCtr},function(t){C=t.AdCtr},function(t){v=t.default},function(t){w=t.default},function(t){L=t.UIMng},function(t){k=t.UIHelpInfo}],execute:function(){var N,T,G,F,S,A,R,x,z,I,U,E,P,H,O,M,_,V,j,J,Y,q,K,Q,W,X,Z,$,tt,et,nt,it,at,rt,ot,st,lt,ut,dt,pt,mt,ct,ft,yt,bt,ht,gt,Dt,Bt;l._RF.push({},"77e5551JaFKlqh1Cciv58Ov","StorePage",void 0);var Ct=u.ccclass,vt=u.property;l._RF.push({},"8ed43wwzStCLYjumYsDaJ1+","StorePage",void 0);t("StorePage",(N=Ct("StorePage"),T=vt({type:[d]}),G=vt({type:p}),F=vt({type:p}),S=vt({type:m}),A=vt({type:p}),R=vt({type:d}),x=vt({type:d}),z=vt({type:p}),I=vt({type:d}),U=vt({type:d}),E=vt({type:d}),P=vt({type:p}),H=vt({type:d}),O=vt({type:p}),M=vt({type:d}),_=vt({type:d}),V=vt({type:d}),j=vt({type:p}),J=vt({type:d}),Y=vt({type:[p]}),q=vt({type:[m]}),K=vt({type:m}),Q=vt({type:m}),N((Z=e((X=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,i(e,"giftRewardNumLabs",Z,a(e)),i(e,"giftFreeBtn",$,a(e)),i(e,"giftAdBtn",tt,a(e)),i(e,"giftGetOk",et,a(e)),i(e,"freeDiamondBtn",nt,a(e)),i(e,"freeDiamondTimeLab",it,a(e)),i(e,"freeDiamondGetLab",at,a(e)),i(e,"adDiamondBtn",rt,a(e)),i(e,"adDiamondTimesLab",ot,a(e)),i(e,"adDiamondNumLab",st,a(e)),i(e,"adDiamondNoTipsLab",lt,a(e)),i(e,"adBuyDiamondBtn",ut,a(e)),i(e,"adBuyDiamondNumLab",dt,a(e)),i(e,"adCrystalBtn",pt,a(e)),i(e,"adCrystalTimesLab",mt,a(e)),i(e,"adCrystalNumLab",ct,a(e)),i(e,"adCrystalNoTipsLab",ft,a(e)),i(e,"adBuyCrystalBtn",yt,a(e)),i(e,"adBuyCrystalNumLab",bt,a(e)),i(e,"skillBuyBtns",ht,a(e)),i(e,"skillBuyBtnNumLabs",gt,a(e)),i(e,"skillFreeGetNode",Dt,a(e)),i(e,"randomCardHelpBtn",Bt,a(e)),e}n(e,t);var l=e.prototype;return l.start=function(){y.onRegisterBtnEvent(this.giftFreeBtn,this.onGiftFreeBtnClick.bind(this,!1),this),y.onRegisterBtnEvent(this.giftAdBtn,this.onGiftFreeBtnClick.bind(this,!0),this),y.onRegisterBtnEvent(this.freeDiamondBtn,this.onFreeDiamondBtnClick.bind(this),this),y.onRegisterBtnEvent(this.adDiamondBtn,this.onAdDiamondBtnClick.bind(this),this),y.onRegisterBtnEvent(this.adBuyDiamondBtn,this.onAdBuyDiamond.bind(this),this),y.onRegisterBtnEvent(this.adCrystalBtn,this.onAdCrystalBtnClick.bind(this),this),y.onRegisterBtnEvent(this.adBuyCrystalBtn,this.onAdBuyCrystal.bind(this),this),y.onRegisterBtnEvent(this.skillBuyBtns[0],this.onGetSkill.bind(this,0),this),y.onRegisterBtnEvent(this.skillBuyBtns[1],this.onGetSkill.bind(this,1),this),y.onRegisterBtnEvent(this.randomCardHelpBtn,this.onShowRandomCardHelp.bind(this),this),this.initGiftFreeUI(),this.initDiamondUI(),this.initSkillCardUI()},l.initGiftFreeUI=function(){for(var t=b.playData.isGetFreeGift,e=this.giftFreeRewardNums,n=0;n<e.length;n++)this.giftRewardNumLabs[n].string=e[n].toLocaleString();this.giftFreeBtn.node.active=!t,this.giftAdBtn.node.active=!t,this.giftGetOk.active=t},l.initDiamondUI=function(){var t=this,e=b.playData.isGetShopFreeDiamond;if(this.freeDiamondBtn.interactable=!e,this.freeDiamondGetLab.node.active=!e,this.freeDiamondTimeLab.node.active=e,this.freeDiamondTimeLab.unscheduleAllCallbacks(),e){var n=b.playData.shopFreeDiamondNextTime,i=function(){var e=D.getLocalTime(),i=n-e;i>=0?t.freeDiamondTimeLab.string=D.changeTimeStr(i,0):t.initDiamondUI()};this.freeDiamondTimeLab.schedule(i,1),i()}var a=b.playData.getShopBuyNum(h.Diamond);this.adDiamondNumLab.string=(2*a.num).toLocaleString(),this.refreshAdDiamondTimes(),this.adBuyDiamondNumLab.string=a.num.toLocaleString(),this.adCrystalNumLab.string=v.globalConfig.ShopAdCrystalNum.toLocaleString(),this.refreshAdCrystalTimes(),this.adBuyCrystalNumLab.string=v.globalConfig.ShopAdBuyCrystalNum.toLocaleString()},l.refreshAdDiamondTimes=function(){var t=v.globalConfig.ShopAdDiamondDayTimes,e=t-b.playData.shopAdDiamondTimes;e>0?(this.adDiamondTimesLab.node.parent.active=!0,this.adDiamondTimesLab.string="免费 "+e+"/"+t,this.adDiamondBtn.getComponent(c).grayscale=!1,this.adDiamondNoTipsLab.node.active=!1):(this.adDiamondBtn.getComponent(c).grayscale=!0,this.adDiamondNoTipsLab.node.active=!0,this.adDiamondTimesLab.node.parent.active=!1)},l.refreshAdCrystalTimes=function(){var t=v.globalConfig.ShopAdCrystalDayTimes,e=t-b.playData.shopAdCrystalTimes;e>0?(this.adCrystalTimesLab.node.parent.active=!0,this.adCrystalTimesLab.string="免费 "+e+"/"+t,this.adCrystalBtn.getComponent(c).grayscale=!1,this.adCrystalNoTipsLab.node.active=!1):(this.adCrystalBtn.getComponent(c).grayscale=!0,this.adCrystalNoTipsLab.node.active=!0,this.adCrystalTimesLab.node.parent.active=!1)},l.onGiftFreeBtnClick=function(){var t=o(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,C.ins.showVideo("商店免费礼包双倍");case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:this.onGetFreeGift(e?2:1);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),l.onGetFreeGift=function(t){void 0===t&&(t=1);for(var e=this.giftFreeRewardNums,n=[],i=[h.Gold,h.Diamond,h.Crystal],a=0;a<e.length;a++)n.push({id:i[a],num:e[a]*t});b.playData.getRewards(n),b.playData.isGetFreeGift=!0,this.initGiftFreeUI()},l.onFreeDiamondBtnClick=function(){if(this.freeDiamondBtn.interactable){var t=v.globalConfig.ShopFreeDiamondNum;b.playData.getRewards([{id:h.Diamond,num:t}]),b.playData.isGetShopFreeDiamond=!0,this.initDiamondUI()}else B.showTips("今日已领取，明日再来!")},l.onAdDiamondBtnClick=function(){var t=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.adDiamondNoTipsLab.node.active){t.next=3;break}return B.showTips("今日已领取，明日再来!"),t.abrupt("return");case 3:return t.next=5,C.ins.showVideo("商店钻石");case 5:t.sent&&(e=2*b.playData.getShopBuyNum(h.Diamond).num,b.playData.getRewards([{id:h.Diamond,num:e}]),b.playData.shopAdDiamondTimes++,this.refreshAdDiamondTimes());case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onAdBuyDiamond=function(){var t=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.ins.showVideo("商店购买钻石");case 2:t.sent&&(e=b.playData.getShopBuyNum(h.Diamond).num,b.playData.getRewards([{id:h.Diamond,num:e}]));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l.onAdCrystalBtnClick=function(){var t=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.adCrystalNoTipsLab.node.active){t.next=3;break}return B.showTips("今日已领取，明日再来!"),t.abrupt("return");case 3:return t.next=5,C.ins.showVideo("商店水晶");case 5:t.sent&&(e=v.globalConfig.ShopAdCrystalNum,b.playData.getRewards([{id:h.Crystal,num:e}]),b.playData.shopAdCrystalTimes++,this.refreshAdCrystalTimes());case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onAdBuyCrystal=function(){var t=o(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.ins.showVideo("商店购买水晶");case 2:t.sent&&(e=v.globalConfig.ShopAdBuyCrystalNum,b.playData.getRewards([{id:h.Crystal,num:e}]));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l.initSkillCardUI=function(){this.skillBuyBtnNumLabs[0].getComponent(d).string="x"+this.spinOneGemNum,this.skillBuyBtnNumLabs[1].getComponent(d).string="x"+this.spinTenGemNum;var t=b.playData.isFreeBuyCard;this.skillFreeGetNode.active=t,this.skillBuyBtnNumLabs[0].parent.active=!t},l.onGetSkill=function(){var t=o(s().mark((function t(e){var n,i,a,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=0),0!==e){t.next=12;break}if(!this.skillFreeGetNode.active){t.next=8;break}this.skillFreeGetNode.active=!1,this.skillBuyBtnNumLabs[0].parent.active=!0,b.playData.refreshCardFreeTime(),t.next=10;break;case 8:if(b.playData.addResItemNum(h.Diamond,-this.spinOneGemNum)){t.next=10;break}return t.abrupt("return");case 10:t.next=14;break;case 12:if(b.playData.addResItemNum(h.Diamond,-this.spinTenGemNum)){t.next=14;break}return t.abrupt("return");case 14:n=0===e?1:10,i=[],a=0;case 17:if(!(a<n)){t.next=26;break}if(""!==(r=b.playData.getRandomCard())){t.next=21;break}return t.abrupt("break",26);case 21:i.push({id:h.Card,num:parseInt(r)}),w.sendEvent(g.CardDraw,{name:r});case 23:a++,t.next=17;break;case 26:i.length>0&&b.playData.getRewards(i,!0);case 27:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),l.onShowRandomCardHelp=function(){var t="",e="",n=v.CfgSkill.itemMap;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var a=n[i];if(118===a.id)continue;e+=a.name+": 2.5% "}t+=e,L.ins.openUI(k,{title:"技能随机概率",text:t})},r(e,[{key:"giftFreeRewardNums",get:function(){var t=v.globalConfig.GiftFreeGoldMin,e=v.globalConfig.GiftFreeGoldAdd;return[Math.floor(t+e*b.playData.passTotalStageNum),v.globalConfig.GiftFreeDiamond,v.globalConfig.GiftFreeCrystal]}},{key:"spinOneGemNum",get:function(){return v.globalConfig.CardSpinPrice||25}},{key:"spinTenGemNum",get:function(){return v.globalConfig.CardSpinTenPrice||225}}]),e}(f)).prototype,"giftRewardNumLabs",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=e(X.prototype,"giftFreeBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(X.prototype,"giftAdBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(X.prototype,"giftGetOk",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(X.prototype,"freeDiamondBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=e(X.prototype,"freeDiamondTimeLab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(X.prototype,"freeDiamondGetLab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(X.prototype,"adDiamondBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(X.prototype,"adDiamondTimesLab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(X.prototype,"adDiamondNumLab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(X.prototype,"adDiamondNoTipsLab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(X.prototype,"adBuyDiamondBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(X.prototype,"adBuyDiamondNumLab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(X.prototype,"adCrystalBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(X.prototype,"adCrystalTimesLab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(X.prototype,"adCrystalNumLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(X.prototype,"adCrystalNoTipsLab",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(X.prototype,"adBuyCrystalBtn",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(X.prototype,"adBuyCrystalNumLab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(X.prototype,"skillBuyBtns",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gt=e(X.prototype,"skillBuyBtnNumLabs",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dt=e(X.prototype,"skillFreeGetNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(X.prototype,"randomCardHelpBtn",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=X))||W));l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/TextureUtils.ts",["cc","./ComFun.ts"],(function(e){var t,r,a,n,o,i,c,h,l,u,d,g,v,s;return{setters:[function(e){t=e.cclegacy,r=e.mat4,a=e.v3,n=e.color,o=e.RenderTexture,i=e.director,c=e.view,h=e.UITransform,l=e.Node,u=e.Camera,d=e.Layers,g=e.find,v=e.gfx},function(e){s=e.default}],execute:function(){t._RF.push({},"743bbAuOTRNaoGqYz1HNvIL","TextureUtils",void 0),t._RF.push({},"59ff7AOOBhA2KSBxcVJ4r2e","TextureUtils",void 0);var f=e("default",function(){function e(){}return e._capture=function(t,r){var a=e.getCamera(),n=a.node,c=new o,h=e.changeLayer(t,e._layer);return c.reset({width:r.width,height:r.height}),n.setPosition(r.x,r.y),t.addChild(n),a.orthoHeight=r.height/2,a.targetTexture=c,i.root.frameMove(0),a.targetTexture=null,n.parent=null,h.forEach((function(e){e[0].layer=e[1]})),c},e._getNodeInfo=function(t){var r=e._tmpInfo,a=t.getWorldMatrix(e._tmpMat4).getScale(e._tmpVec3);if(r.scaleX=a.x,r.scaleY=a.y,r.scaleZ=a.z,t===i.getScene()){var n=c._visibleRect;r.anchorX=r.anchorY=0,r.width=n.width,r.height=n.height,r.scaleX=r.scaleY=1}else{var o=t.getComponent(h);o?(r.anchorX=o.anchorX,r.anchorY=o.anchorY,r.width=o.width,r.height=o.height):(r.anchorX=r.anchorY=.5,r.width=r.height=1)}return r},e.getCamera=function(t){var r=e._camera;if(!r){var a=new l("TextureUtils");(r=e._camera=a.addComponent(u)).clearColor=r.clearColor.set(0,0,0,0),r.visibility=d.Enum.ALL}return r.near=t?1:0,r.projection=t?1:0,r.clearFlags=t?2:0,r},e.changeLayer=function(t,r,a){void 0===a&&(a=[]);var n=t.children;return a.push([t,t.layer]),t.layer=r,n&&n.forEach((function(t){e.changeLayer(t,r,a)})),a},e.getCanvas=function(){return e._canvas||(e._canvas=document.createElement("canvas")),e._canvas},e.capture=function(t,r){void 0===t&&(t=g("Canvas")||i.getScene()),void 0===r&&(r={});var a=e._getNodeInfo(t);return void 0===r.width&&(r.width=a.width*a.scaleX),void 0===r.height&&(r.height=a.height*a.scaleY),void 0===r.x&&(r.x=(.5-a.anchorX)*a.width),void 0===r.y&&(r.y=(.5-a.anchorY)*a.height),e._capture(t,r)},e.readPixels=function(e,t,r){void 0===r&&(r={});var a=e.width,n=e.height,o=r.width||a,i=r.height||n;void 0===r.x&&(r.x=(a-o)/2|0),void 0===r.y&&(r.y=(n-i)/2|0);var c=0|o,h=0|i,l=e.getGFXTexture(),u=e._getGFXDevice(),d=[],g=new v.BufferTextureCopy,s=new Uint8Array(c*h*4);if(g.texOffset.x=0|r.x,g.texOffset.y=0|r.y,g.texExtent.width=c,g.texExtent.height=h,d.push(s),null==u||u.copyTextureToBuffers(l,d,[g]),t)for(var f=4*c,m=0;m<h/2;m++)for(var p=0;p<f;p++){var x=m*f+p,w=(h-m-1)*f+p,y=s[x];s[x]=s[w],s[w]=y}return[s,c,h]},e.toImgUrl=function(t,r,a){var n=e.readPixels(t,r,a),o=n[0],i=n[1],c=n[2],h=e.getCanvas(),l=h.getContext("2d"),u=4*i;h.width=i,h.height=c;for(var d=0;d<c;d++){for(var g=l.createImageData(i,1),v=d*i*4,s=0;s<u;s++)g.data[s]=o[v+s];l.putImageData(g,0,d)}var f=h.toDataURL("image/png");return l.clearRect(0,0,i,c),f},e.base64ToBuffer=function(e){for(var t=e.split(",")[1],r="=".repeat((4-t.length%4)%4),a=atob((t+r).replace(/\-/g,"+").replace(/_/g,"/")),n=a.length,o=new Uint8Array(n),i=0;i<n;i++)o[i]=a.charCodeAt(i);return o},e.drawElement=function(t,r){var a=e.getCanvas(),n=a.getContext("2d"),o=t.width,i=t.height;if(o&&i||!(t instanceof HTMLVideoElement)||(o=t.videoWidth,i=t.videoHeight),r){var c=r.width||o,h=r.height||i,l=Math.min(c/o,h/i),u=r.x,d=r.y;a.width=c,a.height=h,o*=l,i*=l,isNaN(u)&&(u=c-o>>1),isNaN(d)&&(d=h-i>>1),n.drawImage(t,u,d,0|o,0|i)}else a.width=o,a.height=i,n.drawImage(t,0,0);var g=a.toDataURL("image/png");return n.clearRect(0,0,a.width,a.height),g},e.drawImage=function(t,r){var a=new Image;return a.src=t,new Promise((function(n){var o=function(){a.src="",a.onload=a.onerror=null};a.onload=function(){n(e.drawElement(a,r)),o()},a.onerror=function(){console.error("error url",t),o(),n(void 0)}}))},e.drawVideo=function(t,r){var a=document.createElement("video");return a.src=t,a.volume=0,a.play().then((function(){return 0===a.videoWidth||0===a.videoHeight?"":e.drawElement(a,r)})).catch((function(){console.error("error url",t)})).then((function(e){return a.pause(),a.src="",e}))},e.drawModel=function(t,r,a){void 0===a&&(a=2);var n=e.getCamera(!0),o=n.node,c=i.getScene(),h=t.position,l=t.parent,u=e._tmpVec3.set(h),d=t.layer,g=s.getMMPosition(t),v=c.getChildByName("playNode");if(h.set(0,0,-5),t.layer=e._layer,t.parent=o,g){var f=g[0],m=g[1],p=a/s.getAbsMax(f.x,f.y,f.z,m.x,m.y,m.z);t.worldScale=t.worldScale.multiply3f(p,p,p),h.x=-(m.x+f.x)/2*p,h.y=-(m.y+f.y)/2*p}t.position=h,v&&(v.active=!1),o.parent=c;var x=e.camera(n),w=e.toImgUrl(x,!0,Object.assign({y:x.height-r.height>>1},r));return v&&(v.active=!0),t.parent=l,t.position=u,t.layer=d,o.parent=null,w},e.camera=function(t,r){void 0===r&&(r=.5);var a=new o,n=c._visibleRect,h=Math.round,l=t.targetTexture,u=e._tmpColor.set(t.clearColor);return a.reset({width:h(n.width*r),height:h(n.height*r)}),t.targetTexture=a,t.clearColor=t.clearColor.set(0,0,0,0),i.root.frameMove(0),t.targetTexture=l,t.clearColor=u,a},e}());f._layer=1<<17,f._camera=void 0,f._canvas=void 0,f._tmpMat4=r(),f._tmpVec3=a(),f._tmpInfo={},f._tmpColor=n(),t._RF.pop(),t._RF.pop()}}}));

System.register("chunks:///_virtual/TimeUtil.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i;return{setters:[function(t){n=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"117cfzrSTdH6LAFFUb9ijcD","TimeUtil",void 0),i._RF.push({},"4f0cfRHKGtM8o+5lLSxsc+4","TimeUtil",void 0);t("default",new(function(){function t(){this._cantouch={},this._soloKeys=[]}var i=t.prototype;return i.wait=function(t){return new Promise((function(n){setTimeout(n,t)}))},i.waitFrame=function(t){return void 0===t&&(t=1),new Promise((function(n){var e=0;!function i(){requestAnimationFrame((function(){++e>=t?n():i()}))}()}))},i.ButtonWait=function(t,n){var e=this;return void 0===t&&(t="btn"),void 0===n&&(n=300),t in this._cantouch||(this._cantouch[t]=!0,setTimeout((function(){delete e._cantouch[t]}),n),!1)},i.SoloFunction=function(){var t=n(e().mark((function t(n,i){var o,r;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===i&&(i="normal"),!(this._soloKeys.indexOf(i)>-1)){t.next=3;break}return t.abrupt("return",void 0);case 3:return this._soloKeys.push(i),t.next=6,n();case 6:return o=t.sent,(r=this._soloKeys.indexOf(i))>-1&&this._soloKeys.splice(r,1),t.abrupt("return",o);case 10:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),t}()));i._RF.pop(),i._RF.pop()}}}));

System.register("chunks:///_virtual/TipsCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n,r,s,a,p,c,u,l,f,h,d,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,p=t._decorator,c=t.Prefab,u=t.NodePool,l=t.Component,f=t.instantiate,h=t.Label,d=t.Vec3,y=t.tween}],execute:function(){var v,T,w,_,b,m;a._RF.push({},"1ba80iVyFZFbpL0vMizLnsy","TipsCtr",void 0);var P=p.ccclass,g=p.property;a._RF.push({},"e1f62qhzyBKZpCMMEj/APoL","TipsCtr",void 0);t("TipsCtr",(v=P("TipsCtr"),T=g({tooltip:"节点",type:c}),v(((m=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"tipsPrefab",b,n(e)),e._tipsNodePool=new u,e}i(e,t);var a=e.prototype;return a.onLoad=function(){e.ins=this},e.showTips=function(t,i){e.ins.showTips(t,i)},a.showTips=function(){var t=r(s().mark((function t(e,i){var o,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=this,(n=this._tipsNodePool.get())||(n=f(this.tipsPrefab)),n.parent=this.node,n.getComponentInChildren(h).string=e,n.position=new d(0,0,0),y(n).to(.2,{position:new d(0,100,0)}).delay(1).call((function(){o._tipsNodePool.put(n),i&&i()})).start();case 7:case"end":return t.stop()}}),t,this)})));return function(e,i){return t.apply(this,arguments)}}(),e.laterTips=function(t,i){void 0===i&&(i=500),e._timeout=setTimeout(e.showTips,i,t)},e.clearLater=function(){clearTimeout(e._timeout)},e}(l)).ins=void 0,m._timeout=void 0,b=e((_=m).prototype,"tipsPrefab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=_))||w));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/TTSiderbarBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./UIMng.ts","./UITTSidebar.ts","./EventMng.ts","./Constant.ts","./GameCtr.ts"],(function(t){var n,e,i,o,a,r,c,s,u,l,f,T,d,p,S,h,E;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Button,s=t.Component},function(t){u=t.default},function(t){l=t.UIMng},function(t){f=t.UITTSidebar,T=t.EUITTSidebarState},function(t){d=t.EventMng},function(t){p=t.EGamePlatform,S=t.EGameEvent,h=t.EGameDataKey},function(t){E=t.default}],execute:function(){var v,b,_,g,y;a._RF.push({},"92bd1W5TWZHEKC4qm6Lf/Cw","TTSiderbarBtn",void 0);var B=r.ccclass,I=r.property;a._RF.push({},"aa2f4e48HtN4aX68dGS0/nu","TTSiderbarBtn",void 0);t("TTSiderbarBtn",(v=B("TTSiderbarBtn"),b=I(c),v((y=n((g=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"btn",y,o(n)),n}e(n,t);var a=n.prototype;return a.onLoad=function(){var t=this;this.node.active=!1,E.platform===p.TT&&(d.on(S.TT_SIDEBAR_STATE_CHANGE,this.onUpdateState,this),u.onRegisterBtnEvent(this.btn,this.onClick,this),tt.checkScene({scene:"sidebar",success:function(n){console.log("check scene success: ",n.isExist),n.isExist?(t.node.active=!0,t.onUpdateState()):t.node.active=!1},fail:function(t){console.log("check scene fail:",t)}}))},a.onDestroy=function(){d.off(S.TT_SIDEBAR_STATE_CHANGE,this.onUpdateState,this)},a.onClick=function(){l.ins.openUI(f)},a.onUpdateState=function(){var t=E.playData.getData(h.TT_SIDEBAR_STATE,0);this.node.active=t!==T.End},n}(s)).prototype,"btn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=g))||_));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/Turntable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./CommonItem.ts","./AudioMng.ts"],(function(e){var t,r,n,i,o,a,u,l,s,p,c,d,f,b,h,g,m,y,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass,a=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,p=e.Node,c=e.Prefab,d=e.AudioClip,f=e.instantiate,b=e.Component,h=e.Tween,g=e.tween},function(e){m=e.default},function(e){y=e.CommonItem},function(e){w=e.AudioMng}],execute:function(){var N,A,v,C,P,T,_,R,z,F,I,x,D;l._RF.push({},"ea1abGnrIRJPoT4NCiHNVWy","Turntable",void 0);var k=s.ccclass,q=s.property;l._RF.push({},"5891ciY07NDsqJ04igFpX/R","Turntable",void 0);e("Turntable",(N=k("Turntable"),A=q({type:p}),v=q({type:p}),C=q({type:p}),P=q({type:c}),T=q({type:d}),N((z=t((R=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"rotateNode",z,i(t)),n(t,"itemsNode",F,i(t)),n(t,"topArrowNode",I,i(t)),n(t,"itemPrefab",x,i(t)),n(t,"rotateAudioClip",D,i(t)),t._rewardPieces=[],t}r(t,e);var l=t.prototype;return l.start=function(){},l.initRewards=function(e){this._rewardPieces=e;for(var t=this.itemsNode.children,r=0;r<t.length;r++){var n=t[r],i=n.children[0],o=e[r];o?(i||((i=f(this.itemPrefab)).parent=n),i.getComponent(y).init({id:o.id,num:o.num})):i&&(i.active=!1)}},l.beginSpin=function(){var e=a(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=45*t,w.playAudioClip(this.rotateAudioClip,!0),g(this.topArrowNode).repeatForever(g(this.topArrowNode).to(.05,{angle:-6}).to(.05,{angle:6})).start(),e.next=5,m.onTweenPromise(g(this.rotateNode).by(2,{angle:-1440},{easing:"quartIn"}));case 5:return this.rotateNode.angle=r,e.next=8,m.onTweenPromise(g(this.rotateNode).by(2,{angle:-1440},{easing:"quartOut"}));case 8:w.stopAudioClip(this.rotateAudioClip),h.stopAllByTarget(this.topArrowNode),this.topArrowNode.angle=0;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o(t,[{key:"rewardPieces",get:function(){return this._rewardPieces}}]),t}(b)).prototype,"rotateNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(R.prototype,"itemsNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(R.prototype,"topArrowNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(R.prototype,"itemPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(R.prototype,"rotateAudioClip",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=R))||_));l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/TurrentPropertyCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./Constant.ts","./GameCtr.ts","./TurrentPropertyCtr.ts","./TipsCtr.ts","./AudioMng.ts","./EventMng.ts","./CfgMng.ts","./ComFun.ts"],(function(t){var e,n,i,r,o,u,a,l,s,p,c,h,d,m,y,f,b,C,v,L,N,g,_,S,T,k,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){u=t.cclegacy,a=t._decorator,l=t.Label,s=t.Button,p=t.SpriteFrame,c=t.Sprite,h=t.AudioClip,d=t.Node,m=t.Component},function(t){y=t.default},function(t){f=t.EGameEvent,b=t.PercentPropertyIds,C=t.EItemType,v=t.ETurretPropertyId,L=t.ELabPropertyId},function(t){N=t.default},function(t){g=t.default},function(t){_=t.TipsCtr},function(t){S=t.AudioMng},function(t){T=t.EventMng},function(t){k=t.default},function(t){P=t.default}],execute:function(){var B,E,U,I,z,A,x,F,w,D,M,G,R,O,Y,H,V,j,K,q,J;u._RF.push({},"37332yzEvxFCbdUY+dsbjhr","TurrentPropertyCard",void 0);var Q=a.ccclass,W=a.property;u._RF.push({},"37332yzEvxFCbdUY+dsbjhr","TurrentPropertyCard",void 0);var X=t("EPropertyCardModel",function(t){return t[t.Coin=0]="Coin",t[t.Gold=1]="Gold",t}({}));t("TurrentPropertyCard",(B=Q("TurrentPropertyCard"),E=W({type:l}),U=W({type:l}),I=W({type:l}),z=W({type:l}),A=W({type:s}),x=W({type:[p]}),F=W({type:c}),w=W({type:[p]}),D=W({type:h}),B((R=e((G=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o))||this,i(e,"nameLab",R,r(e)),i(e,"needNumLab",O,r(e)),i(e,"curNumLab",Y,r(e)),i(e,"nextNumLab",H,r(e)),i(e,"clickBtn",V,r(e)),i(e,"clickBtnStateSpriteFrames",j,r(e)),i(e,"iconSprite",K,r(e)),i(e,"iconStateSpriteFrames",q,r(e)),i(e,"upLvAudioClip",J,r(e)),e._propertyId="",e._model=X.Coin,e._lv=0,e._propertyCf=null,e._needNum=0,e._onClickLvUpBtn=null,e}n(e,t);var u=e.prototype;return u.start=function(){T.on(f.UPDATE_RES,this.updateBtnState.bind(this),this),this.clickBtn.node.on(d.EventType.TOUCH_START,this.onTouchStart,this),this.clickBtn.node.on(d.EventType.TOUCH_END,this.onTouchEnd,this),this.clickBtn.node.on(d.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},u.onDestroy=function(){T.off(f.UPDATE_RES,this.updateBtnState.bind(this),this)},u.init=function(t,e,n){this.node.name=t,this._model=e,this._propertyId=t;var i=k.CfgPropertyLv.getItem(t);i&&(this._onClickLvUpBtn=n,this._propertyCf=i,this.clickBtn.normalSprite=this.clickBtnStateSpriteFrames[e],this.iconSprite.spriteFrame=this.iconStateSpriteFrames[e],this.nameLab.string=i.name||"")},u.propertyNumToString=function(t){return b.indexOf(this._propertyId)>-1?P.percentToNumber(t)+"%":t.toLocaleString()},u.updateBtnState=function(t){t!==C.Coin&&t!==C.Gold||(this.clickBtn.getComponent(c).grayscale=this._needNum>this.coinNum)},u.getCurLvPropertyNum=function(t){return this._model===X.Coin?k.getLvPropertyNum(this._propertyId,t+N.playData.getGoldPropertyLv(this._propertyId)):k.getLvPropertyNum(this._propertyId,t)},u.getLvUpNeedNum=function(){if(this._model===X.Coin){var t=k.getLvUpCoinPrice(this._propertyId,this._lv+1),e=g.getPropertyValue(v.CoinCostReduce);return e>0&&(t=Math.round(t*(1-e))),t}var n=k.getLvUpGoldPrice(this._propertyId,this._lv),i=g.getLabPropertyValue(L.LAB_GOLD_DISCOUNT);return i>0&&(n=Math.round(n*(1-i))),n},u.onCheckLvUp=function(){if(-1===this._needNum)return _.showTips("已经满级！"),!1;var t=this._onClickLvUpBtn&&this._onClickLvUpBtn(this);return t&&S.playAudioClip(this.upLvAudioClip),t||!1},u.onTouchStart=function(){var t=this;this.onCheckLvUp()&&(this.clickBtn.unscheduleAllCallbacks(),this.clickBtn.schedule((function(){t.onCheckLvUp()||t.clickBtn.unscheduleAllCallbacks()}),.2))},u.onTouchEnd=function(t){this.clickBtn.unscheduleAllCallbacks(),T.emit(f.SCENE_CLICK,null==t?void 0:t.getUILocation())},o(e,[{key:"propertyId",get:function(){return this._propertyId}},{key:"lv",get:function(){return this._lv},set:function(t){this._lv=t;var e=this.getCurLvPropertyNum(this._lv);this.curNumLab.string=this.propertyNumToString(e),this._propertyCf.maxValue&&e>=this._propertyCf.maxValue?(this._needNum=-1,this.clickBtn.node.active=!1,this.nextNumLab.string="Maxed",y.setNodePosY(this.curNumLab.node,25),y.setNodePosY(this.nextNumLab.node,-10),this.curNumLab.fontSize=35,this.nextNumLab.fontSize=30):(this.clickBtn.node.active=!0,this._needNum=this.getLvUpNeedNum(),this.needNumLab.string=this._needNum.toLocaleString(),this.nextNumLab.string="▶"+this.propertyNumToString(this.getCurLvPropertyNum(this._lv+1)),y.setNodePosY(this.curNumLab.node,42),y.setNodePosY(this.nextNumLab.node,18),this.curNumLab.fontSize=25,this.nextNumLab.fontSize=20,this.updateBtnState(C.Coin))}},{key:"lvUpNeedNum",get:function(){return this._needNum}},{key:"coinNum",get:function(){return this._model===X.Coin?g.coinNum:N.playData.getResItemNum(C.Gold)}}]),e}(m)).prototype,"nameLab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(G.prototype,"needNumLab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(G.prototype,"curNumLab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(G.prototype,"nextNumLab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(G.prototype,"clickBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(G.prototype,"clickBtnStateSpriteFrames",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=e(G.prototype,"iconSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(G.prototype,"iconStateSpriteFrames",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=e(G.prototype,"upLvAudioClip",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=G))||M));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/TurrentPropertyCtr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventMng.ts","./Constant.ts","./GameCtr.ts","./CfgMng.ts"],(function(t){var r,e,a,i,o,n,l,s;return{setters:[function(t){r=t.createClass},function(t){e=t.cclegacy},function(t){a=t.EventMng},function(t){i=t.EItemType,o=t.EGameEvent,n=t.PercentPropertyIds},function(t){l=t.default},function(t){s=t.default}],execute:function(){e._RF.push({},"dc20cLiU+tJMYFAJcKtYJjc","TurrentPropertyCtr",void 0),e._RF.push({},"47150iuZlxHtqkFpt2RfiAs","TurrentPropertyCtr",void 0);t("default",new(function(){function t(){this._allPropertyLvData={},this._allPropertyValueData={},this._dropItemDatas={},this._labPropertyValueData={},this._skillPropertyValueData={}}var e=t.prototype;return e.init=function(t){for(var r in this._allPropertyLvData={},t)Object.prototype.hasOwnProperty.call(t,r)&&(this._allPropertyLvData[r]=0);this._allPropertyValueData={},this._dropItemDatas={},this._labPropertyValueData={},this._skillPropertyValueData={}},e.isUnlock=function(t){return this._allPropertyLvData.hasOwnProperty(t)},e.getLv=function(t){return this._allPropertyLvData[t]||0},e.isBaseLvProperty=function(t){return!!s.CfgPropertyLv.getItem(t)},e.getPropertyValue=function(t,r){void 0===r&&(r=!1);var e=this._allPropertyValueData[t];if(!e||r){if(e=0,this.isBaseLvProperty(t)){var a=this.getLv(t)+l.playData.getGoldPropertyLv(t);e=a>0?s.getLvPropertyNum(t,a):0}this._skillPropertyValueData[t]&&(e+=this._skillPropertyValueData[t]),this._allPropertyValueData[t]=e}return e},e.addLv=function(t,r){void 0===r&&(r=1);var e=this.getLv(t);return e+=r,this._allPropertyLvData[t]=e,this.getPropertyValue(t,!0),e},e.cutCoin=function(t){return!(this.coinNum-t<0)&&(this._dropItemDatas[i.Coin]=this.coinNum-t,a.emit(o.PLAY_RES_CHANGE,[{id:i.Coin,num:t}]),!0)},e.getItems=function(t){for(var r=0;r<t.length;r++){var e=t[r];this._dropItemDatas[e.id]=(this._dropItemDatas[e.id]||0)+e.num}a.emit(o.PLAY_RES_CHANGE,t)},e.getItemNum=function(t){return Math.floor(this._dropItemDatas[t]||0)},e.getLabPropertyValue=function(t,r){return void 0===r&&(r=!1),(void 0===this._labPropertyValueData[t]||r)&&(this._labPropertyValueData[t]=s.getLabPropertyNum(t,l.playData.getLabAttLv(t))),this._labPropertyValueData[t]},e.addSkillProperty=function(t,r){if(void 0===r&&(r=0),0!==r){var e=n.indexOf(t)>-1;this.setSkillProperty(t,(this._skillPropertyValueData[t]||0)*(e?100:1)+r)}},e.setSkillProperty=function(t,r){var e=n.indexOf(t)>-1;this._skillPropertyValueData[t]=(e?.01:1)*r,this._allPropertyValueData[t]=0,a.emit(o.PLAY_PROPERTY_UPDATE,t)},r(t,[{key:"coinNum",get:function(){return this._dropItemDatas[i.Coin]||0}},{key:"allDropItemDatas",get:function(){return this._dropItemDatas}}]),t}()));e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/UIActAni.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIActBase.ts","./UIHelp.ts"],(function(t){var n,e,r,i,a,c,o,s,u,p,l,f;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,c=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,u=t.Animation,p=t.AnimationClip},function(t){l=t.UIActBase},function(t){f=t.default}],execute:function(){var y,h,A,v,d;o._RF.push({},"6c771JfMBlIn4DHjux6SwYM","UIActAni",void 0);var I=s.ccclass,x=s.menu,g=s.property;o._RF.push({},"2ee67VKOplPe41w3pfgWyXu","UIActAni",void 0);t("default",(y=x("UI/Act/UIActAni"),h=g({tooltip:"动画",type:u}),I(A=y((d=n((v=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return n=t.call.apply(t,[this].concat(a))||this,r(n,"ani",d,i(n)),n._zeroOpacity=0,n}e(n,t);var o=n.prototype;return o.playOpenAct=function(){var t=a(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.playAni(this.ani,0);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.playCloseAct=function(){var t=a(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.ani.clips.length>1)){t.next=5;break}return t.next=3,f.playAni(this.ani,1);case 3:t.next=7;break;case 5:return t.next=7,f.playAni(this.ani,0,p.WrapMode.Reverse);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n}(l)).prototype,"ani",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=v))||A)||A));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/UIActBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,o,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,c=t.Component}],execute:function(){var r;e._RF.push({},"74a8fzVYB9Nbq3egYzBw92H","UIActBase",void 0);var s=o.ccclass;o.menu,o.property;e._RF.push({},"3b525boTJpKPqP3FEFLY6J3","UIActBase",void 0);t("UIActBase",s("UIActBase")(r=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onLoad=function(){},o.playOpenAct=function(){return new Promise((function(t,n){t()}))},o.playCloseAct=function(){return new Promise((function(t,n){t()}))},e}(c))||r);e._RF.pop(),e._RF.pop()}}}));

System.register("chunks:///_virtual/UIActDown.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./UIActBase.ts"],(function(e){var o,t,n,i,r,s,c,l,a,u,p;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,c=e.Node,l=e.view,a=e.tween},function(e){u=e.default},function(e){p=e.UIActBase}],execute:function(){var v,d,f,m,h,y;r._RF.push({},"82151yiK6NCIaSofpQIY/xm","UIActDown",void 0);var N=s.ccclass,g=s.menu,b=s.property;r._RF.push({},"342552lne5EbL6jJrOzB/di","UIActDown",void 0);e("default",(v=g("UI/Act/UIActDown"),d=b({tooltip:"移动的node",type:c}),N(f=v((h=o((m=function(e){function o(){for(var o,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return o=e.call.apply(e,[this].concat(r))||this,n(o,"moveNode",h,i(o)),n(o,"moveEndPosY",y,i(o)),o}t(o,e);var r=o.prototype;return r.onLoad=function(){u.setNodePosY(this.moveNode,this.moveEndPosY+l.getVisibleSize().height)},r.playOpenAct=function(){var e=this;return new Promise((function(o,t){if(e.moveNode){var n=e.moveNode.position.clone();n.y=e.moveEndPosY+l.getVisibleSize().height,e.moveNode.position=n;var i=n.clone();i.y=e.moveEndPosY,a(e.moveNode).to(.3,{position:i}).call((function(){o()})).start()}else o()}))},r.playCloseAct=function(){var e=this;return new Promise((function(o,t){if(e.moveNode){var n=e.moveNode.position.clone();n.y=e.moveEndPosY+l.getVisibleSize().height,a(e.moveNode).to(.3,{position:n}).call((function(){o()})).start()}else o()}))},o}(p)).prototype,"moveNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=o(m.prototype,"moveEndPosY",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=m))||f)||f));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/UIActOpacity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIActBase.ts"],(function(t){var e,o,i,n,r,c,a,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.UIOpacity,p=t.tween},function(t){u=t.UIActBase}],execute:function(){var l,s,y,f,d,h,m;r._RF.push({},"dac2bCUCQRGj6KuHDT0mOC4","UIActOpacity",void 0);var O=c.ccclass,v=c.menu,A=c.property;r._RF.push({},"40faeeaj65GwqZobNwB4QHU","UIActOpacity",void 0);t("default",(l=v("UI/Act/UIActOpacity"),s=A({tooltip:"透明度",type:a}),y=A({tooltip:"时间"}),O(f=l((h=e((d=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,i(e,"opNode",h,n(e)),i(e,"time",m,n(e)),e._zeroOpacity=0,e}o(e,t);var r=e.prototype;return r.onLoad=function(){this._zeroOpacity=this.opNode.opacity},r.playOpenAct=function(){var t=this;return new Promise((function(e,o){t.opNode?(t.opNode.opacity=0,p(t.opNode).to(t.time,{opacity:t._zeroOpacity}).call((function(){e()})).start()):e()}))},r.playCloseAct=function(){var t=this;return new Promise((function(e,o){t.opNode?(t.opNode.opacity=t._zeroOpacity,p(t.opNode).to(t.time,{opacity:0}).call((function(){e()})).start()):e()}))},e}(u)).prototype,"opNode",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(d.prototype,"time",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=d))||f)||f));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/UIActScale.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIActBase.ts"],(function(e){var c,t,o,l,a,n,r,i,s,u;return{setters:[function(e){c=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,r=e.Node,i=e.Vec3,s=e.tween},function(e){u=e.UIActBase}],execute:function(){var p,d,f,y,h;a._RF.push({},"cc5d4kPZ1hAtovQxMQeVM0v","UIActScale",void 0);var S=n.ccclass,v=n.menu,_=n.property;a._RF.push({},"3e048MVXDpJy72x+onsVElo","UIActScale",void 0);e("default",(p=v("UI/Act/UIActScale"),d=_({tooltip:"缩放的node",type:r}),S(f=p((h=c((y=function(e){function c(){for(var c,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return c=e.call.apply(e,[this].concat(a))||this,o(c,"scaleNode",h,l(c)),c._zeroScale=new i(1,1,1),c}t(c,e);var a=c.prototype;return a.onLoad=function(){this._zeroScale=this.scaleNode.scale.clone()},a.playOpenAct=function(){var e=this;return new Promise((function(c,t){e.scaleNode?(e.scaleNode.scale=new i(.1,.1,.1),s(e.scaleNode).to(.2,{scale:e._zeroScale.clone().multiplyScalar(1.2)}).to(.1,{scale:e._zeroScale.clone()}).call((function(){c()})).start()):c()}))},a.playCloseAct=function(){var e=this;return new Promise((function(c,t){e.scaleNode?(e.scaleNode.scale=e._zeroScale.clone(),s(e.scaleNode).to(.1,{scale:e._zeroScale.clone().multiplyScalar(1.2)}).to(.2,{scale:new i(.1,.1,.1)}).call((function(){c()})).start()):c()}))},c}(u)).prototype,"scaleNode",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f)||f));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/UIActUp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIActBase.ts"],(function(e){var t,o,i,n,r,c,s,a,l,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,s=e.Node,a=e.view,l=e.tween},function(e){p=e.UIActBase}],execute:function(){var u,v,f,d,h,y;r._RF.push({},"e53b3uzELhJE6XwUs9EVZCV","UIActUp",void 0);var m=c.ccclass,U=c.menu,A=c.property;r._RF.push({},"ec273HDMkpLX4jqntf47r2s","UIActUp",void 0);e("default",(u=m("UIActUp"),v=U("UI/Act/UIActUp"),f=A({tooltip:"移动的node",type:s}),u(d=v((y=t((h=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),c=0;c<o;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"moveNode",y,n(t)),t}o(t,e);var r=t.prototype;return r.onLoad=function(){},r.playOpenAct=function(){var e=this;return new Promise((function(t,o){if(e.moveNode){var i=e.moveNode.position.clone();i.y=-a.getVisibleSize().height,e.moveNode.position=i;var n=i.clone();n.y=0,l(e.moveNode).to(.3,{position:n}).call((function(){t()})).start()}else t()}))},r.playCloseAct=function(){var e=this;return new Promise((function(t,o){if(e.moveNode){var i=e.moveNode.position.clone();i.y=-a.getVisibleSize().height,l(e.moveNode).to(.3,{position:i}).call((function(){t()})).start()}else t()}))},t}(p)).prototype,"moveNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h))||d)||d));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/UIAdBuff.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./AdCtr.ts","./SdkManager.ts","./FightNode.ts","./TipsCtr.ts","./ComFun.ts","./Constant.ts"],(function(t){var e,n,r,i,a,u,o,f,s,l,c,p,d,b,h,y,g,m,B,k,P,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.createClass,u=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){f=t.cclegacy,s=t._decorator,l=t.Button,c=t.Node,p=t.Label},function(t){d=t.default},function(t){b=t.default},function(t){h=t.EResBundleName,y=t.EUILayer},function(t){g=t.AdCtr},function(t){m=t.default},function(t){B=t.FightNode},function(t){k=t.TipsCtr},function(t){P=t.default},function(t){A=t.ETurretPropertyId}],execute:function(){var I,v,C,L,S,w,D,R,U,T,N,z,F,E,_,x;f._RF.push({},"b6f4ecvc1BNjrl1Dehh4GaV","UIAdBuff",void 0);var G=s.ccclass,j=s.property;f._RF.push({},"9ebf3x5iFtN6KYJ+QekRRqX","UIAdBuff",void 0);t("UIAdBuff",(I=G("UIAdBuff"),v=j({type:l}),C=j({type:l}),L=j({type:c}),S=j({type:p}),w=j({type:p}),D=j({type:p}),I(((x=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a))||this,r(e,"adBtn",T,i(e)),r(e,"closeBtn",N,i(e)),r(e,"btnsNode",z,i(e)),r(e,"buffTimeLab",F,i(e)),r(e,"atkPerLab",E,i(e)),r(e,"atkSpeedPerLab",_,i(e)),e}n(e,t);var f=e.prototype;return f.onStart=function(){b.onRegisterBtnEvent(this.closeBtn,this.onCloseUI,this),b.onRegisterBtnEvent(this.adBtn,this.onAdGet,this),this.buffTimeLab.string=P.changeTimeStr(this.buffData.time,3),this.atkPerLab.string="攻击+"+this.buffData.attackPer+"%",this.atkSpeedPerLab.string="攻速+"+this.buffData.attackSpeedPer+"%"},f.onOpenAct=function(){},f.onAdGet=function(){var t=u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.ins.showVideo("游戏buff");case 2:t.sent&&(m.sendStageEventRun(B.ins.worldStageId,"游戏buff"),k.showTips("获得游戏buff"),B.ins.addBuff({propertyId:A.AtkAddPer,num:this.buffData.attackPer,time:this.buffData.time}),B.ins.addBuff({propertyId:A.AtkSpeedAddPer,num:this.buffData.attackSpeedPer,time:this.buffData.time}),this.onClose(!0));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),f.onCloseUI=function(){this.onClose()},a(e,[{key:"buffData",get:function(){return{time:180,attackPer:30,attackSpeedPer:15}}}]),e}(d)).uiCf={bundle:h.Play,path:"ui/UIAdBuff",layer:y.Normal},T=e((U=x).prototype,"adBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(U.prototype,"closeBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(U.prototype,"btnsNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(U.prototype,"buffTimeLab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(U.prototype,"atkPerLab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(U.prototype,"atkSpeedPerLab",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=U))||R));f._RF.pop(),f._RF.pop()}}}));

System.register("chunks:///_virtual/UIAddRes.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./GameCtr.ts","./AdCtr.ts","./ComFun.ts","./ResLoadHelper.ts"],(function(t){var e,n,r,i,a,s,o,u,l,c,p,d,f,h,y,m,b,R,v,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,u=t._decorator,l=t.Button,c=t.Label,p=t.Sprite,d=t.isValid},function(t){f=t.default},function(t){h=t.default},function(t){y=t.EResBundleName,m=t.EUILayer},function(t){b=t.default},function(t){R=t.AdCtr},function(t){v=t.default},function(t){g=t.default}],execute:function(){var w,B,D,_,I,A,S,U,L,C,F,z;o._RF.push({},"92852Ml7lJOs52r5wvr74+F","UIAddRes",void 0);var G=u.ccclass,N=u.property;o._RF.push({},"4fe44laZvhBtq6OGiZUu1SL","UIAddRes",void 0);t("UIAddRes",(w=G("UIAddRes"),B=N({type:l}),D=N({type:l}),_=N({type:c}),I=N({type:p}),w(((z=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,r(e,"closeBtn",U,i(e)),r(e,"adBtn",L,i(e)),r(e,"resNumLab",C,i(e)),r(e,"iconSprite",F,i(e)),e._resData=void 0,e}n(e,t);var o=e.prototype;return o.onStart=function(){var t=a(s().mark((function t(){var e,n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.onRegisterBtnEvent(this.closeBtn,this.onClose,this),h.onRegisterBtnEvent(this.adBtn,this.onAdGetReward,this),e=this.uiData.resType,this._resData=b.playData.getShopBuyNum(e),this._resData&&(this.resNumLab.string="x"+v.getGoldnumStringby(this._resData.num),g.loadItemIcon(this._resData.id,this.iconSprite).then((function(t){t&&d(n)&&(n.iconSprite.spriteFrame=t)})));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onAdGetReward=function(){var t=a(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.ins.showVideo("获得资源-"+this._resData.id);case 2:t.sent&&(b.playData.getRewards([this._resData],!0),this.onClose());case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(f)).uiCf={bundle:y.Home,path:"ui/UIAddRes",layer:m.Normal},U=e((S=z).prototype,"closeBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(S.prototype,"adBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(S.prototype,"resNumLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(S.prototype,"iconSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=S))||A));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/UIAdSkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./AdCtr.ts","./SdkManager.ts","./FightNode.ts","./TipsCtr.ts","./CardItem.ts","./FightSkillCtr.ts","./CfgMng.ts"],(function(t){var e,n,i,r,a,l,o,s,u,c,d,f,p,h,g,b,k,y,C,I,m,v,S,D,B,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,u=t.Button,c=t.Node,d=t.Prefab,f=t.RichText,p=t.instantiate,h=t.Vec3},function(t){g=t.default},function(t){b=t.default},function(t){k=t.EResBundleName,y=t.EUILayer},function(t){C=t.AdCtr},function(t){I=t.default},function(t){m=t.FightNode},function(t){v=t.TipsCtr},function(t){S=t.CardItem,D=t.ECardItemMode},function(t){B=t.FightSkillCtr},function(t){w=t.default}],execute:function(){var A,P,F,R,U,z,N,E,L,T,_,M,x,V,G,W;o._RF.push({},"860504KoCVBd55i43zXmkeF","UIAdSkill",void 0);var j=s.ccclass,H=s.property;o._RF.push({},"8aa24sn6klMWqzipWP67Wyj","UIAdSkill",void 0);t("UIAdSkill",(A=j("UIAdSkill"),P=H({type:u}),F=H({type:u}),R=H({type:c}),U=H({type:c}),z=H({type:d}),N=H({type:f}),A(((W=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a))||this,i(e,"adBtn",T,r(e)),i(e,"closeBtn",_,r(e)),i(e,"btnsNode",M,r(e)),i(e,"skillCardParent",x,r(e)),i(e,"cardItemPrefab",V,r(e)),i(e,"skillDesLab",G,r(e)),e}n(e,t);var o=e.prototype;return o.onStart=function(){b.onRegisterBtnEvent(this.closeBtn,this.onCloseUI,this),b.onRegisterBtnEvent(this.adBtn,this.onAdGet,this);var t=p(this.cardItemPrefab);t.parent=this.skillCardParent,t.scale=h.ONE.clone().multiplyScalar(1.6),t.getComponent(S).init(this.uiData.skillCardData,D.Info);var e=w.CfgSkill.getItem(this.uiData.skillCardData.id);if(e){this.skillDesLab.string=function(t,n){var i=w.getSkillPropertyValue(t,n),r="";if(i){r=e.des;for(var a=0;a<i.length;a++){var l=i[a];r=r.replace("<v"+(a+1)+">",l.toString())}}return"<color=#FF7000>"+r+"</c>"}(e.id,this.uiData.skillCardData.star)}else this.skillDesLab.string=""},o.onOpenAct=function(){},o.onAdGet=function(){var t=a(l().mark((function t(){var e;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.ins.showVideo("特殊技能");case 2:t.sent&&(I.sendStageEventRun(m.ins.worldStageId,"特殊技能"),v.showTips("获得特殊技能"),e=this.uiData.skillCardData,B.ins.addSkill({skillId:parseInt(e.id),lv:e.star}),this.onClose(!0));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onCloseUI=function(){this.onClose()},e}(g)).uiCf={bundle:k.Play,path:"ui/UIAdSkill",layer:y.Normal},T=e((L=W).prototype,"adBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(L.prototype,"closeBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(L.prototype,"btnsNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(L.prototype,"skillCardParent",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(L.prototype,"cardItemPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(L.prototype,"skillDesLab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=L))||E));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/UIAgree.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./UIMng.ts","./UIYesNo.ts","./UIPrivacy.ts"],(function(e){var n,t,i,o,r,s,u,a,c,l,p,f,h,y,d,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,u=e.Button,a=e.Node,c=e.game},function(e){l=e.default},function(e){p=e.default},function(e){f=e.EResBundleName,h=e.EUILayer},function(e){y=e.UIMng},function(e){d=e.UIYesNo},function(e){g=e.UIPrivacy}],execute:function(){var I,U,v,b,B,N,R,w,D,m,A,S;r._RF.push({},"0d890frTANOuqaoKMY2oBNl","UIAgree",void 0);var k=s.ccclass,z=s.property;r._RF.push({},"8c696SshH9L4Z7/lrQyIbxo","UIAgree",void 0);e("UIAgree",(I=k("UIAgree"),U=z({type:u}),v=z({type:u}),b=z({type:a}),B=z({type:a}),I(((S=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=e.call.apply(e,[this].concat(r))||this,i(n,"okBtn",w,o(n)),i(n,"noBtn",D,o(n)),i(n,"userDesNode",m,o(n)),i(n,"privacyDesNode",A,o(n)),n}t(n,e);var r=n.prototype;return r.onStart=function(){p.onRegisterBtnEvent(this.noBtn,this.onCancel,this),p.onRegisterBtnEvent(this.okBtn,this.onOk,this),p.onRegisterBtnEvent(this.userDesNode,this.onShowUser,this),p.onRegisterBtnEvent(this.privacyDesNode,this.onShowPrivacy,this)},r.onOk=function(){this.onClose(!0)},r.onCancel=function(){y.ins.openUI(d,{des:"不同意则无法进行游戏，将直接退出，您要这么做吗？",btnLabs:["确 定","取 消"]},(function(e){e&&c.end()}))},r.onShowUser=function(){y.ins.openUI(g,{id:0})},r.onShowPrivacy=function(){y.ins.openUI(g,{id:1})},n}(l)).uiCf={bundle:f.Start,path:"ui/UIAgree",layer:h.Normal},w=n((R=S).prototype,"okBtn",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(R.prototype,"noBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(R.prototype,"userDesNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(R.prototype,"privacyDesNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=R))||N));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/UIBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./UIMng.ts","./ResConfig.ts","./EventMng.ts"],(function(n){var t,i,o,e,r,s,u,c,a,f,l,h,p,v,y,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,e=n.assertThisInitialized,r=n.createClass,s=n.asyncToGenerator,u=n.regeneratorRuntime},function(n){c=n.cclegacy,a=n._decorator,f=n.BlockInputEvents,l=n.Component,h=n.EventTouch},function(n){p=n.default},function(n){v=n.UIMng},function(n){y=n.EUILayer},function(n){d=n.EventMng}],execute:function(){var g,_,E,I,U,L,k,m;n("UIConfig",(function(n,t,i){void 0===i&&(i=y.Normal);return function(o){o.uiCf={bundle:t,path:n,layer:i}}})),c._RF.push({},"0da68QyYxlGxKoyPpsGrdyD","UIBase",void 0);var C=a.ccclass,w=a.property;c._RF.push({},"ce436ugWE9MTYLO6E2aH+7q","UIBase",void 0);n("default",(g=C("UIBase"),_=w({tooltip:"是否全屏"}),E=w({tooltip:"是否屏蔽触摸"}),g(((m=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r))||this,o(t,"isFullScene",L,e(t)),o(t,"isTouchNo",k,e(t)),t.mTag=void 0,t._notifyEventList={},t._callBack=null,t._uiData=null,t}i(t,n),t.getUICf=function(){return this.uiCf};var c=t.prototype;return c.init=function(n,t){void 0===n&&(n={}),this._callBack=t||null,this._uiData=n,this.onInit()},c.onLoad=function(){this._notifyEventList={},this.isTouchNo&&(this.node.addComponent(f),p.onRegisterBtnEvent(this.node,(function(){}),this)),this.onUILoad()},c.onDestroy=function(){this.onUIDestroy()},c.onEnable=function(){this.onShow()},c.onDisable=function(){for(var n in this.onHide(),this._notifyEventList)this._notifyEventList.hasOwnProperty(n)&&d.off(n,this._notifyEventList[n],this);this._notifyEventList={}},c.initEvent=function(n,t){d.on(n,t,this),this._notifyEventList[n]=t},c.start=function(){this.onStart()},c.update=function(n){this.onUpdate(n)},c.onInit=function(){},c.onUILoad=function(){},c.onUIDestroy=function(){},c.onShow=function(){},c.onOpenAct=function(){},c.onCloseAct=function(){},c.onHide=function(){},c.onStart=function(){},c.onUpdate=function(n){},c.onClose=function(n){n instanceof h&&(n=void 0),v.ins.closeUI(this.tag,n)},c.closeCall=function(){var n=s(u().mark((function n(t){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this._callBack&&this._callBack(t);case 1:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),c.playOpenAct=function(){var n=s(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c.playCloseAct=function(){var n=s(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),r(t,[{key:"tag",get:function(){return this.mTag},set:function(n){this.mTag=n}},{key:"uiData",get:function(){return this._uiData||{}}},{key:"clickEventList",set:function(n){for(var t=0;t<n.length;t++){var i=n[t];p.onRegisterBtnEvent(i[0],i[1].bind(this),null)}}}]),t}(l)).uiCf=null,L=t((U=m).prototype,"isFullScene",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=t(U.prototype,"isTouchNo",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),I=U))||I));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/UICardCollect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./CardItem.ts","./GameCtr.ts"],(function(t){var e,n,r,i,a,o,l,c,u,s,p,f,d,y,h,m,v,C,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){l=t.cclegacy,c=t._decorator,u=t.Prefab,s=t.Node,p=t.instantiate,f=t.v3,d=t.tween},function(t){y=t.default},function(t){h=t.default},function(t){m=t.EResBundleName,v=t.EUILayer},function(t){C=t.CardItem},function(t){b=t.default}],execute:function(){var g,I,U,R,N,w,L,P,_,j;l._RF.push({},"e64d2gluVpJj6bqGu9VRV5V","UICardCollect",void 0);var z=c.ccclass,B=c.property;l._RF.push({},"0fbf7eoBqJMebsfOUPyjjHj","UICardCollect",void 0);t("UICardCollect",(g=z("UICardCollect"),I=B({type:u}),U=B({type:s}),R=B({type:s}),g(((j=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"itemPrefab",L,i(e)),r(e,"itemLayout",P,i(e)),r(e,"tipsNode",_,i(e)),e}n(e,t);var l=e.prototype;return l.onStart=function(){var t=a(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.onRegisterBtnEvent(this.node,(function(){e.tipsNode.active&&e.onClose()})),this.tipsNode.active=!1;case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onOpenAct=function(){for(var t=this,e=this.uiData.cardIds,n=function(){var n=e[r];t.scheduleOnce((function(){var e=p(t.itemPrefab);e.parent=t.itemLayout,e.getComponent(C).init(b.playData.cardList[n]),e.scale=f(.1,.1,.1),d(e).to(.2,{scale:f(1.4,1.4,1.4).multiplyScalar(1.6)}).to(.1,{scale:f(1.2,1.2,1.2).multiplyScalar(1.6)}).start()}),.3*r)},r=0;r<e.length;r++)n();this.scheduleOnce((function(){t.tipsNode.active=!0}),.3*e.length)},e}(y)).uiCf={bundle:m.Home,path:"ui/UICardCollect",layer:v.Normal},L=e((w=j).prototype,"itemPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(w.prototype,"itemLayout",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(w.prototype,"tipsNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=w))||N));l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/UICardInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./GameCtr.ts","./CardItem.ts","./Constant.ts","./AdCtr.ts","./CfgMng.ts"],(function(t){var e,n,i,r,a,o,s,u,l,c,d,p,f,h,b,g,y,I,m,v,C,B,S,w,L,D,U,q;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass,o=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,l=t._decorator,c=t.Button,d=t.Node,p=t.Label,f=t.RichText,h=t.Prefab,b=t.instantiate,g=t.Vec3,y=t.Color},function(t){I=t.default},function(t){m=t.default},function(t){v=t.EResBundleName,C=t.EUILayer},function(t){B=t.default},function(t){S=t.CardItem,w=t.ECardItemMode},function(t){L=t.CardQualityColor,D=t.EItemType},function(t){U=t.AdCtr},function(t){q=t.default}],execute:function(){var E,_,N,M,z,R,x,k,F,P,A,T,H,G,O,Q,V,j,X,Y,Z,J,K,W,$,tt;u._RF.push({},"2f3fcnd0f5CN7rfupHhMM7d","UICardInfo",void 0);var et=l.ccclass,nt=l.property;u._RF.push({},"31cebBgbE9ESriTTZBF8QYe","UICardInfo",void 0);var it=function(t){return t[t.Info=0]="Info",t[t.Cmd=1]="Cmd",t}(it||{});t("UICardInfo",(E=et("UICardInfo"),_=nt({type:c}),N=nt({type:d}),M=nt({type:p}),z=nt({type:f}),R=nt({type:f}),x=nt({type:c}),k=nt({type:c}),F=nt({type:c}),P=nt({type:h}),A=nt({type:p}),T=nt({type:d}),E(((tt=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"closeBtn",O,r(e)),i(e,"cardNode",Q,r(e)),i(e,"nameLab",V,r(e)),i(e,"desLab",j,r(e)),i(e,"desNextLab",X,r(e)),i(e,"equipBtn",Y,r(e)),i(e,"upStarBtn",Z,r(e)),i(e,"upStarAdBtn",J,r(e)),i(e,"cardItemPrefab",K,r(e)),i(e,"tipsLab",W,r(e)),i(e,"uplvBtnsNode",$,r(e)),e._cardData=null,e._showMode=it.Info,e}n(e,t);var u=e.prototype;return u.onStart=function(){var t=o(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:m.onRegisterBtnEvent(this.closeBtn,this.onCloseUI.bind(this),this),m.onRegisterBtnEvent(this.equipBtn,this.onEquip.bind(this),this),m.onRegisterBtnEvent(this.upStarBtn,this.onUpStar.bind(this,!1),this),m.onRegisterBtnEvent(this.upStarAdBtn,this.onUpStar.bind(this,!0),this),this.closeBtn.node.active=!1,this._cardData=this.uiData.cardData,this._showMode=this.uiData.showMode||it.Info,this.initUI();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onOpenAct=function(){this.closeBtn.node.active=!0},u.onCloseUI=function(){this.closeBtn.node.active&&this.onClose()},u.initUI=function(){var t=this.cardNode.children[0];t||((t=b(this.cardItemPrefab)).parent=this.cardNode,t.scale=g.ONE.clone().multiplyScalar(1.6)),t.getComponent(S).init(this._cardData,w.Info);var e=q.CfgSkill.getItem(this.cardId);this.nameLab.string=e.name,this.nameLab.color=(new y).fromHEX(L[e.quality-1]);var n=function(t,n){var i=q.getSkillPropertyValue(parseInt(t),n),r="";if(i){r=e.des;for(var a=0;a<i.length;a++){var o=i[a];r=r.replace("<v"+(a+1)+">",o.toString())}}return r};this.desLab.string=n(this.cardId,this._cardData.star);var i=this._cardData.star>=q.globalConfig.CardMaxStar;if(this.desNextLab.string=i?"已满级":n(this.cardId,this._cardData.star+1),this._showMode===it.Cmd){this.uplvBtnsNode.active=!0;var r=this._cardData.num||0,a=r>=this.quantityForMerge;this.upStarBtn.node.active=!i&&a,this.upStarAdBtn.node.active=!i&&a,this.tipsLab.node.active=!i&&!a,this.upStarBtn.node.active&&(this.upStarBtn.getComponentInChildren(p).string=q.globalConfig.CardLvUpGemPrice.toLocaleString()),this.tipsLab.node.active&&(this.tipsLab.string="再收集"+(this.quantityForMerge-r)+"个同类卡牌\n升级到下一级"),this.equipBtn.node.active&&(this.equipBtn.getComponentInChildren(p).string=this.isEquip?"卸下":"装备")}else this.equipBtn.node.active=!1,this.uplvBtnsNode.active=!1},u.onEquip=function(){(this.isEquip?B.playData.unEquipCard(this.cardId):B.playData.equipCard(this.cardId))&&this.onCloseUI()},u.onUpStar=function(){var t=o(s().mark((function t(e){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=7;break}return t.next=4,U.ins.showVideo("卡牌升星");case 4:n=t.sent,t.next=8;break;case 7:n=B.playData.addResItemNum(D.Diamond,-q.globalConfig.CardLvUpGemPrice);case 8:n&&(B.playData.upStarCard(this.cardId,this.quantityForMerge),this.initUI());case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),a(e,[{key:"cardId",get:function(){return this._cardData.id}},{key:"quantityForMerge",get:function(){return q.globalConfig.CardQuantityForMerge[this._cardData.star-1]||5}},{key:"isEquip",get:function(){return B.playData.equipCards.indexOf(this.cardId)>=0}}]),e}(I)).uiCf={bundle:v.Home,path:"ui/UICardInfo",layer:C.Normal},O=e((G=tt).prototype,"closeBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(G.prototype,"cardNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(G.prototype,"nameLab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(G.prototype,"desLab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(G.prototype,"desNextLab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(G.prototype,"equipBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(G.prototype,"upStarBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(G.prototype,"upStarAdBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(G.prototype,"cardItemPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(G.prototype,"tipsLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(G.prototype,"uplvBtnsNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=G))||H));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/UICardMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./GameCtr.ts","./Constant.ts","./AdCtr.ts","./TipsCtr.ts","./SpineAni.ts","./UIMng.ts","./UICardCollect.ts","./SdkManager.ts","./CfgMng.ts"],(function(e){var t,n,r,i,a,o,u,s,c,l,p,f,d,h,m,g,y,b,C,N,v,A,B,I,F,S,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass,o=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Button,p=e.RichText,f=e.Label,d=e.Color},function(e){h=e.default},function(e){m=e.default},function(e){g=e.EResBundleName,y=e.EUILayer},function(e){b=e.default},function(e){C=e.EItemType,N=e.ETJEventName},function(e){v=e.AdCtr},function(e){A=e.TipsCtr},function(e){B=e.SpineAni},function(e){I=e.UIMng},function(e){F=e.UICardCollect},function(e){S=e.default},function(e){w=e.default}],execute:function(){var U,R,D,L,M,T,k,x,E,z,_,P,G,H,O,J;s._RF.push({},"a07f0ZAdTJBKLt4FrzllsJc","UICardMachine",void 0);var j=c.ccclass,Z=c.property;s._RF.push({},"d7bd8Q8j8ZLiYFqRTLei5BA","UICardMachine",void 0);e("UICardMachine",(U=j("UICardMachine"),R=Z({type:l}),D=Z({type:l}),L=Z({type:l}),M=Z({type:p}),T=Z({type:f}),k=Z({type:B}),U(((J=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,r(t,"closeBtn",z,i(t)),r(t,"gemBtn",_,i(t)),r(t,"freeAdBtn",P,i(t)),r(t,"freeAdNumLab",G,i(t)),r(t,"gemNumLab",H,i(t)),r(t,"chestSp",O,i(t)),t}n(t,e);var s=t.prototype;return s.onStart=function(){var e=o(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.onRegisterBtnEvent(this.closeBtn,this.onCloseUI.bind(this),this),m.onRegisterBtnEvent(this.gemBtn,this.onGemSpine.bind(this),this),m.onRegisterBtnEvent(this.freeAdBtn,this.onAdSpine.bind(this),this),this.closeBtn.node.active=!1,this.initUI();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onOpenAct=function(){this.closeBtn.node.active=!0},s.onCloseUI=function(){this.closeBtn.node.active&&this.onClose()},s.initUI=function(){this.updateBtnState()},s.updateBtnState=function(){var e=this.gemNeedNum;this.gemNumLab.string=e+"";var t=e<=b.playData.getResItemNum(C.Diamond);this.gemNumLab.color=(new d).fromHEX(t?"#FFFFFF":"#AA0000");var n=this.adFreeNum>0?"#ffffff":"#aa0000";this.freeAdNumLab.string="免费<color="+n+">"+this.adFreeNum+"</color>/"+this.totalAdFreeNum},s.onGemSpine=function(){b.playData.addResItemNum(C.Diamond,-this.gemNeedNum)&&this.onSpineOne()},s.onAdSpine=function(){var e=o(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.adFreeNum<=0)){e.next=3;break}return A.showTips("免费次数已用完!"),e.abrupt("return");case 3:return e.next=5,v.ins.showVideo("抽卡");case 5:e.sent&&(b.playData.addCardAdFreeNum(),this.updateBtnState(),this.onSpineOne());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onSpineOne=function(){var e=o(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=b.playData.getRandomCard())){e.next=4;break}return A.showTips("没有可抽取的卡牌"),e.abrupt("return",!1);case 4:return S.sendEvent(N.CardDraw,{name:t}),b.playData.addCard(t),this.chestSp.playAni("touch",!1),e.next=9,m.onDelayPromise(.5,this);case 9:return I.ins.openUI(F,{cardIds:[t]}),e.next=12,m.onDelayPromise(.5,this);case 12:return this.chestSp.playAni("end",!0),e.abrupt("return",!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),a(t,[{key:"gemNeedNum",get:function(){return w.globalConfig.CardSpinPrice||25}},{key:"adFreeNum",get:function(){return this.totalAdFreeNum-b.playData.cardAdFreeNum}},{key:"totalAdFreeNum",get:function(){return w.globalConfig.CardMcFreeTimes||3}}]),t}(h)).uiCf={bundle:g.Home,path:"ui/UICardMachine",layer:y.Normal},z=t((E=J).prototype,"closeBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(E.prototype,"gemBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(E.prototype,"freeAdBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(E.prototype,"freeAdNumLab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(E.prototype,"gemNumLab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(E.prototype,"chestSp",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=E))||x));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/UICloudLoading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./ResConfig.ts","./UIHelp.ts","./ComFun.ts"],(function(t){var n,e,r,i,a,o,u,s,c,l,p,f,d,y;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){u=t.cclegacy,s=t._decorator,c=t.Animation},function(t){l=t.default},function(t){p=t.EResBundleName,f=t.EUILayer},function(t){d=t.default},function(t){y=t.default}],execute:function(){var h,m,g,v,A,I;u._RF.push({},"7e2f9EiYZpJ/KPYqUaWHMZT","UICloudLoading",void 0);var L=s.ccclass,x=s.property;u._RF.push({},"4f782HxKV5CDo90NtI5pXFy","UICloudLoading",void 0);t("UICloudLoading",(h=L("UICloudLoading"),m=x(c),h(((I=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return n=t.call.apply(t,[this].concat(a))||this,r(n,"cloudAni",A,i(n)),n._startAniPlayTime=0,n}e(n,t);var u=n.prototype;return u.onUILoad=function(){var t=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._startAniPlayTime=y.getLocalTime(1);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.playOpenAct=function(){var t=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.playAni(this.cloudAni,0);case 2:return t.next=4,d.onDelayPromise(1,this);case 4:this._startAniPlayTime=0;case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.playCloseAct=function(){var t=a(o().mark((function t(){var n,e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._startAniPlayTime){t.next=6;break}if(n=y.getLocalTime(1)-this._startAniPlayTime,!((e=3e3-n)>0)){t.next=6;break}return t.next=6,d.onDelayPromise(.001*e,this);case 6:return t.next=8,d.playAni(this.cloudAni,1);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n}(l)).uiCf={bundle:p.Home,path:"ui/UICloudLoading",layer:f.Top},A=n((v=I).prototype,"cloudAni",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/UIExchangeCode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts"],(function(t){var e,n,o,i,r,s,a,c,u,l,p,h,f,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,u=t.Button,l=t.EditBox},function(t){p=t.default},function(t){h=t.default},function(t){f=t.EResBundleName,d=t.EUILayer}],execute:function(){var g,v,y,B,b,x,E,C,I,U;a._RF.push({},"841288pfptGR5Nq0pVKt149","UIExchangeCode",void 0);var k=c.ccclass,m=c.property;a._RF.push({},"6876b8zZcJNPJQKqZDMy5P5","UIExchangeCode",void 0);t("UIExchangeCode",(g=k("UIExchangeCode"),v=m({type:u}),y=m({type:u}),B=m({type:l}),g(((U=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"closeBtn",E,i(e)),o(e,"okBtn",C,i(e)),o(e,"editbox",I,i(e)),e}n(e,t);var a=e.prototype;return a.onStart=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.onRegisterBtnEvent(this.closeBtn,this.onCloseUI,this),h.onRegisterBtnEvent(this.okBtn,this.onOk,this),this.editbox.node.on(l.EventType.TEXT_CHANGED,this.onEditBoxChange.bind(this),this),this.closeBtn.node.active=!1,this.okBtn.node.active=!1;case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onOpenAct=function(){this.closeBtn.node.active=!0},a.onCloseUI=function(){this.closeBtn.node.active&&this.onClose()},a.onOk=function(){var t=r(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.editbox.string,console.log("请求兑换码",e);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onEditBoxChange=function(){this.okBtn.node.active=this.editbox.string.length>0},e}(p)).uiCf={bundle:f.Home,path:"ui/UIExchangeCode",layer:d.Normal},E=e((x=U).prototype,"closeBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(x.prototype,"okBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(x.prototype,"editbox",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=x))||b));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/UIGM.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./SelectBox.ts","./Constant.ts","./GameCtr.ts","./TipsCtr.ts"],(function(t){var e,n,i,o,a,u,r,l,s,p,c,d,h,g,y,f,B,I,m,x,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){r=t.cclegacy,l=t._decorator,s=t.Button,p=t.EditBox,c=t.Toggle},function(t){d=t.default},function(t){h=t.default},function(t){g=t.EResBundleName,y=t.EUILayer},function(t){f=t.SelectBox},function(t){B=t.EItemType,I=t.EGlobalGMKey,m=t.EGameDataKey},function(t){x=t.default},function(t){v=t.TipsCtr}],execute:function(){var b,T,E,D,k,C,S,_,G,N,M,R,U,w;r._RF.push({},"635d4ZG9a1BB5EkgrcPd9+I","UIGM",void 0);var z=l.ccclass,L=l.property;r._RF.push({},"34f36zvWKFOsYKaqu04xs3d","UIGM",void 0);var A=function(t){return t[t.addItem=0]="addItem",t[t.globalConfig=1]="globalConfig",t[t.setStorage=2]="setStorage",t}(A||{}),F=function(t){return t[t.String=0]="String",t[t.Number=1]="Number",t[t.Boolean=2]="Boolean",t}(F||{});t("UIGM",(b=z("UIGM"),T=L({type:s}),E=L({type:f}),D=L({type:s}),k=L({type:p}),C=L({type:c}),b(((w=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a))||this,i(e,"closeBtn",G,o(e)),i(e,"selectBox",N,o(e)),i(e,"okBtn",M,o(e)),i(e,"inputEditBox",R,o(e)),i(e,"inputToggle",U,o(e)),e._selectBoxData=null,e}n(e,t);var r=e.prototype;return r.onStart=function(){var t=a(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:h.onRegisterBtnEvent(this.closeBtn,this.onCloseUI,this),h.onRegisterBtnEvent(this.okBtn,this.onOk,this),this.inputEditBox.node.on(p.EventType.TEXT_CHANGED,this.onEditBoxChange.bind(this),this),e=[{cmd:A.addItem,text:"增加金币",key:B.Gold,valueInputType:F.Number},{cmd:A.addItem,text:"增加钻石",key:B.Diamond,valueInputType:F.Number},{cmd:A.addItem,text:"增加水晶",key:B.Crystal,valueInputType:F.Number},{cmd:A.addItem,text:"增加转盘钥匙",key:B.TurntableKey,valueInputType:F.Number},{cmd:A.globalConfig,text:"自动进行关卡",key:I.AUTO_FIGHT,valueInputType:F.Boolean},{cmd:A.setStorage,text:"设置通关世界ID",key:m.WORLD_PASS_ID,valueInputType:F.Number},{cmd:A.setStorage,text:"设置通关关卡ID",key:m.WORLD_PASS_STAGE,valueInputType:F.Number},{cmd:A.addItem,text:"获得卡牌",key:B.Card,valueInputType:F.Number}],this.selectBox.onSelectItem=this.onSelectGMItem.bind(this),this.selectBox.init(e);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.onCloseUI=function(){this.onClose()},r.onOk=function(){var t=this.getInputValue();if(null!==t){switch(this._selectBoxData.cmd){case A.addItem:var e=this._selectBoxData.key;x.playData.getRewards([{id:e,num:t}],!0);break;case A.globalConfig:x.playData.gmData[this._selectBoxData.key]=t;break;case A.setStorage:x.playData.setData(this._selectBoxData.key,t)}v.showTips("操作成功")}},r.getInputValue=function(){var t;if(this._selectBoxData.valueInputType===F.Boolean)t=this.inputToggle.isChecked;else if(this._selectBoxData.valueInputType===F.Number){if(""===this.inputEditBox.string)return null;if(t=parseInt(this.inputEditBox.string),isNaN(t))return null}else{if(this._selectBoxData.valueInputType!==F.String)return null;if(""===this.inputEditBox.string)return null;t=this.inputEditBox.string}return t},r.onSelectGMItem=function(t){this._selectBoxData=t,this.inputEditBox.node.active=!1,this.inputToggle.node.active=!1,t.valueInputType===F.Boolean?(this.inputToggle.node.active=!0,this.okBtn.node.active=!0,this.inputToggle.isChecked=!!x.playData.gmData[t.key]):(this.inputEditBox.node.active=!0,this.inputEditBox.string="",this.onEditBoxChange(),t.valueInputType===F.Number?this.inputEditBox.inputMode=p.InputMode.NUMERIC:t.valueInputType===F.String&&(this.inputEditBox.inputMode=p.InputMode.SINGLE_LINE))},r.onEditBoxChange=function(){this.okBtn.node.active=this.inputEditBox.string.length>0},e}(d)).uiCf={bundle:g.Home,path:"ui/UIGM",layer:y.Top},G=e((_=w).prototype,"closeBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(_.prototype,"selectBox",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(_.prototype,"okBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(_.prototype,"inputEditBox",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(_.prototype,"inputToggle",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=_))||S));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/UIGuide.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./SpineAni.ts","./GameCtr.ts","./UIMng.ts","./EventMng.ts","./Constant.ts","./TipsCtr.ts","./FightNode.ts","./SdkManager.ts"],(function(e){var i,n,t,o,a,l,s,d,c,u,r,g,h,p,I,f,U,v,G,b,k,y,S,m,x,w,P,B;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass,l=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){d=e.cclegacy,c=e._decorator,u=e.v3,r=e.UIOpacity,g=e.Animation,h=e.Label,p=e.Node,I=e.Vec3},function(e){f=e.default},function(e){U=e.default},function(e){v=e.EResBundleName,G=e.EUILayer},function(e){b=e.SpineAni},function(e){k=e.default},function(e){y=e.UIMng},function(e){S=e.EventMng},function(e){m=e.EGameEvent,x=e.ETJEventName},function(e){w=e.TipsCtr},function(e){P=e.FightNode},function(e){B=e.default}],execute:function(){var T,A,C,N,H,L,O,_,E,D,F,z,R,K,M,V;d._RF.push({},"450f22o2sNEza7ffS0GxOKG","UIGuide",void 0);var J=c.ccclass,Q=c.property;d._RF.push({},"5a43atm4elGpY5STxQQ2ODY","UIGuide",void 0);var W=function(e){return e[e.Hide=0]="Hide",e[e.Black=1]="Black",e[e.Transparent=2]="Transparent",e}(W||{}),Y=(e("UIGuideCfKey",function(e){return e.PlayScene="PlayScene",e.UISelectSkill="UISelectSkill",e.HomeBattlePage="HomeBattlePage",e}({})),{PlayScene:{condition:{worldId:0,stageId:0},steps:[{guideText:"将军，怪物即将进攻我们的碉堡，我们的火力还有点弱！",blackBgState:W.Transparent,delay:5,isPauseGame:!0},{guideText:"让我们试试用获得的硬币提高攻击力!",blackBgState:W.Transparent,isPauseGame:!0},{selectNodePath:"UIPlay/ui/levelUI/scrollParent/ScrollView/view/content/ATK/btn_lv",blackBgState:W.Hide,isPauseGame:!0},{selectNodePath:"UIPlay/ui/levelUI/scrollParent/ScrollView/view/content/ATK/btn_lv",blackBgState:W.Hide,isPauseGame:!0},{guideText:"太棒了！攻击力提高了！除了攻击力，其他属性也很重要！",blackBgState:W.Transparent,isPauseGame:!0},{guideText:"它们的移动太慢了，我都等不及了！让我们加速下！",blackBgState:W.Transparent,isPauseGame:!0,delay:3},{selectNodePath:"UIPlay/ui/levelUI/btns/speedNode/btn_add",blackBgState:W.Hide,selectPosOffset:u(0,20,0),selectAngle:-90,isPauseGame:!0}]},HomeBattlePage:{condition:{worldId:0,stageId:0},steps:[{guideText:"主页也可以获得金币和其他资源，让我们领取下挂机奖励!",blackBgState:W.Black},{selectNodePath:"UIHome/pageNode/battlePage/top/idleInfo",blackBgState:W.Hide},{selectNodePath:"UIIdleReward/ui/upLvNode/btn_get",blackBgState:W.Hide,delay:.5},{guideText:"获得了一点金币，可以前往工厂页面，使用金币去升级堡垒初始属性!",blackBgState:W.Black},{selectNodePath:"UIHome/down/downBtnLayout/HomeTabBtn0",blackBgState:W.Hide,selectPosOffset:u(-30,70),selectAngle:40},{selectNodePath:"UIHome/pageNode/factoryPage/levelUI/ScrollView/view/content/ATK/btn_lv",blackBgState:W.Hide,delay:.5},{guideText:"更多堡垒初始属性可以升级，我们需要更多的金币，现在去战斗赚钱金币吧！",blackBgState:W.Black}]}});e("UIGuide",(T=J("UIGuide"),A=Q({type:r}),C=Q({type:b}),N=Q({type:g}),H=Q({type:h}),L=Q({type:p}),O=Q({type:p}),T(((V=function(e){function i(){for(var i,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,t(i,"blackBgOp",D,o(i)),t(i,"manSpine",F,o(i)),t(i,"dialogUIAni",z,o(i)),t(i,"desLab",R,o(i)),t(i,"guideHand",K,o(i)),t(i,"nextTipsNode",M,o(i)),i.guideStep=0,i._canClickNext=!1,i._onClickEvent=!1,i}n(i,e),i.checkShowUIGuide=function(e){var n=Y[e];if(!n||k.playData.isPassUIGuide(e))return!1;k.playData.passUIGuide(e);var t=n.condition;return(!t||!(t.worldId!==k.playData.passWorldId||k.playData.passStageId<t.stageId))&&(i.isInGuide=!0,y.ins.openUIClose(i,{guideId:e}).then((function(){i.isInGuide=!1})),!0)};var d=i.prototype;return d.onStart=function(){var e=l(s().mark((function e(){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("[UIGuide] onStart called"),console.log("[UIGuide] node.active:",this.node.active),console.log("[UIGuide] node.position:",this.node.position),console.log("[UIGuide] node.parent:",null==(i=this.node.parent)?void 0:i.name),console.log("[UIGuide] blackBgOp:",this.blackBgOp),console.log("[UIGuide] dialogUIAni:",this.dialogUIAni),console.log("[UIGuide] manSpine:",this.manSpine),console.log("[UIGuide] desLab:",this.desLab),S.on(m.SCENE_CLICK,this.onSceneClick,this),U.onRegisterBtnEvent(this.blackBgOp.node,this.onClickNext,this),this.showGuide();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),d.onUIDestroy=function(){S.off(m.SCENE_CLICK,this.onSceneClick,this)},d.onPassGuide=function(){this.onClose()},d.onSceneClick=function(){this._onClickEvent&&this.onClickNext()},d.onClickNext=function(){var e;this._canClickNext?(null!=(e=this.curGuideCf)&&e.isPauseGame&&P.ins&&P.ins.onResume(),this._onClickEvent&&(U.setOnlyTouchUUID(),this._onClickEvent=!1),this.guideStep++,this.showGuide()):w.showTips("引导中...")},d.showGuide=function(){var e=l(s().mark((function e(){var i,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[UIGuide] showGuide called, step:",this.guideStep),i=this.curGuideCf){e.next=6;break}return console.log("[UIGuide] no guideCf, closing"),this.onPassGuide(),e.abrupt("return");case 6:console.log("[UIGuide] guideCf:",JSON.stringify(i)),B.sendEvent(x.GuideTask,{id:this.guideId+"_"+this.guideStep}),this._canClickNext=!1,this.guideHand.active=!1,this.blackBgOp.node.active=!1,n=i.blackBgState||W.Hide,e.t0=n,e.next=e.t0===W.Hide?15:e.t0===W.Black?17:e.t0===W.Transparent?20:23;break;case 15:return this.blackBgOp.node.active=!1,e.abrupt("break",23);case 17:return this.blackBgOp.node.active=!0,this.blackBgOp.opacity=120,e.abrupt("break",23);case 20:return this.blackBgOp.node.active=!0,this.blackBgOp.opacity=0,e.abrupt("break",23);case 23:if(!i.delay){e.next=30;break}return console.log("[UIGuide] has delay:",i.delay,"hiding guide first"),this.onHideGuide(),console.log("[UIGuide] waiting for delay..."),e.next=29,U.onDelayPromise(i.delay,this);case 29:console.log("[UIGuide] delay finished");case 30:if(i.isPauseGame&&P.ins&&(console.log("[UIGuide] pausing game"),P.ins.onPause()),!i.guideText){e.next=37;break}return console.log("[UIGuide] calling showTextGuide"),e.next=35,this.showTextGuide(i.guideText);case 35:e.next=41;break;case 37:return console.log("[UIGuide] calling showFingerGuide"),e.next=40,this.onHideGuide();case 40:this.showFingerGuide(i.selectNodePath,i.selectPosOffset,i.selectAngle);case 41:console.log("[UIGuide] setting _canClickNext = true"),this._canClickNext=!0;case 43:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),d.showTextGuide=function(){var e=l(s().mark((function e(i){var n,t,o,a,l,d,c,u,r,g,h,p,I,f,v,G;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("[UIGuide] showTextGuide called, text:",i),console.log("[UIGuide] this.node.active:",this.node.active),console.log("[UIGuide] this.node.worldPosition:",this.node.worldPosition),console.log("[UIGuide] this.node.parent:",null==(n=this.node.parent)?void 0:n.name),console.log("[UIGuide] this.node.parent.active:",null==(t=this.node.parent)?void 0:t.active),console.log("[UIGuide] this.node.siblingIndex:",this.node.getSiblingIndex()),console.log("[UIGuide] parent.children.length:",null==(o=this.node.parent)?void 0:o.children.length),console.log("[UIGuide] (node as any).zIndex:",this.node.zIndex),this.node.parent&&(G=this.node.parent.children.length-1,this.node.getSiblingIndex()<G&&(console.log("[UIGuide] Moving to top, setting siblingIndex to:",G),this.node.setSiblingIndex(G))),console.log("[UIGuide] this.node.layer:",this.node.layer),console.log("[UIGuide] blackBgOp.opacity:",null==(a=this.blackBgOp)?void 0:a.opacity),console.log("[UIGuide] blackBgOp.node.active:",null==(l=this.blackBgOp)?void 0:l.node.active),console.log("[UIGuide] node.children:",this.node.children.map((function(e){return e.name+":"+e.active}))),this.nextTipsNode.active=!1,this.desLab.string="",this.dialogUIAni.node.active){e.next=21;break}return console.log("[UIGuide] dialogUIAni.node.active = true, playing animation"),this.dialogUIAni.node.active=!0,e.next=20,U.playAni(this.dialogUIAni,0);case 20:console.log("[UIGuide] animation finished");case 21:return console.log("[UIGuide] playing manSpine talk animation"),console.log("[UIGuide] manSpine:",this.manSpine),console.log("[UIGuide] manSpine.skel:",null==(d=this.manSpine)?void 0:d.skel),console.log("[UIGuide] dialogUIAni.node.active:",null==(c=this.dialogUIAni)?void 0:c.node.active),console.log("[UIGuide] dialogUIAni.node.position:",null==(u=this.dialogUIAni)?void 0:u.node.position),console.log("[UIGuide] manSpine.node.active:",null==(r=this.manSpine)?void 0:r.node.active),console.log("[UIGuide] manSpine.node.position:",null==(g=this.manSpine)?void 0:g.node.position),console.log("[UIGuide] desLab.node.active:",null==(h=this.desLab)?void 0:h.node.active),this.manSpine.playAni("talk",!0),console.log("[UIGuide] starting text writer"),e.next=33,U.showLabWriterAct(this.desLab,i||"",3);case 33:console.log("[UIGuide] text writer finished, desLab.string:",null==(p=this.desLab)?void 0:p.string),this.manSpine.playAni("idle2",!0),this.nextTipsNode.active=!0,console.log("[UIGuide] showTextGuide done"),console.log("[UIGuide] FINAL node.children:",this.node.children.map((function(e){return e.name+":"+e.active}))),console.log("[UIGuide] FINAL dialogUIAni.node.active:",null==(I=this.dialogUIAni)?void 0:I.node.active),console.log("[UIGuide] FINAL dialogUIAni.node.worldPosition:",null==(f=this.dialogUIAni)?void 0:f.node.worldPosition),console.log("[UIGuide] FINAL desLab.node.worldPosition:",null==(v=this.desLab)?void 0:v.node.worldPosition);case 41:case"end":return e.stop()}}),e,this)})));return function(i){return e.apply(this,arguments)}}(),d.onHideGuide=function(){var e=l(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.dialogUIAni.node.active){e.next=4;break}return e.next=3,U.playAni(this.dialogUIAni,1);case 3:this.dialogUIAni.node.active=!1;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),d.showFingerGuide=function(e,i,n){void 0===n&&(n=0);var t=y.ins.node.getChildByPath(e);if(t){var o=(t.worldPosition.clone()||new I).add(i||I.ZERO);this.guideHand.active=!0,this.guideHand.angle=n,this.guideHand.worldPosition=o,U.setOnlyTouchUUID(t.uuid),this._onClickEvent=!0}},a(i,[{key:"guideId",get:function(){return this.uiData.guideId}},{key:"guideData",get:function(){return Y[this.guideId]}},{key:"curGuideCf",get:function(){return this.guideData.steps[this.guideStep]}}]),i}(f)).uiCf={bundle:v.Home,path:"ui/UIGuide",layer:G.Top},V.isInGuide=!1,D=i((E=V).prototype,"blackBgOp",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(E.prototype,"manSpine",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(E.prototype,"dialogUIAni",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(E.prototype,"desLab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(E.prototype,"guideHand",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(E.prototype,"nextTipsNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=E))||_));d._RF.pop(),d._RF.pop()}}}));

System.register("chunks:///_virtual/UIHelp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./AudioMng.ts","./EventMng.ts"],(function(e){var n,o,t,i,r,a,l,s,c,u,d,p,v,f,g,h,m;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,t=e.Node,i=e.Component,r=e.director,a=e.Layers,l=e.UITransform,s=e.BlockInputEvents,c=e.AnimationClip,u=e.Animation,d=e.v3,p=e.tween,v=e.Vec3,f=e.math},function(e){g=e.EGameEvent},function(e){h=e.AudioMng},function(e){m=e.EventMng}],execute:function(){o._RF.push({},"a11c0hNtJNJfq6tWnTgmlfS","UIHelp",void 0),o._RF.push({},"30126EmHTVC2IOdIqwv1omb","UIHelp",void 0);var N=t.EventType.TOUCH_END,I=e("default",function(){function e(){}return e.onRegisterBtnEvent=function(n,o,t){var r;if(e.unRegisterBtnEvent(n,o,t),(r=n instanceof i?n.node:n)&&r.isValid){var a=function(n){e.nodeIsCanBeClick(r)&&(o&&o.call(t,n),m.emit(g.SCENE_CLICK,n.getUILocation()),h.playAudio("Click","start"))};a.$BtnEvent$=o,r.on(N,a,t||r)}},e.setOnlyTouchUUID=function(n){void 0===n&&(n=""),e.BtnTouchUUID=n},e.nodeIsCanBeClick=function(n){return""==e.BtnTouchUUID||e.BtnTouchUUID==n.uuid},e.unRegisterBtnEvent=function(e,n,o){var t;if((t=e instanceof i?e.node:e)&&t.isValid)if(o||(o=t),n)try{var r=t._eventProcessor.bubblingTarget._callbackTable[N].callbackInfos.find((function(e){return e.callback.$BtnEvent$==n&&e.target==o}));r&&t.off(N,r.callback,o)}catch(e){}else t.off(N)},e.hidePreNode=function(e){e&&e.isValid&&(e.active=!1)},e.showNoTouchLayer=function(e){var n;void 0===e&&(e=!1);var o=null==(n=r.getScene())?void 0:n.getChildByName("Canvas");if(o){var i,c="NoTouchLayer",u=o.getChildByName(c);if(!u)(u=new t(c)).parent=o,u.layer=a.Enum.UI_2D,u.addComponent(l).setContentSize(null==(i=o.getComponent(l))?void 0:i.contentSize),u.addComponent(s);u.setSiblingIndex(o.children.length),this._showNoTouchNum=Math.max(this._showNoTouchNum+(e?1:-1),0),console.log("显示屏蔽触摸层",this._showNoTouchNum),u.active=this._showNoTouchNum>0}else{var d;console.error("当前场景"+(null==(d=r.getScene())?void 0:d.name)+"无Canvas!!!")}},e.setNodePos=function(e,n,o,t){if(e&&e.isValid){var i=e.getPosition();null!=n&&(i.x=n),null!=o&&(i.y=o),null!=t&&(i.z=t),e.setPosition(i)}},e.setNodePosX=function(n,o){void 0===o&&(o=0),e.setNodePos(n,o)},e.setNodePosY=function(n,o){void 0===o&&(o=0),e.setNodePos(n,null,o)},e.setNodePosZ=function(n,o){void 0===o&&(o=0),e.setNodePos(n,null,null,o)},e.addNodePos=function(e,n,o,t){if(void 0===n&&(n=0),void 0===o&&(o=0),void 0===t&&(t=0),e&&e.isValid){var i=e.getPosition();i.x+=n,i.y+=o,i.z+=t,e.setPosition(i)}},e.addNodePosX=function(n,o){void 0===o&&(o=0),e.addNodePos(n,o)},e.addNodePosY=function(n,o){void 0===o&&(o=0),e.addNodePos(n,0,o)},e.addNodePosZ=function(n,o){void 0===o&&(o=0),e.addNodePos(n,0,0,o)},e.setZIndex=function(e,n){if((e.zIndex||0)!=n&&(e.zIndex=n,e.parent&&0!=e.parent.children.length)){var o=e.parent.children.concat();o.sort((function(e,n){return(e.zIndex||0)-(n.zIndex||0)}));for(var t=o.length-1;t>=0;--t)o[t].setSiblingIndex(t)}},e.playAni=function(e,n,o,t){return void 0===n&&(n=0),new Promise((function(i){var r;console.log("[UIHelp.playAni] called, clipIndex:",n),"number"==typeof n?(console.log("[UIHelp.playAni] clips:",e.clips),r=e.clips[n].name):r=n,console.log("[UIHelp.playAni] clipName:",r),e.play(r);var a=e.getState(r);console.log("[UIHelp.playAni] state.wrapMode:",a.wrapMode,"Normal:",c.WrapMode.Normal,"Reverse:",c.WrapMode.Reverse),t&&(a.speed=t),null!=o&&(a.wrapMode=o),a.wrapMode==c.WrapMode.Normal||a.wrapMode==c.WrapMode.Reverse?(console.log("[UIHelp.playAni] registering FINISHED event"),e.once(u.EventType.FINISHED,(function(){console.log("[UIHelp.playAni] animation FINISHED, resolving"),i()}))):(console.log("[UIHelp.playAni] wrapMode not Normal/Reverse, resolving immediately"),i())}))},e.onDelayPromise=function(e,n){return new Promise((function(o){n?n.scheduleOnce((function(){o()}),e):setTimeout((function(){o()}),1e3*e)}))},e.onTweenPromise=function(e){return new Promise((function(n){e.call(n).start()}))},e.setUINodeParent=function(e,n){var o=e.getComponent(l).convertToWorldSpaceAR(d()),t=n.getComponent(l).convertToNodeSpaceAR(o);e.parent=n,e.position=t},e.bezierTo=function(n,o,t,i,r,a){return(a=a||Object.create(null)).onUpdate=function(o,a){n.position=e.getBezierPoint(a,t,i,r)},p(n).to(o,{},a)},e.getBezierPoint=function(e,n,o,t){var i=(1-e)*(1-e)*n.x+2*e*(1-e)*o.x+e*e*t.x,r=(1-e)*(1-e)*n.y+2*e*(1-e)*o.y+e*e*t.y,a=(1-e)*(1-e)*n.z+2*e*(1-e)*o.z+e*e*t.z;return new v(i,r,a)},e.jumpTo_v3=function(e,n){return{value:e,progress:this._jumpTo_progress(3,n)}},e.jumpTo_v2=function(e,n){return{value:e,progress:this._jumpTo_progress(2,n)}},e._jumpTo_progress=function(e,n){var o=e,t=Math.sqrt(n);return function(i,r,a,l){o>=e?o=1:o++;var s=f.lerp(i,r,l);if(2===o){var c=Math.abs(1-2*l);s+=n-Math.pow(t*c,2)}return s}},e.showLabWriterAct=function(e,o,t,i){return void 0===o&&(o=""),void 0===t&&(t=1),void 0===i&&(i=0),new Promise((function(r){for(var a,l=/<.+?\/?>/g,s=o.match(l),c="│",u=o.replace(l,c).split(c),d=[],p=0,v=n(u);!(a=v()).done;){var f=a.value;""!==f?(d.push("$["+p+"]"),p++):d.push(f)}for(var g=d.join(c),h=u.filter((function(e){return""!==e})),m=s?[].concat(s):[];-1!==g.indexOf(c);)m[0]?(g=g.replace(c,m[0].toString()),m.splice(0,1)):(g=g.replace(c,""),console.warn("matchArr not enough"));for(var N=[],I=new Array(p).fill(""),y=0;y<h.length;y++)for(var P,T=n(h[y]);!(P=T()).done;){var U=P.value;I[y]=I[y]+U;for(var w=g,C=0;C<p;C++)w=w.replace("$["+C+"]",I[C]);N.push(w)}var _=0;e.string="",e.schedule((function(){e.string=N[_++]||"",N[_]||r()}),.2/t,N.length-1,i)}))},e}());I.BtnTouchUUID="",I._showNoTouchNum=0,o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/UIHelpInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts"],(function(t){var e,n,i,o,r,a,l,s,u,c,p,f,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){l=t.cclegacy,s=t._decorator,u=t.Button,c=t.Label},function(t){p=t.default},function(t){f=t.default},function(t){h=t.EResBundleName,b=t.EUILayer}],execute:function(){var d,v,y,I,g,m,B,U,L,H;l._RF.push({},"dde02WzMmlAB7MU5sz1mRa2","UIHelpInfo",void 0);var R=s.ccclass,x=s.property;l._RF.push({},"7ec36xnG65HgZmW2v/TLxc3","UIHelpInfo",void 0);t("UIHelpInfo",(d=R("UIHelpInfo"),v=x({type:u}),y=x({type:c}),I=x({type:c}),d(((H=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"closeBtn",B,o(e)),i(e,"titleLab",U,o(e)),i(e,"textLab",L,o(e)),e}n(e,t);var l=e.prototype;return l.onStart=function(){var t=r(a().mark((function t(){var e,n;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:f.onRegisterBtnEvent(this.closeBtn,this.onCloseUI,this),this.closeBtn.node.active=!1,this.titleLab.string=(null==(e=this.uiData)?void 0:e.title)||"帮 助",this.textLab.string=(null==(n=this.uiData)?void 0:n.text)||"";case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onOpenAct=function(){this.closeBtn.node.active=!0},l.onCloseUI=function(){this.closeBtn.node.active&&this.onClose()},e}(p)).uiCf={bundle:h.Home,path:"ui/UIHelpInfo",layer:b.Normal},B=e((m=H).prototype,"closeBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(m.prototype,"titleLab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(m.prototype,"textLab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/UIHome.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TipsCtr.ts","./UIBase.ts","./UIHelp.ts","./AudioMng.ts","./ResConfig.ts","./Constant.ts","./HomeTabBtn.ts","./PageBase.ts","./EventMng.ts","./LabTrainEndNotif.ts","./GameCtr.ts","./CfgMng.ts"],(function(t){var n,e,i,o,a,r,s,l,c,u,b,h,p,f,T,m,d,g,_,y,w,B,S,L,I,k,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Prefab,l=t.Node,c=t.Label,u=t.Sprite,b=t.SpriteFrame,h=t.sys,p=t.Widget,f=t.instantiate},function(t){T=t.TipsCtr},function(t){m=t.default},function(t){d=t.default},function(t){g=t.AudioMng},function(t){_=t.EResBundleName,y=t.EUILayer},function(t){w=t.EGameEvent},function(t){B=t.HomeTabBtn},function(t){S=t.PageBase},function(t){L=t.EventMng},function(t){I=t.LabTrainEndNotif},function(t){k=t.default},function(t){v=t.default}],execute:function(){var E,H,N,C,P,D,U,A,R,z,F,M,O,W,G,Y,j,q,x,J,Q,K;a._RF.push({},"93df9lLs05MdaRoDm4Ul6sF","UIHome",void 0);var V=r.ccclass,X=r.property;a._RF.push({},"50285uFYnpJtavqcEkYQlop","UIHome",void 0);t("UIHome",(E=V("UIHome"),H=X({type:s}),N=X({type:l}),C=X({type:s}),P=X({type:l}),D=X({type:[s]}),U=X({type:l}),A=X({type:c}),R=X({type:u}),z=X({type:[b]}),E(((K=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"labTrainNotifPrefab",O,o(n)),i(n,"downTabBtnLayer",W,o(n)),i(n,"downTabBtnPrefab",G,o(n)),i(n,"pageLayer",Y,o(n)),i(n,"pagePrefabs",j,o(n)),i(n,"unlockTipsNode",q,o(n)),i(n,"unlockTipsLab",x,o(n)),i(n,"unlockIcon",J,o(n)),i(n,"unlockIconSpriteFrames",Q,o(n)),n._homeTabBtns=[],n._curSelectTab=-1,n._homePages=[],n._labTrainEndNotif=null,n}e(n,t);var a=n.prototype;return a.onStart=function(){L.on(w.HOME_TAB_SWITCH,this.onSwitchHomeTab.bind(this),this),L.on(w.LAB_ATT_TRAIN_END,this.onLabTrainEnd.bind(this),this),k.playData.checkTrainLabAttResult(),g.playMusic("bgm_home",_.Home),h.os===h.OS.IOS&&(this.downTabBtnLayer.parent.getComponent(p).bottom=50,this.pageLayer.getComponent(p).bottom+=50),this.initUI()},a.onUIDestroy=function(){L.off(w.HOME_TAB_SWITCH,this.onSwitchHomeTab.bind(this),this),L.off(w.LAB_ATT_TRAIN_END,this.onLabTrainEnd.bind(this),this)},a.onActiveUI=function(t){},a.initUI=function(){this.initDownTabLayer()},a.initDownTabLayer=function(){this._homeTabBtns=[];for(var t=0;t<5;t++){var n=f(this.downTabBtnPrefab);n.parent=this.downTabBtnLayer;var e=n.getComponent(B);n.name="HomeTabBtn"+t,e.init(t),e.isSelect=!1,this._homeTabBtns[t]=e,d.onRegisterBtnEvent(n,this.onClickDownTabBtn.bind(this,t),this)}this.onClickDownTabBtn(2)},a.onClickDownTabBtn=function(t){this.unlockTipsNode.active=!1,this._homeTabBtns[this._curSelectTab]&&(this._homeTabBtns[this._curSelectTab].isSelect=!1),this._homePages[this._curSelectTab]&&this._homePages[this._curSelectTab].onHide(),this._curSelectTab=t;var n=this._homeTabBtns[this._curSelectTab];if(n.isSelect=!0,n.isLock)return this.unlockTipsNode.active=!0,this.unlockIcon.spriteFrame=this.unlockIconSpriteFrames[this._curSelectTab],void(this.unlockTipsLab.string="通过1-"+(v.globalConfig.unlockConfig[t]||0)+"关解锁");if(!this._homePages[this._curSelectTab]){var e=f(this.pagePrefabs[this._curSelectTab]).getComponent(S);e.node.parent=this.pageLayer,this._homePages[this._curSelectTab]=e}this._homePages[this._curSelectTab].onShow()},a.showNoOpenTips=function(){T.showTips("未开放")},a.onLabTrainEnd=function(t){this._labTrainEndNotif||(this._labTrainEndNotif=f(this.labTrainNotifPrefab).getComponent(I),this._labTrainEndNotif.node.parent=this.node),this._labTrainEndNotif.show(t)},a.onSwitchHomeTab=function(t){this.onClickDownTabBtn(t)},n}(m)).uiCf={bundle:_.Home,path:"ui/UIHome",layer:y.Root},O=n((M=K).prototype,"labTrainNotifPrefab",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(M.prototype,"downTabBtnLayer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(M.prototype,"downTabBtnPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(M.prototype,"pageLayer",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(M.prototype,"pagePrefabs",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q=n(M.prototype,"unlockTipsNode",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(M.prototype,"unlockTipsLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(M.prototype,"unlockIcon",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(M.prototype,"unlockIconSpriteFrames",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=M))||F));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/UIIdleReward.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./GameCtr.ts","./AdCtr.ts","./TipsCtr.ts","./SdkManager.ts","./Constant.ts"],(function(e){var t,n,r,i,a,s,o,u,l,c,d,p,f,h,R,b,y,I,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){o=e.cclegacy,u=e._decorator,l=e.Button,c=e.Label},function(e){d=e.default},function(e){p=e.default},function(e){f=e.EResBundleName,h=e.EUILayer},function(e){R=e.default},function(e){b=e.AdCtr},function(e){y=e.TipsCtr},function(e){I=e.default},function(e){g=e.ETJEventName}],execute:function(){var w,m,v,B,C,k,L,N,U,D,E,x;o._RF.push({},"c2d42Vd4C5DubOnM/ioyFkf","UIIdleReward",void 0);var T=u.ccclass,z=u.property;o._RF.push({},"2143e8gUb1NKI0TW4a3L7f6","UIIdleReward",void 0);e("UIIdleReward",(w=T("UIIdleReward"),m=z({type:l}),v=z({type:l}),B=z({type:l}),C=z({type:[c]}),w(((x=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,r(t,"closeBtn",N,i(t)),r(t,"getBtn",U,i(t)),r(t,"adBtn",D,i(t)),r(t,"resNumLabs",E,i(t)),t}n(t,e);var o=t.prototype;return o.onStart=function(){var e=a(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.onRegisterBtnEvent(this.closeBtn,this.onClose.bind(this),this),p.onRegisterBtnEvent(this.getBtn,this.onIdleResRewardClick.bind(this,!1),this),p.onRegisterBtnEvent(this.adBtn,this.onIdleResRewardClick.bind(this,!0),this),this.updateResNum();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.updateResNum=function(){for(var e=[R.playData.curIdleResGold,R.playData.curIdleResDiamond,R.playData.curIdleResCrystal],t=0;t<this.resNumLabs.length;t++)this.resNumLabs[t].string=(e[t]||0).toLocaleString()},o.onIdleResRewardClick=function(){var e=a(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=!1),!t){e.next=7;break}return e.next=4,b.ins.showVideo("挂机双倍收益");case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return n=t?2:1,I.sendEvent(g.IdleReward,{num:n}),e.next=11,R.playData.getIdleResRewards(n);case 11:e.sent?this.onClose():y.showTips("暂无收益!");case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(d)).uiCf={bundle:f.Home,path:"ui/UIIdleReward",layer:h.Normal},N=t((L=x).prototype,"closeBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(L.prototype,"getBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(L.prototype,"adBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(L.prototype,"resNumLabs",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=L))||k));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/UILoginGift.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./GameCtr.ts","./Constant.ts","./ComFun.ts"],(function(t){var e,n,i,r,a,o,s,u,c,l,p,f,y,g,h,d,m,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.Button,l=t.Label,p=t.Sprite},function(t){f=t.default},function(t){y=t.default},function(t){g=t.EResBundleName,h=t.EUILayer},function(t){d=t.default},function(t){m=t.EItemType},function(t){b=t.default}],execute:function(){var v,G,L,B,R,C,I,w,_,U;s._RF.push({},"8b416uTV7FAeqfGHelkN8ne","UILoginGift",void 0);var D=u.ccclass,F=u.property;s._RF.push({},"7fba67aRHpHE4Anp7kc+7cI","UILoginGift",void 0);t("UILoginGift",(v=D("UILoginGift"),G=F({type:c}),L=F({type:c}),B=F({type:l}),v(((U=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"closeBtn",I,r(e)),i(e,"getBtn",w,r(e)),i(e,"dayNumLab",_,r(e)),e._isCanGet=!1,e}n(e,t);var s=e.prototype;return s.onStart=function(){var t=a(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y.onRegisterBtnEvent(this.closeBtn,this.onClose,this),y.onRegisterBtnEvent(this.getBtn,this.onGetReward,this),e=d.playData.playerFirstLoginTime,n=Math.ceil((b.getLocalTime()-e)/86400),console.log(e,n),this._isCanGet=n>=3,this.dayNumLab.string=n>=3?"可领取":"登录天数"+n+"/3",this.getBtn.getComponent(p).grayscale=!this._isCanGet;case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onGetReward=function(){var t=a(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._isCanGet){t.next=2;break}return t.abrupt("return");case 2:e=[{id:m.Diamond,num:1e3}],d.playData.mysticalGiftState=1,d.playData.getRewards(e,!0),this.onClose();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(f)).uiCf={bundle:g.Home,path:"ui/UILoginGift",layer:h.Normal},I=e((C=U).prototype,"closeBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(C.prototype,"getBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(C.prototype,"dayNumLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=C))||R));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/UIMng.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SdkManager.ts","./LoadHelper.ts","./EventMng.ts","./UIActBase.ts","./WaitUI.ts","./UIHelp.ts","./Constant.ts"],(function(e){var t,n,i,r,o,s,a,u,c,l,h,f,p,g,v,I,d,U,m;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e._decorator,s=e.Node,a=e.js,u=e.isValid,c=e.Component,l=e.Prefab,h=e.Widget,f=e.instantiate},function(e){p=e.default},function(e){g=e.default},function(e){v=e.EventMng},function(e){I=e.UIActBase},function(e){d=e.WaitUI},function(e){U=e.default},function(e){m=e.EGameEvent}],execute:function(){var C,L;r._RF.push({},"0a36b7BY+JDVJmm7cyN9Twj","UIMng",void 0);var b=o.ccclass;o.property;r._RF.push({},"50c15KZ0aFJKJ2+mgVbF9B/","UIMng",void 0);e("UIMng",b("UIMng")(((L=function(e){function r(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).uiList=[],t}t(r,e);var o=r.prototype;return o.onLoad=function(){r.ins=this;var e=this.node,t=s.EventType;e.on(t.CHILD_ADDED,this.onChange,this),e.on(t.CHILD_REMOVED,this.onChange,this)},o.onChange=function(){},o.openUI=function(){var e=n(i().mark((function e(t,r,o,s,u){var c=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s&&(s=!1),this.getTopUI()!==t){e.next=3;break}return e.abrupt("return",this.getUI(t));case 3:return this.getUI(t)&&(this.closeUI(t,void 0,!0),console.error("UIMng OpenUI 1: ui "+a.getClassName(t)+" is already exist, please check")),e.abrupt("return",new Promise((function(e,l){var I=a.getClassName(t),C=t.getUICf();if(C){console.log("打开UI",C);var L=!1;s||d.show();var b=function(){var a=n(i().mark((function n(){var a,l,y,w;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("showUI path",C),n.next=3,g.loadPrefab(C.path,C.bundle);case 3:if(a=n.sent,!L){n.next=6;break}return n.abrupt("return");case 6:if(L=!0,!c.getUI(t)){n.next=12;break}return console.error("UIMng OpenUI 2: ui "+I+" is already exist, please check"),o&&o(),s||d.hide(),n.abrupt("return");case 12:if(l=f(a),y=l.getComponent(t)){n.next=19;break}return console.error(C.path+"没有绑定UI脚本!!!"),o&&o(),s||d.hide(),n.abrupt("return");case 19:y.init(r,o),l.parent=c.node,y.isFullScene&&c.hideAllUI(),(w=l.getComponent(h))&&w.updateAlignment(),U.setZIndex(l,u||C.layer||0),c.uiList.push(y),v.emit(m.UI_SHOW,I),y.tag=t,s||d.hide(),c.openAct(y).then((function(){y.onOpenAct(),e(y)})),p.sendEvent("page_visit",{page_name:I}),setTimeout((function(){L||b()}),5e3);case 32:case"end":return n.stop()}}),n)})));return function(){return a.apply(this,arguments)}}();b()}else console.error("UIMng OpenUI : ui "+I+" is not exist, please check")})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,i,r,o){return e.apply(this,arguments)}}(),o.openUIClose=function(){var e=n(i().mark((function e(t,n,r,o){var s=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.abrupt("return",new Promise((function(e){s.openUI(t,n,(function(t){e(t)}),r,o)})));case 2:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),o.preloadUIResouse=function(){var e=n(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.getUICf())||!n.path||this.getUI(t)){e.next=4;break}return e.next=4,g.loadPrefab(n.path,n.bundle);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.closeUI=function(e,t,n){var i=this;return void 0===n&&(n=!1),new Promise((function(r,o){for(var s=!1,c=!1,h=a.getClassName(e),f=function(){var o=i.uiList[p];if(o&&o.tag===e){if(c=o.isFullScene,u(o.node)){var a=function(){o.onCloseAct(),o.closeCall(t),o.node.destroy();var n=e.getUICf();n&&n.isCloseRelease&&g.releaseRes(n.path,l,n.bundle),r()};n?a():i.closeAct(o).then(a)}return i.uiList.splice(p,1),s=!0,"break"}},p=0;p<i.uiList.length;++p){if("break"===f())break}s&&(e&&v.emit(m.UI_HIDE,h),c&&i.showAllUI())}))},o.closeAllUI=function(e){if(0!==this.uiList.length)for(var t=this.uiList.length-1;t>=0;t--){var n=this.uiList[t];e&&n.tag===e||(n.tag?this.closeUI(n.tag):this.uiList.splice(t,1))}},o.showUI=function(e,t){var n=this.getUI(e);n?n.node.active=!0:console.error("UIMng showUI: ui "+a.getClassName(e)+" not exist")},o.hideUI=function(e){var t=this.getUI(e);t&&(t.node.active=!1)},o.getUI=function(e){for(var t=0;t<this.uiList.length;++t)if(this.uiList[t].tag===e)return this.uiList[t];return null},o.isShowing=function(e){var t=this.getUI(e);return!!t&&t.node.active},o.hideAllUI=function(e){if(0!==this.uiList.length)for(var t=0;t<this.uiList.length;t++){var n=this.uiList[t];n.node.active=n.tag===e}},o.showAllUI=function(){if(0!==this.uiList.length)for(var e=this.uiList.length-1;e>=0;e--){var t=this.uiList[e];if(t.node.active=!0,t.isFullScene)break}},o.getTopUI=function(){var e=this.uiList[this.uiList.length-1];return e?e.tag:null},o.getTopUIName=function(){var e=this.getTopUI();return e?a.getClassName(e):""},o.openAct=function(e){if(e&&e.node&&u(e.node)){var t=e.node.getComponentsInChildren(I);if(t.length>0){var n=[];return t.forEach((function(e){n.push(e.playOpenAct())})),Promise.all(n)}return e.playOpenAct()}return Promise.resolve()},o.closeAct=function(e){if(e&&e.node&&u(e.node)){var t=e.node.getComponentsInChildren(I);if(t.length>0){var n=[];return t.forEach((function(e){n.push(e.playCloseAct())})),Promise.all(n)}return e.playCloseAct()}return Promise.resolve()},r}(c)).ins=void 0,C=L))||C);r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/UIPlay.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./UIMng.ts","./EventMng.ts","./ResConfig.ts","./Constant.ts","./GameCtr.ts","./UISet.ts","./FightNode.ts","./TurrentPropertyCtr.ts","./UICloudLoading.ts","./AudioMng.ts","./AdCtr.ts","./TipsCtr.ts","./SdkManager.ts","./CfgMng.ts"],(function(e){var t,n,i,a,r,s,o,u,d,l,p,c,f,h,g,y,b,S,m,B,v,I,P,A,C,D,E,w,U,R,M,_,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){u=e.cclegacy,d=e._decorator,l=e.Button,p=e.Label,c=e.view},function(e){f=e.default},function(e){h=e.default},function(e){g=e.UIMng},function(e){y=e.EventMng},function(e){b=e.EResBundleName,S=e.EUILayer},function(e){m=e.EItemType,B=e.EGameEvent,v=e.EGamePlatform,I=e.ETurretPropertyId,P=e.ELabPropertyId},function(e){A=e.default},function(e){C=e.UISet},function(e){D=e.FightNode},function(e){E=e.default},function(e){w=e.UICloudLoading},function(e){U=e.AudioMng},function(e){R=e.AdCtr},function(e){M=e.TipsCtr},function(e){_=e.default},function(e){x=e.default}],execute:function(){var L,N,z,T,F,k,G,V,Y,H,O,j,W,Z,q,J,K,Q,X,$,ee,te;u._RF.push({},"06f76PrhrtOMYUasn4RnP8c","UIPlay",void 0);var ne=d.ccclass,ie=d.property;u._RF.push({},"29032BNOURIybtHeZeYa4kY","UIPlay",void 0);var ae=[m.Coin,m.Gold,m.Diamond,m.Crystal];e("UIPlay",(L=ne("UIPlay"),N=ie({type:l}),z=ie({type:l}),T=ie({type:l}),F=ie({type:l}),k=ie({type:p}),G=ie({type:[p]}),V=ie({type:l}),Y=ie({type:p}),H=ie({type:l}),L(((te=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"setBtn",W,a(t)),i(t,"speedAddBtn",Z,a(t)),i(t,"speedCutBtn",q,a(t)),i(t,"adSpeedBtn",J,a(t)),i(t,"speedLab",K,a(t)),i(t,"resItemNumLabs",Q,a(t)),i(t,"adDiamondBtn",X,a(t)),i(t,"stageIdLab",$,a(t)),i(t,"adBuffBtn",ee,a(t)),t._curMaxSpeed=0,t}n(t,e),t.onEnterPlay=function(){var e=s(o().mark((function e(n,i){var a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A.playData.battleNum++,A.playData.gameData.worldId=n,A.playData.gameData.stageId=i,a=A.playData.getUnlockPropertyIds(),E.init(a),U.pauseMusic(),e.next=8,g.ins.openUI(w,null,null,!0);case 8:return g.ins.closeAllUI(w),e.next=11,g.ins.openUI(t,null,null,!0);case 11:return e.next=13,g.ins.closeUI(w);case 13:D.ins.beginFight();case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var u=t.prototype;return u.onStart=function(){var e=this;y.on(B.PLAY_RES_CHANGE,this.onChangeResNum.bind(this),this),y.on(B.PLAY_BUFF_UPDATE,this.onBuffChange.bind(this),this),h.onRegisterBtnEvent(this.setBtn,this.onShowSet.bind(this)),h.onRegisterBtnEvent(this.speedAddBtn,this.onSetSpeed.bind(this,!0)),h.onRegisterBtnEvent(this.speedCutBtn,this.onSetSpeed.bind(this,!1)),h.onRegisterBtnEvent(this.adSpeedBtn,this.onAdAddSpeed.bind(this)),h.onRegisterBtnEvent(this.adDiamondBtn,this.onAdDiamond.bind(this)),h.onRegisterBtnEvent(this.adBuffBtn,this.onAdBuff.bind(this)),_.isCanRecord&&_.startRecord(),this.initUI(),D.ins.init(),this.adDiamondBtn.node.active=!1,!A.playCf.isNoAd&&A.playData.passTotalStageNum>=5&&this.scheduleOnce((function(){e.adDiamondBtn.node.active=!0,e.adDiamondBtn.getComponentInChildren(p).string="10"}),10);var t=!1;A.platform===v.WeChat&&(console.log("wechat baner:",1390,c.getVisibleSize().height,c.getVisibleSize().width,c.getVisibleSize().height/c.getVisibleSize().width),1390/750<c.getVisibleSize().height/c.getVisibleSize().width&&(t=!0)),!A.playCf.isNoAd&&t&&A.playData.passTotalStageNum>=1&&R.ins.showBanner()},u.onUIDestroy=function(){y.off(B.PLAY_RES_CHANGE,this.onChangeResNum.bind(this),this),y.off(B.PLAY_BUFF_UPDATE,this.onBuffChange.bind(this),this),R.ins.hideBanner()},u.initUI=function(){var e=A.playData.gameData.worldId,t=A.playData.gameData.stageId;this.stageIdLab.string="世界 "+e+" - 关卡 "+t;for(var n=0;n<ae.length;n++){var i=ae[n];this.updateResNum(i)}this._curMaxSpeed=this.labMaxSpeed,D.ins.curPlaySpeed=A.playData.curPlaySpeed,this.updateSpeed(),this.adBuffBtn.node.active=!(A.playCf.isNoAd||1===e&&1===t)},u.onShowSet=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.ins.onPause(),e.next=3,g.ins.openUIClose(C,{isPlay:!0});case 3:D.ins.onResume();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u.updateSpeed=function(){var e=D.ins.curPlaySpeed;this.speedLab.string=""+e;var t=e===this.labMaxSpeed&&this._curMaxSpeed<=this.labMaxSpeed;this.adSpeedBtn.node.active=t,this.speedAddBtn.node.active=!t&&e<this._curMaxSpeed,this.speedCutBtn.node.active=e>1},u.onSetSpeed=function(e){var t=x.globalConfig.STEP_GAME_SPEED||.5,n=D.ins.curPlaySpeed;if(e){if(n>=this._curMaxSpeed)return;n+=t}else{if(n<=1)return;n-=t}n<=this.labMaxSpeed&&(A.playData.curPlaySpeed=n),D.ins.curPlaySpeed=n,this.updateSpeed()},u.onAdAddSpeed=function(){var e=s(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D.ins.onPause(),e.next=3,R.ins.showVideo("加速");case 3:t=e.sent,D.ins.onResume(),t&&(this._curMaxSpeed=this.labMaxSpeed+1,D.ins.curPlaySpeed=this._curMaxSpeed,this.updateSpeed());case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.onChangeResNum=function(e){for(var t=0;t<e.length;t++){var n=e[t];this.updateResNum(n.id)}},u.updateResNum=function(e){var t=this.resItemNumLabs[ae[e]];t&&(t.string=E.getItemNum(e).toLocaleString()),y.emit(B.UPDATE_RES,e)},u.onAdDiamond=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.ins.showVideo("局内钻石");case 2:e.sent&&(_.sendStageEventRun(D.ins.worldStageId,"局内钻石"),E.getItems([{id:m.Diamond,num:10}]),this.adDiamondBtn.node.active=!1,M.showTips("获得10钻石"));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.onAdBuff=function(){D.ins.onAdBuff()},u.onBuffChange=function(e,t){e===I.AtkAddPer&&(this.adBuffBtn.node.active=!t)},r(t,[{key:"labMaxSpeed",get:function(){return E.getLabPropertyValue(P.LAB_GAME_SPEED)}}]),t}(f)).uiCf={bundle:b.Play,path:"ui/UIPlay",layer:S.Root},W=t((j=te).prototype,"setBtn",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(j.prototype,"speedAddBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(j.prototype,"speedCutBtn",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(j.prototype,"adSpeedBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(j.prototype,"speedLab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(j.prototype,"resItemNumLabs",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),X=t(j.prototype,"adDiamondBtn",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(j.prototype,"stageIdLab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(j.prototype,"adBuffBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=j))||O));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/UIPrivacy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./UIMng.ts","./UIYesNo.ts","./GameCtr.ts"],(function(t){var n,e,i,r,o,a,l,u,s,c,p,f,b,y,h,v;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Button,u=t.Label,s=t.game},function(t){c=t.default},function(t){p=t.default},function(t){f=t.EResBundleName,b=t.EUILayer},function(t){y=t.UIMng},function(t){h=t.UIYesNo},function(t){v=t.default}],execute:function(){var d,g,I,U,B,L,m,P,C,R,z,_;o._RF.push({},"597ad8kF/lIBb5m+gn3p4G/","UIPrivacy",void 0);var k=a.ccclass,w=a.property;o._RF.push({},"9175eA0tbhM6bx3E6/nxbL4","UIPrivacy",void 0);t("UIPrivacy",(d=k("UIPrivacy"),g=w({type:l}),I=w({type:l}),U=w({type:u}),B=w({type:u}),d(((_=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(n,"okBtn",P,r(n)),i(n,"noBtn",C,r(n)),i(n,"titleLab",R,r(n)),i(n,"desLab",z,r(n)),n}e(n,t);var o=n.prototype;return o.onStart=function(){var t;p.onRegisterBtnEvent(this.okBtn,this.onYes,this),p.onRegisterBtnEvent(this.noBtn,this.onCancel,this);var n=(null==(t=this.uiData)?void 0:t.id)||0;this.titleLab.string=1===n?"隐私政策":"用户协议",this.desLab.string=1===n?v.playCf.userPrivacy:v.playCf.userAgreement},o.onYes=function(){this.onClose(!0)},o.onCancel=function(){y.ins.openUI(h,{des:"不同意则无法进行游戏，将直接退出，您要这么做吗？",btnLabs:["确 定","取 消"]},(function(t){t&&s.end()}))},n}(c)).uiCf={bundle:f.Start,path:"ui/UIPrivacy",layer:b.Normal},P=n((m=_).prototype,"okBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(m.prototype,"noBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(m.prototype,"titleLab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(m.prototype,"desLab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=m))||L));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/UIRateApp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./TipsCtr.ts"],(function(t){var n,e,i,o,r,a,s,l,p,u,c,f,h;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Button,l=t.Node},function(t){p=t.default},function(t){u=t.default},function(t){c=t.EResBundleName,f=t.EUILayer},function(t){h=t.TipsCtr}],execute:function(){var y,d,R,v,C,g,I,B;r._RF.push({},"7f7d47S8+ZE6IxC4KmBRSg1","UIRateApp",void 0);var b=a.ccclass,U=a.property;r._RF.push({},"aed096Y0EpPn6rwlV1oif26","UIRateApp",void 0);t("UIRateApp",(y=b("UIRateApp"),d=U({type:s}),R=U({type:l}),y(((B=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"noBtn",g,o(n)),i(n,"starLayout",I,o(n)),n}e(n,t);var r=n.prototype;return r.onStart=function(){u.onRegisterBtnEvent(this.noBtn,this.onCancel,this);for(var t=this.starLayout.children,n=0;n<t.length;n++){var e=t[n];u.onRegisterBtnEvent(e,this.onClickStar.bind(this,n),this)}},r.onClickStar=function(t){h.showTips("谢谢您的评价!"),t<3?this.onCancel():this.onClose(!0)},r.onCancel=function(){this.onClose(!1)},n}(p)).uiCf={bundle:c.Start,path:"ui/UIRateApp",layer:f.Top},g=n((C=B).prototype,"noBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(C.prototype,"starLayout",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=C))||v));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/UIRecommendGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./UIBase.ts","./ResConfig.ts","./UIHelp.ts","./GameCtr.ts","./SdkManager.ts"],(function(e){var t,n,a,i,r,o,c,s,u,l,p,m,f,d,h,y,v,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,u=e.Button,l=e.Node},function(e){p=e.EGamePlatform,m=e.EItemType},function(e){f=e.default},function(e){d=e.EResBundleName,h=e.EUILayer},function(e){y=e.default},function(e){v=e.default},function(e){R=e.default}],execute:function(){var I,G,g,w,B,U,b,C,L;c._RF.push({},"50538z8vAJI+azTMUSGv7Kh","UIRecommendGame",void 0);var D=s.ccclass,k=s.property;c._RF.push({},"c5cc2oUKB5FQqH62nM643Uj","UIRecommendGame",void 0);var x=((I={})[p.WeChat]=["wxefc19c27dcac5f1d","wxad8df8264b2ece0a"],I[p.IOS]=["6448904836"],I);e("UIRecommendGame",(G=D("UIRecommendGame"),g=k({type:u}),w=k({type:l}),G(((L=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"closeBtn",b,i(t)),a(t,"appIconLayer",C,i(t)),t}n(t,e);var c=t.prototype;return c.onStart=function(){var e=r(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.onRegisterBtnEvent(this.closeBtn,this.onCloseUI.bind(this),this),this.closeBtn.node.active=!1,this.initGameLayer(!0);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onOpenAct=function(){this.closeBtn.node.active=!0},c.onCloseUI=function(){this.closeBtn.node.active&&this.onClose()},c.initGameLayer=function(e){void 0===e&&(e=!1);for(var t=this.appIconLayer.children,n=x[v.platform],a=0;a<n.length;a++)if(t[a]){var i=t[a];if(n[a]){i.active=!0;var r=n[a];i.getChildByName("reward").active=!v.playData.isGetRecommendGameReward(r),e&&y.onRegisterBtnEvent(i,this.onClickAppIcon.bind(this,r),this)}else i.active=!1}},c.onClickAppIcon=function(){var e=r(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.navigateToApp(t);case 2:e.sent&&!v.playData.isGetRecommendGameReward(t)&&(v.playData.setRecommendGameReward(t),v.playData.getRewards([{id:m.Diamond,num:100}],!0),this.initGameLayer());case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(f)).uiCf={bundle:d.Home,path:"ui/UIRecommendGame",layer:h.Root},b=t((U=L).prototype,"closeBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(U.prototype,"appIconLayer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=U))||B));c._RF.pop(),c._RF.pop()}}}));

System.register("chunks:///_virtual/UIResult.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./AdCtr.ts","./Constant.ts","./GameCtr.ts","./ResultItem.ts","./SdkManager.ts","./UIMng.ts","./UIPlay.ts","./UIHome.ts","./UICloudLoading.ts","./CfgMng.ts"],(function(e){var t,n,a,r,i,s,o,l,u,c,h,p,d,f,g,b,y,m,v,w,B,I,x,k,R,N,D,U,P,C,z,A,E,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,u=e._decorator,c=e.Label,h=e.Animation,p=e.Button,d=e.Node,f=e.Prefab,g=e.instantiate,b=e.v3,y=e.tween,m=e.Vec3},function(e){v=e.default},function(e){w=e.default},function(e){B=e.EResBundleName,I=e.EUILayer},function(e){x=e.AdCtr},function(e){k=e.EItemType,R=e.EGlobalGMKey,N=e.ETJEventName},function(e){D=e.default},function(e){U=e.ResultItem},function(e){P=e.default},function(e){C=e.UIMng},function(e){z=e.UIPlay},function(e){A=e.UIHome},function(e){E=e.UICloudLoading},function(e){T=e.default}],execute:function(){var L,V,S,F,O,H,G,M,W,_,Y,X,Z,j,J,K,Q,q,$,ee,te,ne,ae,re,ie,se,oe,le,ue,ce,he,pe,de,fe,ge,be;l._RF.push({},"c8970eYAIdPzpWgG0tF+VCo","UIResult",void 0);var ye=u.ccclass,me=u.property;l._RF.push({},"09a24VH4QFBs4VBmUXo4ZOF","UIResult",void 0);var ve=[{scale:1.4,angle:23},{scale:1.2,angle:58},{scale:1,angle:138},{scale:2.5,angle:165},{scale:4,angle:180}];e("UIResult",(L=ye("UIResult"),V=me([c]),S=me({type:h}),F=me({type:p}),O=me({type:p}),H=me({type:p}),G=me({type:d}),M=me({type:f}),W=me({type:d}),_=me({type:d}),Y=me({type:p}),X=me({type:p}),Z=me({type:c}),j=me({type:d}),J=me({type:c}),K=me({type:p}),Q=me({type:d}),L(((be=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,a(t,"stageIdLabs",ee,r(t)),a(t,"arrowAni",te,r(t)),a(t,"okBtn",ne,r(t)),a(t,"getBtn",ae,r(t)),a(t,"adBtn",re,r(t)),a(t,"whellNode",ie,r(t)),a(t,"resultItemPrefab",se,r(t)),a(t,"resultItemNode",oe,r(t)),a(t,"endBtnsNode",le,r(t)),a(t,"backBtn",ue,r(t)),a(t,"retryBtn",ce,r(t)),a(t,"titleLab",he,r(t)),a(t,"shareVideoBtn",pe,r(t)),a(t,"shareVideoDiamondNumLab",de,r(t)),a(t,"nextBtn",fe,r(t)),a(t,"failUpTipsNode",ge,r(t)),t}n(t,e);var l=t.prototype;return l.onStart=function(){var e=s(o().mark((function e(){var t,n,a,r,i,s,l,u,c,h,p,d=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w.onRegisterBtnEvent(this.okBtn,this.onOk.bind(this),this),w.onRegisterBtnEvent(this.getBtn,this.getReward.bind(this,1),this),w.onRegisterBtnEvent(this.adBtn,this.onAdReward.bind(this),this),w.onRegisterBtnEvent(this.backBtn,this.onBackHome.bind(this),this),w.onRegisterBtnEvent(this.retryBtn,this.onRerty.bind(this),this),w.onRegisterBtnEvent(this.nextBtn,this.onNext.bind(this),this),w.onRegisterBtnEvent(this.shareVideoBtn,this.onShareVideo.bind(this),this),P.isCanRecord&&(P.stopRecord(),this.shareVideoBtn.active=!0,this.shareVideoDiamondNumLab.string="+10"),this.failUpTipsNode.active=!1,this.resultItemNode.active=!1,this.whellNode.active=!1,this.okBtn.node.active=!1,this.getBtn.node.active=!1,this.retryBtn.node.active=D.playData.passTotalStageNum>0,this.nextBtn.node.active=D.playData.passTotalStageNum>0,this.retryBtn.node.active||w.setNodePosX(this.backBtn.node,0),this.endBtnsNode.active=!1,t=this.uiData.isPass||!1,n=D.playData.gameData.worldId,a=D.playData.gameData.stageId,this.titleLab.string=t?"恭喜通关":"你输了",this.nextBtn.node.active=!1,t&&D.playData.passWorldId+1===n&&(r=T.CfgWorld.getItem(n).stageWaveNums.length<=a,this.nextBtn.node.active=!r,i=!1,r?(D.playData.passWorldId=n,D.playData.passStageId=0,i=!0):D.playData.passStageId<a&&(D.playData.passStageId=a,i=!0),i&&P.sendRankScore(100*n+a),n>1&&this.showRate()),s=["世界"+n,"关卡:"+a],l=o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=d.stageIdLabs[u]).string=s[u],t.node.active=!1,d.scheduleOnce((function(){t.node.active=!0}),.4*u);case 4:case"end":return e.stop()}}),e)})),u=0;case 26:if(!(u<this.stageIdLabs.length)){e.next=31;break}return e.delegateYield(l(),"t0",28);case 28:u++,e.next=26;break;case 31:return e.next=33,w.onDelayPromise(.4*this.stageIdLabs.length,this);case 33:this.resultItemNode.active=!0,c=this.uiData.rewards,h=o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c[p],d.scheduleOnce((function(){var e=g(d.resultItemPrefab);d.resultItemNode.addChild(e),e.getComponent(U).init(t)}),.3*p);case 2:case"end":return e.stop()}}),e)})),p=0;case 37:if(!(p<c.length)){e.next=42;break}return e.delegateYield(h(),"t1",39);case 39:p++,e.next=37;break;case 42:return e.next=44,w.onDelayPromise(.3*c.length,this);case 44:return e.next=46,this.showWhellReward();case 46:if(x.ins.showInsertAd("结算"),!this.isAutoFight){e.next=51;break}return e.next=50,w.onDelayPromise(3,this);case 50:this.onRerty();case 51:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.showWhellReward=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isAutoFight){e.next=2;break}return e.abrupt("return");case 2:return this.whellNode.active=!0,this.whellNode.scale=b(0,0,0),e.next=6,w.onTweenPromise(y(this.whellNode).to(.2,{scale:b(1,1,1)}));case 6:this.arrowAni.play(),this.okBtn.node.active=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onOk=function(){var e=s(o().mark((function e(){var t,n,a,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.arrowAni.stop(),t=90-this.arrowAni.node.angle,n=0,a=1,r=0;case 5:if(!(r<ve.length)){e.next=14;break}if(!(t<=(i=ve[r]).angle)){e.next=11;break}return n=r,a=i.scale,e.abrupt("break",14);case 11:r++,e.next=5;break;case 14:return this.okBtn.node.active=!1,e.next=17,w.onDelayPromise(1,this);case 17:this.whellNode.active=!1,P.sendEvent(N.ResultScale,{scale:a+""}),D.playCf.isNoAd||n!==ve.length-1?this.getReward(a):(this.adBtn.node.active=!0,this.getBtn.node.active=!0);case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onAdReward=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.ins.showVideo("结算4倍");case 2:e.sent&&this.getReward(4);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.getReward=function(){var e=s(o().mark((function e(t){var n,a,r,i,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.okBtn.node.active=!1,this.adBtn.node.active=!1,this.getBtn.node.active=!1,n=this.uiData.rewards,a=this.resultItemNode.children,r=0;r<n.length;r++)(i=n[r]).id===k.Gold&&(i.num=Math.ceil(i.num*t),null==(s=a[r])||null==(l=s.getComponent(U))||l.init(i));return e.next=8,D.playData.getRewards(n,!0);case 8:if(this.endBtnsNode.active=!0,this.uiData.isPass){e.next=12;break}return e.next=12,this.showFailTips();case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.showRate=function(){P.onRateApp()},l.onBackHome=function(){var e=s(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.onClose(),e.next=3,C.ins.openUI(E,null,null,!0);case 3:return e.next=5,C.ins.openUI(A);case 5:C.ins.closeUI(E);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onRerty=function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D.playData.gameData.worldId,n=D.playData.gameData.stageId,this.onClose(),e.next=5,z.onEnterPlay(t,n);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onNext=function(){var e=s(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D.playData.gameData.worldId,n=D.playData.gameData.stageId,this.onClose(),e.next=5,z.onEnterPlay(t,n+1);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.onShareVideo=function(){var e=this;P.onShareVideo((function(t){t&&(e.shareVideoBtn.active=!1,D.playData.getRewards([{id:k.Diamond,num:10}],!0))}))},l.showFailTips=function(){var e=s(o().mark((function e(){var t,n,a=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.failUpTipsNode.active=!0,t=o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=a.failUpTipsNode.children[n]).active=!1,a.scheduleOnce((function(){t.active=!0,t.scale=m.ZERO,y(t).to(.1,{scale:m.ONE.clone().multiplyScalar(1.2)}).to(.05,{scale:m.ONE}).start()}),.2*n);case 3:case"end":return e.stop()}}),e)})),n=0;case 3:if(!(n<this.failUpTipsNode.children.length)){e.next=8;break}return e.delegateYield(t(),"t0",5);case 5:n++,e.next=3;break;case 8:return e.next=10,w.onDelayPromise(.2*this.failUpTipsNode.children.length,this);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i(t,[{key:"isAutoFight",get:function(){return!!D.playData.gmData[R.AUTO_FIGHT]}}]),t}(v)).uiCf={bundle:B.Play,path:"ui/UIResult",layer:I.Normal},ee=t(($=be).prototype,"stageIdLabs",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t($.prototype,"arrowAni",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t($.prototype,"okBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t($.prototype,"getBtn",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t($.prototype,"adBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t($.prototype,"whellNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),se=t($.prototype,"resultItemPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t($.prototype,"resultItemNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t($.prototype,"endBtnsNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t($.prototype,"backBtn",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t($.prototype,"retryBtn",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t($.prototype,"titleLab",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t($.prototype,"shareVideoBtn",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t($.prototype,"shareVideoDiamondNumLab",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t($.prototype,"nextBtn",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t($.prototype,"failUpTipsNode",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=$))||q));l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/UIRevive.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./AdCtr.ts"],(function(e){var t,n,i,r,o,a,u,l,s,c,p,f,h,v,b,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,s=e.Label,c=e.Animation,p=e.Button},function(e){f=e.default},function(e){h=e.default},function(e){v=e.EResBundleName,b=e.EUILayer},function(e){y=e.AdCtr}],execute:function(){var m,d,g,R,B,I,L,w,A,C,U,k,z,_;u._RF.push({},"572b1mflapGjY0hRQWjBXRQ","UIRevive",void 0);var F=l.ccclass,D=l.property;u._RF.push({},"ced669lJMNFQ6GgIrd/OCIp","UIRevive",void 0);e("UIRevive",(m=F("UIRevive"),d=D({type:s}),g=D({type:s}),R=D({type:c}),B=D({type:p}),I=D({type:p}),m(((_=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"desLab",A,r(t)),i(t,"timeLab",C,r(t)),i(t,"timeAni",U,r(t)),i(t,"okBtn",k,r(t)),i(t,"noBtn",z,r(t)),t}n(t,e);var u=t.prototype;return u.onStart=function(){h.onRegisterBtnEvent(this.noBtn,this.onCancel,this),h.onRegisterBtnEvent(this.okBtn,this.onOk,this);var e=this.uiData.waveNum;this.desLab.string="第"+e+"波怪物\n已经攻破了你的防御!",this.timeLab.string="5"},u.onOpenAct=function(){var e=this,t=5;this.timeAni.play(),this.schedule((function(){t--,e.timeLab.string=""+t,e.timeAni.play()}),1,t-1,0)},u.onOk=function(){var e=o(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.ins.showVideo("复活");case 2:e.sent&&this.onClose(!0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.onCancel=function(){this.onClose(!1)},t}(f)).uiCf={bundle:v.Play,path:"ui/UIRevive",layer:b.Normal},A=t((w=_).prototype,"desLab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(w.prototype,"timeLab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(w.prototype,"timeAni",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(w.prototype,"okBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"noBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=w))||L));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/UIRewardGet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./Constant.ts","./CommonItem.ts","./CardItem.ts"],(function(t){var e,n,r,i,a,o,u,c,s,l,p,f,d,m,h,y,b,v,I,g,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,s=t.Prefab,l=t.Node,p=t.instantiate,f=t.v3,d=t.tween,m=t.UITransform},function(t){h=t.default},function(t){y=t.default},function(t){b=t.EResBundleName,v=t.EUILayer},function(t){I=t.EItemType},function(t){g=t.CommonItem},function(t){w=t.CardItem}],execute:function(){var R,C,L,U,P,z,G,N,_,T,k,B;u._RF.push({},"020f5S46bVM+oogf8z4etS6","UIRewardGet",void 0);var D=c.ccclass,E=c.property;u._RF.push({},"035ef6y6XhHq5k1u64kxv5m","UIRewardGet",void 0);t("UIRewardGet",(R=D("UIRewardGet"),C=E({type:s}),L=E({type:s}),U=E({type:l}),P=E({type:l}),R(((B=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"itemPrefab",N,i(e)),r(e,"cardItemPrefab",_,i(e)),r(e,"itemLayout",T,i(e)),r(e,"tipsNode",k,i(e)),e}n(e,t);var u=e.prototype;return u.onStart=function(){var t=a(o().mark((function t(){var e=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y.onRegisterBtnEvent(this.node,(function(){e.tipsNode.active&&e.onClose()})),this.tipsNode.active=!1;case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onOpenAct=function(){var t=this,e=this.uiData.rewards;console.log(e);for(var n=function(){var n=e[r];t.scheduleOnce((function(){t.createRewardItem(n)}),.3*r)},r=0;r<e.length;r++)n();this.scheduleOnce((function(){t.tipsNode.active=!0}),.3*e.length)},u.createRewardItem=function(t){var e;return t.id===I.Card?((e=p(this.cardItemPrefab)).parent=this.itemLayout,e.getComponent(w).init({id:t.num+"",star:0})):((e=p(this.itemPrefab)).parent=this.itemLayout,e.getComponent(g).init(t)),this.updateLayout(),e.scale=f(.1,.1,.1),d(e).to(.2,{scale:f(1.2,1.2,1.2)}).to(.1,{scale:f(1,1,1)}).start(),e},u.updateLayout=function(){this.itemLayout.getComponent(m).width=130*Math.min(this.itemLayout.children.length,5)},e}(h)).uiCf={bundle:b.Home,path:"ui/UIRewardGet",layer:v.Top},N=e((G=B).prototype,"itemPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(G.prototype,"cardItemPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(G.prototype,"itemLayout",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(G.prototype,"tipsNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=G))||z));u._RF.pop(),u._RF.pop()}}}));

System.register("chunks:///_virtual/UISelectSkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./AdCtr.ts","./ComFun.ts","./SkillCard.ts","./CfgMng.ts","./GameCtr.ts","./Constant.ts","./EffectBase.ts","./AudioMng.ts","./FightSkillCtr.ts","./FightNode.ts"],(function(t){var n,e,i,a,r,o,l,s,u,c,d,f,h,m,p,y,k,g,b,v,S,C,R,B,w,I,N,L,D,A;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){l=t.cclegacy,s=t._decorator,u=t.v3,c=t.Button,d=t.Node,f=t.Prefab,h=t.Label,m=t.instantiate,p=t.Vec3,y=t.tween},function(t){k=t.default},function(t){g=t.default},function(t){b=t.EResBundleName,v=t.EUILayer},function(t){S=t.AdCtr},function(t){C=t.default},function(t){R=t.SkillCard},function(t){B=t.default},function(t){w=t.default},function(t){I=t.EItemType},function(t){N=t.EffectBase},function(t){L=t.AudioMng},function(t){D=t.FightSkillCtr},function(t){A=t.FightNode}],execute:function(){var x,E,F,P,_,z,T,U,M,O,q,G,j,H,V,Z,K,X,J,Q;l._RF.push({},"2f548kbGRxOk7fesOxsjF/C","UISelectSkill",void 0);var W=s.ccclass,Y=s.property;l._RF.push({},"6567d0ZesFOvp/ftyKqX1Sf","UISelectSkill",void 0),u();t("UISelectSkill",(x=W("UISelectSkill"),E=Y({type:c}),F=Y({type:c}),P=Y({type:d}),_=Y({type:f}),z=Y({type:d}),T=Y({type:h}),U=Y({type:N}),M=Y({type:d}),x(((Q=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return n=t.call.apply(t,[this].concat(r))||this,i(n,"adRandomBtn",G,a(n)),i(n,"randomBtn",j,a(n)),i(n,"skillCardLayout",H,a(n)),i(n,"skillCardPrefab",V,a(n)),i(n,"randomBtnDiamond",Z,a(n)),i(n,"randomBtnLab",K,a(n)),i(n,"selectCardEffect",X,a(n)),i(n,"btnsNode",J,a(n)),n._randomDiamondNum=0,n}e(n,t);var l=n.prototype;return l.onStart=function(){g.onRegisterBtnEvent(this.randomBtn,this.onClickRandomBtn,this),g.onRegisterBtnEvent(this.adRandomBtn,this.onClickAdRandomBtn,this),this.updateRandomBtnState(),this.btnsNode.active=!1},l.onOpenAct=function(){var t=r(o().mark((function t(){var n,e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.onRandomSkills();case 2:if(!A.ins.isAutoFight){t.next=8;break}return t.next=5,g.onDelayPromise(3,this);case 5:n=this.skillCardLayout.children,e=n[C.random(0,n.length-1)].getComponent(R),this.onSelectCard(e);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.updateRandomBtnState=function(){var t;D.ins.freeRandomSkillTimes>0?(this.randomBtnDiamond.active=!1,this.randomBtnLab.string="换一批",this._randomDiamondNum=0):(this.randomBtnDiamond.active=!0,this._randomDiamondNum=(null==(t=B.globalConfig)?void 0:t.RandomSkillDiamond)||20,this.randomBtnLab.string="x"+this._randomDiamondNum)},l.onClickRandomBtn=function(){if(this._randomDiamondNum>0){if(!w.playData.addResItemNum(I.Diamond,-this._randomDiamondNum))return}else D.ins.cutFreeSkillRandomTimes();this.updateRandomBtnState(),this.onRandomSkills()},l.onClickAdRandomBtn=function(){var t=r(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.ins.showVideo("随机技能");case 2:t.sent&&this.onRandomSkills();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.onRandomSkills=function(){var t=r(o().mark((function t(){var n,e,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(g.showNoTouchLayer(!0),this.btnsNode.active=!1,n=this.randomSkills(),e=0;e<Math.max(n.length,this.skillCardLayout.children.length);e++)i=n[e],a=this.skillCardLayout.children[e],i?(a||((a=m(this.skillCardPrefab)).parent=this.skillCardLayout),a.active=!0,a.getComponent(R).init(i,this.onSelectCard.bind(this)),a.scale=p.ZERO,y(a).delay(.2*e).call((function(){L.playAudio("Satellite",b.Play)})).to(.2,{scale:u(1.1,1.1,1.1)}).to(.1,{scale:u(1,1,1)}).start()):a&&(a.active=!1);return t.next=6,g.onDelayPromise(.3*n.length,this);case 6:this.btnsNode.active=!0,g.showNoTouchLayer(!1);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.randomSkills=function(){var t,n=[],e=(null==(t=this.uiData)?void 0:t.guideSkillIds)||[];if(e&&e.length>0)return e.forEach((function(t){n.push({skillId:t,lv:D.ins.getSkillLv(t)+1,isAd:!1})})),n;for(var i=!w.playCf.isNoAd&&100*Math.random()<(B.globalConfig.RandomAdSkillRate||0),a=D.ins.onRandomSkillIds(1,2),r=D.ins.onRandomSkillIds(2,i?2:1),o=0;o<a.length;o++){var l=a[o];n.push({skillId:l,lv:D.ins.getSkillLv(l)+1,isAd:!1})}for(var s=0;s<r.length;s++){var u=r[s];n.push({skillId:u,lv:D.ins.getSkillLv(u)+1,isAd:!1})}return i&&(n.sort((function(t,n){var e=B.CfgSkill.getItem(t.skillId),i=B.CfgSkill.getItem(n.skillId);return e.type===i.type?e.quality-i.quality:e.type-i.type})),n[n.length-1].isAd=!0),n},l.onSelectCard=function(){var t=r(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.showNoTouchLayer(!0),this.selectCardEffect.node.active=!0,this.selectCardEffect.node.worldPosition=n.node.worldPosition,L.playAudio("skill_select",b.Play),t.next=6,this.selectCardEffect.onShow();case 6:g.showNoTouchLayer(!1),this.onClose(n.skillData);case 8:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),n}(k)).uiCf={bundle:b.Play,path:"ui/UISelectSkill",layer:v.Normal},G=n((q=Q).prototype,"adRandomBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(q.prototype,"randomBtn",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(q.prototype,"skillCardLayout",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(q.prototype,"skillCardPrefab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(q.prototype,"randomBtnDiamond",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(q.prototype,"randomBtnLab",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(q.prototype,"selectCardEffect",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(q.prototype,"btnsNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=q))||O));l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/UISet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./AudioMng.ts","./ResConfig.ts","./GameCtr.ts","./FightNode.ts","./UIMng.ts","./UIYesNo.ts","./SdkManager.ts","./UIGM.ts","./UIExchangeCode.ts","./UIPrivacy.ts"],(function(t){var e,n,i,r,a,o,s,u,l,c,h,f,p,d,b,y,B,v,g,m,U,I,S,C,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,l=t.Button,c=t.Node,h=t.Label},function(t){f=t.default},function(t){p=t.default},function(t){d=t.AudioMng,b=t.EAudioType},function(t){y=t.EResBundleName,B=t.EUILayer},function(t){v=t.default},function(t){g=t.FightNode},function(t){m=t.UIMng},function(t){U=t.UIYesNo},function(t){I=t.default},function(t){S=t.UIGM},function(t){C=t.UIExchangeCode},function(t){w=t.UIPrivacy}],execute:function(){var M,E,R,D,P,z,G,k,N,_,A,L,T,F,x,V,H,O,Y,j,q,Q,X,J,K,W;s._RF.push({},"f60a6SXGc9B055oxqBvfy1C","UISet",void 0);var Z=u.ccclass,$=u.property;s._RF.push({},"3fde7tm7sFGoo5E12uMwNQM","UISet",void 0);t("UISet",(M=Z("UISet"),E=$({type:l}),R=$({type:l}),D=$({type:l}),P=$({type:l}),z=$({type:l}),G=$({type:l}),k=$({type:l}),N=$({type:c}),_=$({type:c}),A=$({type:c}),L=$({type:h}),M(((W=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"closeBtn",x,r(e)),i(e,"musicBtn",V,r(e)),i(e,"effectBtn",H,r(e)),i(e,"vibrateBtn",O,r(e)),i(e,"endPlayBtn",Y,r(e)),i(e,"clearDataBtn",j,r(e)),i(e,"dhmBtn",q,r(e)),i(e,"gmMMNode",Q,r(e)),i(e,"userAgreementBtn",X,r(e)),i(e,"userPrivacyBtn",J,r(e)),i(e,"useridLabel",K,r(e)),e._clickGmTimes=0,e}n(e,t);var s=e.prototype;return s.onStart=function(){var t=a(o().mark((function t(){var e,n,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.onRegisterBtnEvent(this.closeBtn,this.onCloseUI,this),p.onRegisterBtnEvent(this.endPlayBtn,this.onEndPlay,this),p.onRegisterBtnEvent(this.clearDataBtn,this.onClearData,this),p.onRegisterBtnEvent(this.musicBtn,this.onChangeState.bind(this,0),this),p.onRegisterBtnEvent(this.effectBtn,this.onChangeState.bind(this,1),this),p.onRegisterBtnEvent(this.vibrateBtn,this.onChangeVibrateState,this),p.onRegisterBtnEvent(this.dhmBtn,this.onClickDhm,this),p.onRegisterBtnEvent(this.gmMMNode,this.onClickGmMM,this),p.onRegisterBtnEvent(this.userAgreementBtn,this.onShowUser.bind(this)),p.onRegisterBtnEvent(this.userPrivacyBtn,this.onShowPrivacy.bind(this)),this.useridLabel.string=I.userId,this.closeBtn.node.active=!1,this.dhmBtn.node.active=!!v.playCf.isShowDhm,n=!!v.playCf.isShowUserPrivacy,this.userAgreementBtn.active=n,this.userPrivacyBtn.active=n,this.updateState(b.Music),this.updateState(b.Effect),i=(null==(e=this.uiData)?void 0:e.isPlay)||!1,this.endPlayBtn.node.active=i,this.clearDataBtn.node.active=!i;case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onOpenAct=function(){this.closeBtn.node.active=!0},s.onCloseUI=function(){this.closeBtn.node.active&&this.onClose()},s.onChangeState=function(t){d.setState(t,!d.getState(t)),this.updateState(t)},s.updateState=function(t){var e=d.getState(t);(0===t?this.musicBtn:this.effectBtn).interactable=e},s.onChangeVibrateState=function(){v.playData.isCanVibrate=!v.playData.isCanVibrate,this.vibrateBtn.interactable=v.playData.isCanVibrate},s.onEndPlay=function(){var t=this;m.ins.openUI(U,{des:"是否立即结束本局游戏？",btnLabs:["结束","继续"]},(function(e){var n,i;(void 0===e&&(e=!1),e)&&(t.onCloseUI(),null==(n=g.ins)||null==(i=n.fortreeRole)||i.onDead(!0))}))},s.onClearData=function(){var t=this;m.ins.openUI(U,{des:"重置游戏数据后将一切重新开始，是否重启?",btnLabs:["重置","不了"]},(function(e){void 0===e&&(e=!1),e&&(v.playData.clear(),t.scheduleOnce((function(){I.onRestart()}),.1),m.ins.openUI(U,{des:"重启中,如未重启,请手动重启游戏"}))}))},s.onClickDhm=function(){m.ins.openUI(C)},s.onClickGmMM=function(){var t=this;if(this._clickGmTimes++,this._clickGmTimes>3)return this._clickGmTimes=0,void m.ins.openUI(S);this.scheduleOnce((function(){t._clickGmTimes=0}),1)},s.onShowUser=function(){m.ins.openUI(w,{id:0})},s.onShowPrivacy=function(){m.ins.openUI(w,{id:1})},e}(f)).uiCf={bundle:y.Home,path:"ui/UISet",layer:B.Normal},x=e((F=W).prototype,"closeBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(F.prototype,"musicBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(F.prototype,"effectBtn",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(F.prototype,"vibrateBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(F.prototype,"endPlayBtn",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(F.prototype,"clearDataBtn",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(F.prototype,"dhmBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(F.prototype,"gmMMNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(F.prototype,"userAgreementBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(F.prototype,"userPrivacyBtn",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(F.prototype,"useridLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=F))||T));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/UIStageGift.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./GameCtr.ts","./AdCtr.ts","./Constant.ts"],(function(t){var e,n,r,i,a,o,s,u,c,l,p,f,d,h,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.Button},function(t){l=t.default},function(t){p=t.default},function(t){f=t.EResBundleName,d=t.EUILayer},function(t){h=t.default},function(t){y=t.AdCtr},function(t){g=t.EItemType}],execute:function(){var m,v,B,G,I,R,w,C;s._RF.push({},"8a164PEjW1CYogCNeBK/u6H","UIStageGift",void 0);var S=u.ccclass,U=u.property;s._RF.push({},"8534c3ldFBIz7khGh7SdGiN","UIStageGift",void 0);t("UIStageGift",(m=S("UIStageGift"),v=U({type:c}),B=U({type:c}),m(((C=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"closeBtn",R,i(e)),r(e,"adBtn",w,i(e)),e}n(e,t);var s=e.prototype;return s.onStart=function(){var t=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.onRegisterBtnEvent(this.closeBtn,this.onClose,this),p.onRegisterBtnEvent(this.adBtn,this.onAdGetReward,this);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onAdGetReward=function(){var t=a(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.ins.showVideo("关卡礼包");case 2:t.sent&&(e=h.playData.passWorldId||0,n=[{id:g.Gold,num:2e3+1e4*e},{id:g.Diamond,num:30+20*e},{id:g.Crystal,num:200+200*e}],h.playData.getRewards(n,!0),this.onClose());case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(l)).uiCf={bundle:f.Home,path:"ui/UIStageGift",layer:d.Normal},R=e((I=C).prototype,"closeBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(I.prototype,"adBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=I))||G));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/UIStart.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadHelper.ts","./UIBase.ts","./UIHelp.ts","./UIMng.ts","./ResConfig.ts","./GameCtr.ts","./UIHome.ts","./SdkManager.ts","./UIPlay.ts","./CfgMng.ts","./ResNumLayer.ts","./UIPrivacy.ts","./Constant.ts","./UIAgree.ts","./UIHelpInfo.ts"],(function(t){var n,e,i,r,s,o,a,u,l,c,p,f,h,d,y,b,g,P,v,w,m,L,I,U,B,C,E,x,N,k,S;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator,l=t.Node,c=t.Label,p=t.ProgressBar,f=t.Animation,h=t.Tween,d=t.tween},function(t){y=t.default},function(t){b=t.default},function(t){g=t.default},function(t){P=t.UIMng},function(t){v=t.EResBundleName,w=t.EUILayer},function(t){m=t.GlobalCf,L=t.default},function(t){I=t.UIHome},function(t){U=t.default},function(t){B=t.UIPlay},function(t){C=t.default},function(t){E=t.ResNumLayer},function(t){x=t.UIPrivacy},function(t){N=t.EGamePlatform},function(t){k=t.UIAgree},function(t){S=t.UIHelpInfo}],execute:function(){var z,R,_,F,T,A,D,H,M,Q,G,V,O,j,J,W,X,Y,Z,q,K,$,tt,nt;a._RF.push({},"80c1egDQfdDbZaXVnz1YzJp","UIStart",void 0);var et=u.ccclass,it=u.property;a._RF.push({},"e7950sWnP5I0bku3QOhCEkg","UIStart",void 0);t("UIStart",(z=et("UIStart"),R=it({tooltip:"进入游戏按钮",type:l}),_=it({tooltip:"版本号lab",type:c}),F=it({tooltip:"tipsLab",type:c}),T=it({type:p}),A=it({type:c}),D=it({type:l}),H=it({type:l}),M=it({type:l}),Q=it({type:l}),G=it({type:l}),z(((nt=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return n=t.call.apply(t,[this].concat(s))||this,i(n,"enterBtn",j,r(n)),i(n,"versionLab",J,r(n)),i(n,"tipsLab",W,r(n)),i(n,"loadingPro",X,r(n)),i(n,"loadingProPerLab",Y,r(n)),i(n,"userBtnNode",Z,r(n)),i(n,"userAgreementBtn",q,r(n)),i(n,"userPrivacyBtn",K,r(n)),i(n,"slIconNode",$,r(n)),i(n,"rzLabNode",tt,r(n)),n.isCanClickEnter=!1,n._isFirstPlay=!1,n}e(n,t);var a=n.prototype;return a.onStart=function(){this.versionLab.string="v"+m.Version+"_"+m.Vnum,g.onRegisterBtnEvent(this.enterBtn,this.onEnterPlay.bind(this)),g.onRegisterBtnEvent(this.userAgreementBtn,this.onShowUser.bind(this)),g.onRegisterBtnEvent(this.userPrivacyBtn,this.onShowPrivacy.bind(this)),g.onRegisterBtnEvent(this.slIconNode,this.onShowSLTips.bind(this)),this.slIconNode.active=!1,this.rzLabNode.active=!1,this.isCanClickEnter=!1,this.onBegin()},a.onUIDestroy=function(){},a.onBegin=function(){var t=s(o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.time("onBegin"),this.setTips("初始化配置"),this.setLoadingPro(20),this.setTips("加载本地配置中"),this.setLoadingPro(40),t.next=7,this.loadCfg();case 7:return this.setTips("初始化游戏管理器"),this.setLoadingPro(60),t.next=11,L.init();case 11:return n=!!L.playCf.isShowUserPrivacy,this.userBtnNode.active=n,this.rzLabNode.active=n,this._isFirstPlay=!L.playData.isNewPlayer,this._isFirstPlay&&U.sendNewPlayerEvent("初始化"),this.setTips("预加载资源"),this.setLoadingPro(80,3),t.next=20,this.preloadRes();case 20:return console.timeEnd("onBegin"),t.next=23,this.setLoadingPro(100);case 23:this.onLoadingEnd();case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onLoadingEnd=function(){var t;this.loadingPro.node.active=!1,this.isCanClickEnter=!0,this._isFirstPlay&&U.sendNewPlayerEvent("加载完成"),this.setTips("点击任意处进入游戏",!1),null==(t=this.tipsLab.getComponent(f))||t.play(),-1===[N.QQ].indexOf(L.platform)?this.onEnterPlay():L.platform===N.QQ&&this._isFirstPlay&&P.ins.openUI(k)},a.loadCfg=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.init();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a.setLoadingPro=function(){var t=s(o().mark((function t(n,e){var i=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=1),h.stopAllByTarget(this.loadingPro),t.next=4,g.onTweenPromise(d(this.loadingPro).to(e,{progress:.01*n},{onUpdate:function(t,n){i.loadingProPerLab.string=Math.floor(100*t.progress)+"%"}}));case 4:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),a.setTips=function(t,n){var e=this;void 0===t&&(t=""),void 0===n&&(n=!0),this.tipsLab.string=t;var i=0;this.tipsLab.unscheduleAllCallbacks(),n&&this.tipsLab.schedule((function(){3===i?(e.tipsLab.string=t,i=0):(e.tipsLab.string=e.tipsLab.string.concat("."),i++)}),.5)},a.preloadRes=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.loadBund(v.Common);case 2:return t.next=4,y.loadBund(v.Home);case 4:if(E.init(),!this._isFirstPlay){t.next=10;break}return t.next=8,y.loadBund(v.Play);case 8:t.next=12;break;case 10:return t.next=12,P.ins.preloadUIResouse(I);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.setCanClick=function(t){this.isCanClickEnter=this.tipsLab.node.active=t},a.onEnterPlay=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.isCanClickEnter&&(this._isFirstPlay&&U.sendNewPlayerEvent("点击开始游戏"),this.setCanClick(!1),this.tipsLab.node.active=!1,this.showPlay());case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.showPlay=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._isFirstPlay){t.next=6;break}return this._isFirstPlay&&U.sendNewPlayerEvent("进入第一关"),t.next=4,B.onEnterPlay(1,1);case 4:t.next=8;break;case 6:this._isFirstPlay&&U.sendNewPlayerEvent("进入主页"),P.ins.openUI(I);case 8:this.onClose(),L.playData.isNewPlayer||(L.playData.isNewPlayer=!0);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onTestPlay=function(){},a.onShowUser=function(){P.ins.openUI(x,{id:0})},a.onShowPrivacy=function(){P.ins.openUI(x,{id:1})},a.onShowSLTips=function(){P.ins.openUI(S,{title:"适龄提示",text:"（1）本游戏是一款休闲游戏，适用于年满8周岁及以上年龄段用户，建议未成年人在家长监护下使用游戏产品。\n\t（2）本游戏基于堡垒是人类的最后防线故事背景，画面风格非写实，无基于历史和真实事件改编内容，有着欢快活泼的音效烘托游戏氛围，游戏主要玩法为单人模式，没有基于语音和文字的陌生人社交系统。\n\t（3）根据国家相关要求，游戏中有用户实名认证系统，未通过实名认证的用户不可进入游戏；认证为未成年人的用户除周五、周六、周日及法定节假日每日20时至21时外其他时间均不可进入游戏；游戏中无付费内容。\n\t（4）本游戏以外星荒地上，升级堡垒为游戏主题。能锻炼玩家的战略思维和决策能力，满足玩家的成就感和满足感，激发玩家的创造力和想象力。"})},n}(b)).uiCf={bundle:v.Start,path:"ui/UIStart",layer:w.Root},j=n((O=nt).prototype,"enterBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(O.prototype,"versionLab",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(O.prototype,"tipsLab",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(O.prototype,"loadingPro",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(O.prototype,"loadingProPerLab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(O.prototype,"userBtnNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(O.prototype,"userAgreementBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(O.prototype,"userPrivacyBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(O.prototype,"slIconNode",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=n(O.prototype,"rzLabNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=O))||V));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/UITTSidebar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts","./GameCtr.ts","./Constant.ts","./EventMng.ts"],(function(t){var e,n,a,i,r,s,o,u,c,l,p,d,f,h,b,T,g,E,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,u=t._decorator,c=t.Button,l=t.Label},function(t){p=t.default},function(t){d=t.default},function(t){f=t.EResBundleName,h=t.EUILayer},function(t){b=t.default},function(t){T=t.EGameEvent,g=t.EGameDataKey,E=t.EItemType},function(t){y=t.EventMng}],execute:function(){var S,B,_,m,v,R,D,I,w,N,L,A;o._RF.push({},"dfb2eyZXjBE4I0HNPHZpZJn","UITTSidebar",void 0);var k=u.ccclass,C=u.property;o._RF.push({},"6e3f799h45NMYaCwLugMCxL","UITTSidebar",void 0);var U=t("EUITTSidebarState",function(t){return t[t.None=0]="None",t[t.Reward=1]="Reward",t[t.End=2]="End",t}({}));t("UITTSidebar",(S=k("UITTSidebar"),B=C({type:c}),_=C({type:c}),m=C({type:l}),v=C({type:l}),S(((A=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,a(e,"closeBtn",I,i(e)),a(e,"getBtn",w,i(e)),a(e,"getBtnLab",N,i(e)),a(e,"diamondNumLab",L,i(e)),e._state=U.None,e}n(e,t);var o=e.prototype;return o.onStart=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y.on(T.TT_SIDEBAR_ENTER,this.onSidebarEnter,this),d.onRegisterBtnEvent(this.closeBtn,this.onClose.bind(this),this),d.onRegisterBtnEvent(this.getBtn,this.onClickBtn.bind(this),this),this.diamondNumLab.string="+100",this._state=b.playData.getData(g.TT_SIDEBAR_STATE,0),this.updateState();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onDestroy=function(){y.off(T.TT_SIDEBAR_ENTER,this.onSidebarEnter,this)},o.updateState=function(){switch(this.getBtn.node.active=!0,this._state){case U.None:this.getBtnLab.string="进入侧边栏";break;case U.Reward:this.getBtnLab.string="领取奖励";break;case U.End:this.getBtn.node.active=!1}},o.onClickBtn=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=this._state,t.next=t.t0===U.None?3:t.t0===U.Reward?5:11;break;case 3:return tt.navigateToScene({scene:"sidebar",success:function(t){console.log("navigate to scene success")},fail:function(t){console.log("navigate to scene fail: ",t)}}),t.abrupt("break",11);case 5:return this._state=U.End,b.playData.setData(g.TT_SIDEBAR_STATE,this._state),b.playData.getRewards([{id:E.Diamond,num:100}],!0),this.updateState(),y.emit(T.TT_SIDEBAR_STATE_CHANGE),t.abrupt("break",11);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.onSidebarEnter=function(){this._state=U.Reward,b.playData.setData(g.TT_SIDEBAR_STATE,this._state),this.updateState()},e}(p)).uiCf={bundle:f.Home,path:"ui/UITTSidebar",layer:h.Normal},I=e((D=A).prototype,"closeBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(D.prototype,"getBtn",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(D.prototype,"getBtnLab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(D.prototype,"diamondNumLab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=D))||R));o._RF.pop(),o._RF.pop()}}}));

System.register("chunks:///_virtual/UITurntable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constant.ts","./UIBase.ts","./ResConfig.ts","./Turntable.ts","./UIHelp.ts","./TipsCtr.ts","./GameCtr.ts","./ComFun.ts","./OnlineRewardCard.ts","./CommonItem.ts","./AdCtr.ts","./EventMng.ts","./CfgMng.ts","./UIMng.ts","./UIHelpInfo.ts"],(function(e){var t,n,i,a,r,o,l,s,u,p,c,h,f,d,m,b,g,y,R,w,T,C,v,I,_,B,E,N,O,S,U,P,D,A,z;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass,o=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,p=e.Node,c=e.Button,h=e.ScrollView,f=e.Prefab,d=e.Label,m=e.Color,b=e.instantiate},function(e){g=e.EItemType,y=e.EGameEvent,R=e.ItemNames,w=e.ERedDotType},function(e){T=e.default},function(e){C=e.EResBundleName,v=e.EUILayer},function(e){I=e.Turntable},function(e){_=e.default},function(e){B=e.TipsCtr},function(e){E=e.default},function(e){N=e.default},function(e){O=e.OnlineRewardCard},function(e){S=e.CommonItem},function(e){U=e.AdCtr},function(e){P=e.EventMng},function(e){D=e.default},function(e){A=e.UIMng},function(e){z=e.UIHelpInfo}],execute:function(){var F,L,x,k,H,G,K,M,W,X,V,j,q,Z,J,Q,Y,$,ee,te,ne,ie,ae,re,oe,le,se,ue,pe,ce,he,fe,de,me,be,ge;s._RF.push({},"b1171Ht1rBKIqa+9qmhk/pK","UITurntable",void 0);var ye=u.ccclass,Re=u.property;s._RF.push({},"34b85c17HVPvrXZ8eAuv99v","UITurntable",void 0);var we=[{id:g.Gold,num:1,rate:100},{id:g.Diamond,num:100,rate:20},{id:g.Gold,num:5,rate:10},{id:g.Crystal,num:30,rate:50},{id:g.Gold,num:2,rate:50},{id:g.Diamond,num:50,rate:40},{id:g.Gold,num:3,rate:30},{id:g.Crystal,num:100,rate:20}],Te=function(e){return e[e.Wheel=0]="Wheel",e[e.OnlineTimeReward=1]="OnlineTimeReward",e}(Te||{});e("UITurntable",(F=ye("UITurntable"),L=Re({type:p}),x=Re({type:c}),k=Re({type:c}),H=Re({type:c}),G=Re({type:I}),K=Re({type:p}),M=Re({type:[p]}),W=Re({type:[p]}),X=Re({type:p}),V=Re({type:h}),j=Re({type:f}),q=Re({type:c}),Z=Re({type:c}),J=Re({type:p}),Q=Re({type:f}),Y=Re({type:d}),F(((ge=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"closeBtn",te,a(t)),i(t,"spinBtn",ne,a(t)),i(t,"spinTenBtn",ie,a(t)),i(t,"helpBtn",ae,a(t)),i(t,"turntable",re,a(t)),i(t,"tenKeyRedNode",oe,a(t)),i(t,"pageSelectBtns",le,a(t)),i(t,"pageNodes",se,a(t)),i(t,"pageSelectOkNode",ue,a(t)),i(t,"onlineScroll",pe,a(t)),i(t,"onlineCardPrefab",ce,a(t)),i(t,"claimAllBtn",he,a(t)),i(t,"adOnlineBtn",fe,a(t)),i(t,"adOnlineRewardLayout",de,a(t)),i(t,"rewardItemPrefab",me,a(t)),i(t,"onlineTimeLab",be,a(t)),t._pageType=-1,t._isPageInits=[!1,!1],t._totalRate=0,t._turntableRateCf=[],t}n(t,e);var s=t.prototype;return s.onStart=function(){var e=o(l().mark((function e(){var t,n,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(P.on(y.ONLINETIME_UPDATE,this.onUpdateOnlineTime,this),P.on(y.UPDATE_RES,this.onUpdateResNum,this),_.onRegisterBtnEvent(this.closeBtn,this.onCloseUI,this),_.onRegisterBtnEvent(this.spinBtn,this.onBeginSpin.bind(this,1),this),_.onRegisterBtnEvent(this.spinTenBtn,this.onBeginSpin.bind(this,10),this),_.onRegisterBtnEvent(this.helpBtn,this.onShowHelp,this),_.onRegisterBtnEvent(this.claimAllBtn,this.onClaimAll,this),_.onRegisterBtnEvent(this.adOnlineBtn,this.onAdClaim,this),t=0;t<this.pageSelectBtns.length;t++)n=this.pageSelectBtns[t],_.onRegisterBtnEvent(n,this.onShowPage.bind(this,t),this);this._turntableRateCf=N.deepClone(we),i=E.playData.getIdleResRewardNumByTime(3600)[0].num,this._turntableRateCf.forEach((function(e){e.id===g.Gold&&(e.num*=i)})),console.log(this._turntableRateCf),this.updateNum(),this.onShowPage(Te.Wheel),this.onUpdateOnlineTime(),U.ins.showInsertAd("转盘");case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onUpdateOnlineTime=function(){this.onlineTimeLab.string=N.changeTimeStr(E.playData.onlineTime,5)},s.onUIDestroy=function(){P.off(y.UPDATE_RES,this.onUpdateResNum,this),P.off(y.ONLINETIME_UPDATE,this.onUpdateOnlineTime,this)},s.onShowHelp=function(){var e="";switch(this._pageType){case Te.Wheel:for(var t="",n=0;n<this._turntableRateCf.length;n++){var i=this._turntableRateCf[n];t+="\t"+R[i.id-1]+"x"+i.num+": "+100*i.rate/this.totalRate+"%\n"}e="1、转盘骰子：可在转盘中使用，通过游戏在线时间奖励获得\n2、概率：\n"+t;break;case Te.OnlineTimeReward:e="游戏在线时间奖励\n\t1、在线时间满足条件，可领取奖励\n\t2、每天0点刷新重置在线时长\n\t3、离线不计入时长"}A.ins.openUI(z,{text:e})},s.onOpenAct=function(){this.closeBtn.active=!0},s.onCloseUI=function(){this.onClose()},s.onBeginSpin=function(){var e=o(l().mark((function e(t){var n,i,a,r=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=1),!(E.playData.getResItemNum(g.TurntableKey)<t)){e.next=4;break}return B.showTips("转盘骰子不足!"),e.abrupt("return");case 4:for(E.playData.addResItemNum(g.TurntableKey,-t),this.updateNum(),n=[],i=0;i<t;i++)n.push(this.getOneSpinRewardIndex());return _.showNoTouchLayer(!0),e.next=11,this.turntable.beginSpin(n[0]);case 11:_.showNoTouchLayer(!1),a=[],n.forEach((function(e){var t=r.turntable.rewardPieces[e];t&&a.push({id:t.id,num:t.num})})),E.playData.getRewards(a,!0);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.getOneSpinRewardIndex=function(){for(var e=N.randomNum(0,this.totalRate),t=0,n=0;n<this._turntableRateCf.length;n++)if(e<=(t+=this._turntableRateCf[n].rate))return n;return-1},s.onUpdateResNum=function(e){e===g.TurntableKey&&(this.updateNum(),P.emit(y.REDDOT_UPDATE,w.Turntable))},s.updateNum=function(){var e=E.playData.getResItemNum(g.TurntableKey);this.tenKeyRedNode.active=e>=10},s.onShowPage=function(e){if(this._pageType!==e)switch(this.pageNodes[this._pageType]&&(this.pageNodes[this._pageType].active=!1,this.pageSelectBtns[this._pageType].getComponentInChildren(d).color=(new m).fromHEX("#FFFFFF")),this._pageType=e,this.pageNodes[this._pageType]&&(this.pageNodes[this._pageType].active=!0,this.pageSelectBtns[this._pageType].getComponentInChildren(d).color=(new m).fromHEX("#00FFFF"),_.setNodePosX(this.pageSelectOkNode,this.pageSelectBtns[this._pageType].position.x)),this._pageType){case Te.Wheel:this._isPageInits[0]||(this._isPageInits[0]=!0,0===this.turntable.rewardPieces.length&&this.turntable.initRewards(this._turntableRateCf));break;case Te.OnlineTimeReward:this._isPageInits[1]||(this._isPageInits[1]=!0,this.initOnlinePage())}},s.initOnlinePage=function(){for(var e=this,t=0;t<D.onlineRewardCf.list.length;t++){var n=b(this.onlineCardPrefab);n.getComponent(O).init(t),n.parent=this.onlineScroll.content}D.onlineRewardCf.adRewards.forEach((function(t){var n=b(e.rewardItemPrefab);n.getComponent(S).init(t),n.parent=e.adOnlineRewardLayout}))},s.onClaimAll=function(){if(E.playData.isHasOnlineTimeRewardGet){var e={};this.onlineScroll.content.children.forEach((function(t){var n=t.getComponent(O);n&&n.isCanClaim&&E.playData.getOnlineTimeReward(n.onlineRewardIndex)&&(n.onUpdateState(),n.rewards.forEach((function(t){e[t.id]||(e[t.id]=0),e[t.id]+=t.num})))}));var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push({id:Number(n),num:e[n]});E.playData.getRewards(t,!0),P.emit(y.REDDOT_UPDATE,w.OnlineTimeReward)}else B.showTips("没有可领取的奖励!")},s.onAdClaim=function(){var e=o(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.ins.showVideo("广告在线奖励");case 2:e.sent&&E.playData.getRewards(D.onlineRewardCf.adRewards,!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r(t,[{key:"totalRate",get:function(){if(!this._totalRate)for(var e=0;e<this._turntableRateCf.length;e++){var t=this._turntableRateCf[e];this._totalRate+=t.rate}return this._totalRate}}]),t}(T)).uiCf={bundle:C.Home,path:"ui/UITurntable",layer:v.Root},te=t((ee=ge).prototype,"closeBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(ee.prototype,"spinBtn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(ee.prototype,"spinTenBtn",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(ee.prototype,"helpBtn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(ee.prototype,"turntable",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=t(ee.prototype,"tenKeyRedNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(ee.prototype,"pageSelectBtns",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=t(ee.prototype,"pageNodes",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ue=t(ee.prototype,"pageSelectOkNode",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ee.prototype,"onlineScroll",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ee.prototype,"onlineCardPrefab",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ee.prototype,"claimAllBtn",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ee.prototype,"adOnlineBtn",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ee.prototype,"adOnlineRewardLayout",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ee.prototype,"rewardItemPrefab",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ee.prototype,"onlineTimeLab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=ee))||$));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/UIYesNo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIBase.ts","./UIHelp.ts","./ResConfig.ts"],(function(t){var n,e,i,o,s,a,r,u,l,c,h,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Label,u=t.Button},function(t){l=t.default},function(t){c=t.default},function(t){h=t.EResBundleName,p=t.EUILayer}],execute:function(){var b,d,f,B,g,v,y,D,L,I;s._RF.push({},"d45c0YS7cpD3J2xTbAXUFXW","UIYesNo",void 0);var k=a.ccclass,C=a.property;s._RF.push({},"55e69ZNXARDrajsIBDsGc5Z","UIYesNo",void 0);t("UIYesNo",(b=k("UIYesNo"),d=C(r),f=C({type:u}),B=C({type:u}),b(((I=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,i(n,"desLab",y,o(n)),i(n,"okBtn",D,o(n)),i(n,"noBtn",L,o(n)),n}e(n,t);var s=n.prototype;return s.onStart=function(){if(c.onRegisterBtnEvent(this.noBtn,this.onCancel,this),c.onRegisterBtnEvent(this.okBtn,this.onOk,this),this.uiData.btnLabs)if(this.uiData.btnLabs&&2===this.uiData.btnLabs.length)this.okBtn.node.active=!0,this.noBtn.node.active=!0,this.okBtn.getComponentInChildren(r).string=this.uiData.btnLabs[0],this.noBtn.getComponentInChildren(r).string=this.uiData.btnLabs[1];else{this.okBtn.node.active=!0,this.noBtn.node.active=!1,this.uiData.btnLabs&&this.uiData.btnLabs[0]&&(this.okBtn.getComponentInChildren(r).string=this.uiData.btnLabs[0]);var t=this.okBtn.node.position.clone();t.x=0,this.okBtn.node.position=t}else this.okBtn.node.active=!1,this.noBtn.node.active=!1;this.desLab.string=this.uiData.des},s.onOk=function(){this.onClose(!0)},s.onCancel=function(){this.onClose(!1)},n}(l)).uiCf={bundle:h.Start,path:"ui/UIYesNo",layer:p.Top},y=n((v=I).prototype,"desLab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(v.prototype,"okBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(v.prototype,"noBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));s._RF.pop(),s._RF.pop()}}}));

System.register("chunks:///_virtual/UnlockCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIHelp.ts","./GameCtr.ts","./Constant.ts","./TipsCtr.ts","./AudioMng.ts","./CfgMng.ts"],(function(t){var n,e,i,o,r,a,l,u,c,s,p,f,b,d,y,h,k;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,l=t._decorator,u=t.Label,c=t.Button,s=t.AudioClip,p=t.Component},function(t){f=t.default},function(t){b=t.default},function(t){d=t.EItemType},function(t){y=t.TipsCtr},function(t){h=t.AudioMng},function(t){k=t.default}],execute:function(){var g,C,m,L,v,U,_,D,B,P,w,z,N;a._RF.push({},"bfbf0rLKZpGbqN6bQtbSLK6","UnlockCard",void 0);var R=l.ccclass,A=l.property;a._RF.push({},"bfbf0rLKZpGbqN6bQtbSLK6","UnlockCard",void 0);t("UnlockCard",(g=R("UnlockCard"),C=A({type:u}),m=A({type:u}),L=A({type:u}),v=A({type:c}),U=A({type:s}),g((B=n((D=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"nameLab",B,o(n)),i(n,"desLab",P,o(n)),i(n,"needNumLab",w,o(n)),i(n,"unlockBtn",z,o(n)),i(n,"audioClip",N,o(n)),n._unlockData=null,n.onUnlockProperty=null,n}e(n,t);var a=n.prototype;return a.start=function(){f.onRegisterBtnEvent(this.unlockBtn,this.onClickUnlockBtn.bind(this),this)},a.init=function(t){var n=k.CfgPropertyUnlock.getItem(t);n?(this._unlockData=n,this.node.active=!0,this.nameLab.string=n.name,this.desLab.string=n.tips||"",this.needNumLab.string=n.unlockPrice.toString()):this.node.active=!1},a.onClickUnlockBtn=function(){if(!b.playData.addResItemNum(d.Gold,-this._unlockData.unlockPrice))return y.showTips("金币不足!"),!1;this.onUnlockProperty&&this.onUnlockProperty(this),h.playAudioClip(this.audioClip)},r(n,[{key:"unlockData",get:function(){return this._unlockData}}]),n}(p)).prototype,"nameLab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(D.prototype,"desLab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(D.prototype,"needNumLab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(D.prototype,"unlockBtn",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(D.prototype,"audioClip",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=D))||_));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/UploadFile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComFun.ts","./TipsCtr.ts"],(function(t){var e,i,n,o,c,l,s,r,p,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,c=t.createClass},function(t){l=t.cclegacy,s=t._decorator,r=t.EventHandler,p=t.Component},function(t){a=t.default},function(t){u=t.TipsCtr}],execute:function(){var h,f,d,y,v,g;l._RF.push({},"44ccaIjn5NKObTdyTtUlF2q","UploadFile",void 0);var _=s.ccclass,k=s.property,C=s.disallowMultiple;l._RF.push({},"44ccaIjn5NKObTdyTtUlF2q","UploadFile",void 0);var F=[];t("default",(h=_("UploadFile"),f=k({type:[r],tooltip:"选中回调"}),d=k({tooltip:"自动添加点击事件"}),h(y=C((g=e((v=function(t){function e(){for(var e,i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))||this)._autoClick=!1,e._input=void 0,e._prefix=void 0,n(e,"selects",g,o(e)),e}i(e,t);var l=e.prototype;return l.onDestroy=function(){var t=this._input;t&&(F.push(t),t.onchange=null,this._input=void 0)},l.click=function(){this.enabled&&this.getInput().click()},l.select=function(t,e){this.autoClick=!0,this.selects.push(a.getEventHandler(e,t))},l.onChange=function(){var t=this._input,e=t.files,i=e&&e.length;if(i&&i>0){for(var n=this._prefix,o=[],c=0;c<i;c++){var l=e[c];(!n||n.split(",").indexOf(l.name.split(".").pop())>-1)&&o.push(l)}t.value="",o.length?this.onSelect(o):u.showTips("选中的文件后缀不为"+n)}},l.onSelect=function(t){r.emitEvents.apply(r,[this.selects].concat(this.getSelData(t)))},l.getInput=function(){var t=this._input;return t||((t=this._input=F.shift()||document.createElement("input")).type="file",t.accept="*.*",t.onchange=this.onChange.bind(this)),t},l.getSelData=function(t){return[t]},c(e,[{key:"autoClick",get:function(){return this._autoClick},set:function(t){this._autoClick!==t&&(this._autoClick=t,t?a.addClick(this.node,this.click,this):a.delClick(this.node,this.click,this))}},{key:"accept",set:function(t){this.getInput().accept=t,this._prefix=""}},{key:"multiple",set:function(t){this.getInput().multiple=t}},{key:"prefix",set:function(t){this._prefix=t}}]),e}(p)).prototype,"selects",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),e(v.prototype,"autoClick",[d],Object.getOwnPropertyDescriptor(v.prototype,"autoClick"),v.prototype),y=v))||y)||y));l._RF.pop(),l._RF.pop()}}}));

System.register("chunks:///_virtual/UploadImage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UploadFile.ts"],(function(e){var t,r,n,o,a,i;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e.SpriteFrame,o=e.Texture2D,a=e.ImageAsset},function(e){i=e.default}],execute:function(){r._RF.push({},"06af3JP9WJLCqpmIPD9E60F","UploadImage",void 0),r._RF.push({},"06673EvPeJKgqsLpOAcJ98B","UploadImage",void 0);e("default",function(e){function r(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this)._spriteFrame=void 0,t}t(r,e);var i=r.prototype;return i.onLoad=function(){this.accept="image/*"},i.onDestroy=function(){e.prototype.onDestroy.call(this),this.clearSpf()},i.clearSpf=function(){var e=this._spriteFrame;e&&(e.destroy(),this._spriteFrame=void 0)},i.onSelect=function(t){var r=this,i=URL.createObjectURL(t[0]),c=new Image;c.src=i,c.onload=function(){var p=new n,s=new o;s.image=new a(c),p.texture=s,URL.revokeObjectURL(i),r.clearSpf(),r._spriteFrame=p,e.prototype.onSelect.call(r,t)}},i.getInput=function(){var t=e.prototype.getInput.call(this);return t.accept="image/*",t.multiple=!1,t},i.getSelData=function(e){return[this._spriteFrame,e[0].name]},r}(i));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/UserHead.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ComFun.ts"],(function(e){var t,r,n,i,o,s,a,c,p,u,l,f,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){a=e.cclegacy,c=e._decorator,p=e.Sprite,u=e.SpriteFrame,l=e.UITransform,f=e.Component},function(e){d=e.default}],execute:function(){var h,v,m,b,y,H,_;a._RF.push({},"49ad4vwGyFLoL4McHL07+mS","UserHead",void 0);var D=c.ccclass,U=c.property;a._RF.push({},"9bbecI1HUJH4pdZB06PGdIb","UserHead",void 0);e("default",(h=D("UserHead"),v=U({type:p,tooltip:"头像，默认从当前节点上寻找"}),m=U({type:u,tooltip:"默认头像，不设置头像时显示，默认从spHead上寻找"}),h((H=t((y=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"spHead",H,i(t)),n(t,"spfDef",_,i(t)),t._record=void 0,t._headUrl="",t}r(t,e);var a=t.prototype;return a.onDestroy=function(){this._record=void 0},a.setUrl=function(){var e=o(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&t.indexOf("http")>=0)){e.next=16;break}if(this.record(),r=this.spHead,this._headUrl=t||"",!r){e.next=14;break}if(r.sizeMode=0,n=null,!t){e.next=13;break}return e.next=10,d.loadRemoteRes(t);case 10:if(n=e.sent,this._headUrl===t){e.next=13;break}return e.abrupt("return");case 13:r.spriteFrame=n||this.spfDef;case 14:e.next=17;break;case 16:this.resetDefault();case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),a.resetDefault=function(){var e=this._record;if(this._headUrl="",e){var t=this.spHead,r=t.node;t.sizeMode=1,r.position=e[0],r.scale=e[1],t.spriteFrame=this.spfDef,r.getComponent(l).setContentSize(e[2])}},a.record=function(){var e=this.spHead||(this.spHead=this.node.getComponent(p));if(e){var t=e.node;this.spfDef||(this.spfDef=e.spriteFrame),this._record||(this._record=[t.position.clone(),t.scale.clone(),t.getComponent(l).contentSize.clone()])}},t}(f)).prototype,"spHead",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(y.prototype,"spfDef",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=y))||b));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/WaitUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,o,n,a,s,l,r,c,h,u,p;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){a=i.cclegacy,s=i._decorator,l=i.UIOpacity,r=i.Node,c=i.Label,h=i.Tween,u=i.tween,p=i.Component}],execute:function(){var b,d,g,y,f,w,v,L,_,C;a._RF.push({},"f3403+aplFMF44iiyj3losC","WaitUI",void 0);var N=s.ccclass,O=s.property;a._RF.push({},"05fb3VZroVMrKV0TAeNL+ot","WaitUI",void 0);i("WaitUI",(b=N("WaitUI"),d=O({type:l}),g=O({type:r}),y=O(c),b(((C=function(i){function t(){for(var t,e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];return t=i.call.apply(i,[this].concat(a))||this,o(t,"bgOpacity",v,n(t)),o(t,"loadingNode",L,n(t)),o(t,"showLabel",_,n(t)),t}e(t,i),t.show=function(i){t.ins&&(this._showCount++,t.ins.show(i))},t.hide=function(){t.ins&&(this._showCount--,this._showCount<=0&&(this._showCount=0,t.ins.hide()))};var a=t.prototype;return a.onLoad=function(){t.ins=this,this.hide()},a.show=function(i){var t=this;if(void 0===i&&(i="加载中"),this.node.active=!0,this.showLabel&&(this.showLabel.string=i,this.showLabel.unscheduleAllCallbacks(),i.length>0)){var e=0;this.showLabel.schedule((function(){3===e?(t.showLabel.string=i,e=0):(t.showLabel.string=t.showLabel.string.concat("."),e++)}),.5)}this.loadingNode&&(this.loadingNode.active=!1),this.bgOpacity&&(this.bgOpacity.node.active=!0,h.stopAllByTarget(this.bgOpacity),this.bgOpacity.opacity=0,u(this.bgOpacity).by(.5,{opacity:150}).call((function(){t.loadingNode&&(t.loadingNode.active=!0)})).start())},a.hide=function(){this.node.active=!1},t}(p)).ins=null,C._showCount=0,v=t((w=C).prototype,"bgOpacity",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(w.prototype,"loadingNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(w.prototype,"showLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=w))||f));a._RF.pop(),a._RF.pop()}}}));

System.register("chunks:///_virtual/WorldPageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LoadHelper.ts","./ResConfig.ts","./CfgMng.ts","./StagePoint.ts","./GameCtr.ts"],(function(t){var e,a,i,n,o,r,s,l,d,g,c,u,p,f,h,S,I,_;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Label,d=t.Node,g=t.Prefab,c=t.instantiate,u=t.isValid,p=t.Component},function(t){f=t.default},function(t){h=t.EResBundleName},function(t){S=t.default},function(t){I=t.StagePoint},function(t){_=t.default}],execute:function(){var P,m,y,b,w,v,C,N,W,x,L;r._RF.push({},"91e83s+p79MtoSWvJ5xUveX","WorldPageItem",void 0);var D=s.ccclass,z=s.property;r._RF.push({},"91e83s+p79MtoSWvJ5xUveX","WorldPageItem",void 0);t("WorldPageItem",(P=D("WorldPageItem"),m=z({type:l}),y=z({type:d}),b=z({type:g}),w=z({type:d}),P((N=e((C=function(t){function e(){for(var e,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"worldIdLab",N,n(e)),i(e,"stagePointLayer",W,n(e)),i(e,"stagePointPrefab",x,n(e)),i(e,"worldPageNode",L,n(e)),e._worldId=0,e._stagePoints=[],e._selectStageId=0,e._worldSpNode=null,e._maxCanSelectStageId=0,e}a(e,t);var r=e.prototype;return r.start=function(){},r.init=function(t){var e=this;this._worldId=t;var a=S.CfgWorld.getItem(t);this.worldIdLab.string=a.name;var i=a.stageWaveNums.length,n=0;this._maxCanSelectStageId=0,_.playData.passWorldId>=t?(n=i,this._maxCanSelectStageId=i):_.playData.passWorldId+1===t&&(n=_.playData.passStageId,this._maxCanSelectStageId=Math.min(_.playData.passStageId+1,i));for(var o=0;o<i;o++){var r=this._stagePoints[o];if(!r){var s=c(this.stagePointPrefab);this.stagePointLayer.addChild(s),r=s.getComponent(I),this._stagePoints.push(r)}var l=o+1,d=0;l<=n?d=2:l===this._maxCanSelectStageId&&(d=1),r.init(t,l,d,this.onClickPoint.bind(this))}this.selectStagePoint(this._maxCanSelectStageId),f.loadPrefab("ui/pages/battle/world"+a.prefab,h.Home).then((function(a){if(u(e)&&e._worldId===t){e._worldSpNode&&(e._worldSpNode.destroy(),e._worldSpNode=null);var i=c(a);i.parent=e.worldPageNode,e._worldSpNode=i}}))},r.onClickPoint=function(t){t.stageId>this._maxCanSelectStageId||this.selectStagePoint(t.stageId)},r.selectStagePoint=function(t){this._stagePoints[this._selectStageId-1]&&(this._stagePoints[this._selectStageId-1].isSelect=!1),this._selectStageId=t,this._stagePoints[this._selectStageId-1]&&(this._stagePoints[this._selectStageId-1].isSelect=!0)},o(e,[{key:"worldId",get:function(){return this._worldId}},{key:"stageId",get:function(){return this._selectStageId}}]),e}(p)).prototype,"worldIdLab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(C.prototype,"stagePointLayer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(C.prototype,"stagePointPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(C.prototype,"worldPageNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=C))||v));r._RF.pop(),r._RF.pop()}}}));

System.register("chunks:///_virtual/XmlHttp.ts",["cc"],(function(e){var t,o;return{setters:[function(e){t=e.cclegacy,o=e.isValid}],execute:function(){t._RF.push({},"9c9fdGdrmlAHq5VRbAzwwfa","XmlHttp",void 0),t._RF.push({},"94d94jM1Z9I7I6AxO0oK8KX","XmlHttp",void 0);e("default",new(function(){function e(){}var t=e.prototype;return t.parseParams=function(e){try{var t=[];for(var o in e)e.hasOwnProperty(o)&&t.push(o+"="+e[o]);return t.join("&")}catch(e){return""}},t.request=function(e,t,n,r,s,u){void 0===r&&(r=""),void 0===s&&(s=null),void 0===u&&(u="POST");var a=new XMLHttpRequest,i="";t&&("POST"==u?i=JSON.stringify(t):(i=this.parseParams(t),console.log("paramStr:",i),e+="?"+i)),console.log(i),a.open(u,e,!0),console.log("requst:",e),r&&a.setRequestHeader("Authorization",r),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.timeout=1e4;var c=null!=s,p=function(e){c&&!o(s)||n&&(n(e),n=void 0)};a.onreadystatechange=function(){a.readyState!=XMLHttpRequest.DONE&&4!=a.readyState||(200==Number(a.status)||0==Number(a.status)?(console.log(a.responseText),p(a.responseText)):(console.error(a),p(a.responseText)))},a.ontimeout=function(e){p()},a.onerror=function(e){p()},a.send(i)},t.downloadFile=function(e,t,o){void 0===o&&(o="GET");var n=new XMLHttpRequest;n.open(o,e,!0),console.log("requst:",e),n.timeout=1e4,n.onreadystatechange=function(){n.readyState!=XMLHttpRequest.DONE&&4!=n.readyState||(200==Number(n.status)||0==Number(n.status)?t&&t(n.response):(console.error(n),t&&t()),t=void 0)},n.ontimeout=function(e){t&&t(),t=void 0},n.onerror=function(e){t&&t(),t=void 0},n.send("")},e}()));t._RF.pop(),t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});